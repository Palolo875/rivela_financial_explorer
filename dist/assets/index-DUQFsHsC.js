var IS=Object.defineProperty;var MS=(e,t,r)=>t in e?IS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ou=(e,t,r)=>MS(e,typeof t!="symbol"?t+"":t,r);import{r as $,a as RS,R as C,g as $e,c as go}from"./vendor-DJ1oPbzn.js";import{u as gh,a as Zr,B as DS,R as LS,b as kr}from"./router-BsmW5zSK.js";import{C as FS,L as zS,m as Ae,A as St,X as BS,a as qS,S as US,b as WS}from"./ui-lWX-EDq5.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var yb={exports:{}},jc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS=$,HS=Symbol.for("react.element"),GS=Symbol.for("react.fragment"),KS=Object.prototype.hasOwnProperty,XS=VS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YS={key:!0,ref:!0,__self:!0,__source:!0};function xb(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)KS.call(t,n)&&!YS.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:HS,type:e,key:a,ref:s,props:i,_owner:XS.current}}jc.Fragment=GS;jc.jsx=xb;jc.jsxs=xb;yb.exports=jc;var o=yb.exports,bb,sp=RS;bb=sp.createRoot,sp.hydrateRoot;const JS=()=>{const{pathname:e}=gh();return $.useEffect(()=>{window.scrollTo(0,0)},[e]),null};function k({name:e,size:t=24,color:r="currentColor",className:n="",strokeWidth:i=2,...a}){const s=zS[e];return s?o.jsx(s,{size:t,color:r,strokeWidth:i,className:n,...a}):o.jsx(FS,{size:t,color:"gray",strokeWidth:i,className:n,...a})}class QS extends C.Component{constructor(r){super(r);Ou(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});Ou(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){var i;r.__ErrorBoundary=!0,this.setState({error:r,errorInfo:n}),(i=window.__COMPONENT_ERROR__)==null||i.call(window,r,n)}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50",children:o.jsxs("div",{className:"text-center p-8 max-w-md",children:[o.jsx("div",{className:"flex justify-center items-center mb-4",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48px",height:"48px",viewBox:"0 0 32 33",fill:"none",children:[o.jsx("path",{d:"M16 28.5C22.6274 28.5 28 23.1274 28 16.5C28 9.87258 22.6274 4.5 16 4.5C9.37258 4.5 4 9.87258 4 16.5C4 23.1274 9.37258 28.5 16 28.5Z",stroke:"#DC2626",strokeWidth:"2",strokeMiterlimit:"10"}),o.jsx("path",{d:"M11.5 15.5C12.3284 15.5 13 14.8284 13 14C13 13.1716 12.3284 12.5 11.5 12.5C10.6716 12.5 10 13.1716 10 14C10 14.8284 10.6716 15.5 11.5 15.5Z",fill:"#DC2626"}),o.jsx("path",{d:"M20.5 15.5C21.3284 15.5 22 14.8284 22 14C22 13.1716 21.3284 12.5 20.5 12.5C19.6716 12.5 19 13.1716 19 14C19 14.8284 19.6716 15.5 20.5 15.5Z",fill:"#DC2626"}),o.jsx("path",{d:"M21 22.5C19.9625 20.7062 18.2213 19.5 16 19.5C13.7787 19.5 12.0375 20.7062 11 22.5",stroke:"#DC2626",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),o.jsxs("div",{className:"flex flex-col gap-2 text-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-neutral-800",children:"Oups ! Une erreur s'est produite"}),o.jsx("p",{className:"text-neutral-600 text-base",children:"Nous avons rencontré un problème inattendu. Notre équipe a été automatiquement notifiée."})]}),!1,o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs("button",{onClick:this.handleRetry,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors duration-200 shadow-sm",children:[o.jsx(k,{name:"RotateCcw",size:18,color:"#fff"}),"Réessayer"]}),o.jsxs("button",{onClick:this.handleGoHome,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors duration-200 shadow-sm",children:[o.jsx(k,{name:"Home",size:18,color:"#374151"}),"Accueil"]})]})]})}):this.props.children}}var wb={exports:{}},ZS="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eA=ZS,tA=eA;function jb(){}function _b(){}_b.resetWarningCache=jb;var rA=function(){function e(n,i,a,s,l,c){if(c!==tA){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:_b,resetWarningCache:jb};return r.PropTypes=r,r};wb.exports=rA();var nA=wb.exports;const de=$e(nA);function iA(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Sb=$,aA=iA(Sb);function op(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var oA=!!(typeof window<"u"&&window.document&&window.document.createElement);function lA(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(i){return i.displayName||i.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var s=[],l;function c(){l=e(s.map(function(d){return d.props})),u.canUseDOM?t(l):r&&(l=r(l))}var u=function(d){sA(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var p=l;return l=void 0,s=[],p};var h=f.prototype;return h.UNSAFE_componentWillMount=function(){s.push(this),c()},h.componentDidUpdate=function(){c()},h.componentWillUnmount=function(){var p=s.indexOf(this);s.splice(p,1),c()},h.render=function(){return aA.createElement(a,this.props)},f}(Sb.PureComponent);return op(u,"displayName","SideEffect("+n(a)+")"),op(u,"canUseDOM",oA),u}}var cA=lA;const uA=$e(cA);var dA=typeof Element<"u",fA=typeof Map=="function",hA=typeof Set=="function",mA=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Bo(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Bo(e[n],t[n]))return!1;return!0}var a;if(fA&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;for(a=e.entries();!(n=a.next()).done;)if(!Bo(n.value[1],t.get(n.value[0])))return!1;return!0}if(hA&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(mA&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(dA&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!Bo(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var pA=function(t,r){try{return Bo(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const gA=$e(pA);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var lp=Object.getOwnPropertySymbols,vA=Object.prototype.hasOwnProperty,yA=Object.prototype.propertyIsEnumerable;function xA(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function bA(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var wA=bA()?Object.assign:function(e,t){for(var r,n=xA(e),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var s in r)vA.call(r,s)&&(n[s]=r[s]);if(lp){i=lp(r);for(var l=0;l<i.length;l++)yA.call(r,i[l])&&(n[i[l]]=r[i[l]])}}return n};const jA=$e(wA);var Dn={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},je={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(je).map(function(e){return je[e]});var He={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},rl={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},fs={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},_A=Object.keys(rl).reduce(function(e,t){return e[rl[t]]=t,e},{}),SA=[je.NOSCRIPT,je.SCRIPT,je.STYLE],hr="data-react-helmet",AA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NA=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},OA=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PA=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},cp=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},CA=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},pd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},EA=function(t){var r=bi(t,je.TITLE),n=bi(t,fs.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var i=bi(t,fs.DEFAULT_TITLE);return r||i||void 0},$A=function(t){return bi(t,fs.ON_CHANGE_CLIENT_STATE)||function(){}},Pu=function(t,r){return r.filter(function(n){return typeof n[t]<"u"}).map(function(n){return n[t]}).reduce(function(n,i){return Tt({},n,i)},{})},TA=function(t,r){return r.filter(function(n){return typeof n[je.BASE]<"u"}).map(function(n){return n[je.BASE]}).reverse().reduce(function(n,i){if(!n.length)for(var a=Object.keys(i),s=0;s<a.length;s++){var l=a[s],c=l.toLowerCase();if(t.indexOf(c)!==-1&&i[c])return n.concat(i)}return n},[])},_a=function(t,r,n){var i={};return n.filter(function(a){return Array.isArray(a[t])?!0:(typeof a[t]<"u"&&RA("Helmet: "+t+' should be of type "Array". Instead found type "'+AA(a[t])+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,s){var l={};s.filter(function(h){for(var m=void 0,p=Object.keys(h),g=0;g<p.length;g++){var v=p[g],j=v.toLowerCase();r.indexOf(j)!==-1&&!(m===He.REL&&h[m].toLowerCase()==="canonical")&&!(j===He.REL&&h[j].toLowerCase()==="stylesheet")&&(m=j),r.indexOf(v)!==-1&&(v===He.INNER_HTML||v===He.CSS_TEXT||v===He.ITEM_PROP)&&(m=v)}if(!m||!h[m])return!1;var w=h[m].toLowerCase();return i[m]||(i[m]={}),l[m]||(l[m]={}),i[m][w]?!1:(l[m][w]=!0,!0)}).reverse().forEach(function(h){return a.push(h)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=jA({},i[d],l[d]);i[d]=f}return a},[]).reverse()},bi=function(t,r){for(var n=t.length-1;n>=0;n--){var i=t[n];if(i.hasOwnProperty(r))return i[r]}return null},kA=function(t){return{baseTag:TA([He.HREF,He.TARGET],t),bodyAttributes:Pu(Dn.BODY,t),defer:bi(t,fs.DEFER),encode:bi(t,fs.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Pu(Dn.HTML,t),linkTags:_a(je.LINK,[He.REL,He.HREF],t),metaTags:_a(je.META,[He.NAME,He.CHARSET,He.HTTPEQUIV,He.PROPERTY,He.ITEM_PROP],t),noscriptTags:_a(je.NOSCRIPT,[He.INNER_HTML],t),onChangeClientState:$A(t),scriptTags:_a(je.SCRIPT,[He.SRC,He.INNER_HTML],t),styleTags:_a(je.STYLE,[He.CSS_TEXT],t),title:EA(t),titleAttributes:Pu(Dn.TITLE,t)}},gd=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){gd(t)},0)}}(),up=function(t){return clearTimeout(t)},IA=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||gd:global.requestAnimationFrame||gd,MA=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||up:global.cancelAnimationFrame||up,RA=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Sa=null,DA=function(t){Sa&&MA(Sa),t.defer?Sa=IA(function(){dp(t,function(){Sa=null})}):(dp(t),Sa=null)},dp=function(t,r){var n=t.baseTag,i=t.bodyAttributes,a=t.htmlAttributes,s=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.onChangeClientState,d=t.scriptTags,f=t.styleTags,h=t.title,m=t.titleAttributes;vd(je.BODY,i),vd(je.HTML,a),LA(h,m);var p={baseTag:ei(je.BASE,n),linkTags:ei(je.LINK,s),metaTags:ei(je.META,l),noscriptTags:ei(je.NOSCRIPT,c),scriptTags:ei(je.SCRIPT,d),styleTags:ei(je.STYLE,f)},g={},v={};Object.keys(p).forEach(function(j){var w=p[j],S=w.newTags,x=w.oldTags;S.length&&(g[j]=S),x.length&&(v[j]=p[j].oldTags)}),r&&r(),u(t,g,v)},Ab=function(t){return Array.isArray(t)?t.join(""):t},LA=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=Ab(t)),vd(je.TITLE,r)},vd=function(t,r){var n=document.getElementsByTagName(t)[0];if(n){for(var i=n.getAttribute(hr),a=i?i.split(","):[],s=[].concat(a),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],d=r[u]||"";n.getAttribute(u)!==d&&n.setAttribute(u,d),a.indexOf(u)===-1&&a.push(u);var f=s.indexOf(u);f!==-1&&s.splice(f,1)}for(var h=s.length-1;h>=0;h--)n.removeAttribute(s[h]);a.length===s.length?n.removeAttribute(hr):n.getAttribute(hr)!==l.join(",")&&n.setAttribute(hr,l.join(","))}},ei=function(t,r){var n=document.head||document.querySelector(je.HEAD),i=n.querySelectorAll(t+"["+hr+"]"),a=Array.prototype.slice.call(i),s=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(t);for(var d in c)if(c.hasOwnProperty(d))if(d===He.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===He.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(hr,"true"),a.some(function(h,m){return l=m,u.isEqualNode(h)})?a.splice(l,1):s.push(u)}),a.forEach(function(c){return c.parentNode.removeChild(c)}),s.forEach(function(c){return n.appendChild(c)}),{oldTags:a,newTags:s}},Nb=function(t){return Object.keys(t).reduce(function(r,n){var i=typeof t[n]<"u"?n+'="'+t[n]+'"':""+n;return r?r+" "+i:i},"")},FA=function(t,r,n,i){var a=Nb(n),s=Ab(r);return a?"<"+t+" "+hr+'="true" '+a+">"+pd(s,i)+"</"+t+">":"<"+t+" "+hr+'="true">'+pd(s,i)+"</"+t+">"},zA=function(t,r,n){return r.reduce(function(i,a){var s=Object.keys(a).filter(function(u){return!(u===He.INNER_HTML||u===He.CSS_TEXT)}).reduce(function(u,d){var f=typeof a[d]>"u"?d:d+'="'+pd(a[d],n)+'"';return u?u+" "+f:f},""),l=a.innerHTML||a.cssText||"",c=SA.indexOf(t)===-1;return i+"<"+t+" "+hr+'="true" '+s+(c?"/>":">"+l+"</"+t+">")},"")},Ob=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,i){return n[rl[i]||i]=t[i],n},r)},BA=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,i){return n[_A[i]||i]=t[i],n},r)},qA=function(t,r,n){var i,a=(i={key:r},i[hr]=!0,i),s=Ob(n,a);return[C.createElement(je.TITLE,s,r)]},UA=function(t,r){return r.map(function(n,i){var a,s=(a={key:i},a[hr]=!0,a);return Object.keys(n).forEach(function(l){var c=rl[l]||l;if(c===He.INNER_HTML||c===He.CSS_TEXT){var u=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:u}}else s[c]=n[l]}),C.createElement(t,s)})},Ir=function(t,r,n){switch(t){case je.TITLE:return{toComponent:function(){return qA(t,r.title,r.titleAttributes)},toString:function(){return FA(t,r.title,r.titleAttributes,n)}};case Dn.BODY:case Dn.HTML:return{toComponent:function(){return Ob(r)},toString:function(){return Nb(r)}};default:return{toComponent:function(){return UA(t,r)},toString:function(){return zA(t,r,n)}}}},Pb=function(t){var r=t.baseTag,n=t.bodyAttributes,i=t.encode,a=t.htmlAttributes,s=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.scriptTags,d=t.styleTags,f=t.title,h=f===void 0?"":f,m=t.titleAttributes;return{base:Ir(je.BASE,r,i),bodyAttributes:Ir(Dn.BODY,n,i),htmlAttributes:Ir(Dn.HTML,a,i),link:Ir(je.LINK,s,i),meta:Ir(je.META,l,i),noscript:Ir(je.NOSCRIPT,c,i),script:Ir(je.SCRIPT,u,i),style:Ir(je.STYLE,d,i),title:Ir(je.TITLE,{title:h,titleAttributes:m},i)}},WA=function(t){var r,n;return n=r=function(i){PA(a,i);function a(){return NA(this,a),CA(this,i.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(l){return!gA(this.props,l)},a.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case je.SCRIPT:case je.NOSCRIPT:return{innerHTML:c};case je.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,h=l.nestedChildren;return Tt({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[Tt({},f,this.mapNestedChildrenToProps(u,h))]),c))},a.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,h=l.newChildProps,m=l.nestedChildren;switch(d.type){case je.TITLE:return Tt({},f,(c={},c[d.type]=m,c.titleAttributes=Tt({},h),c));case je.BODY:return Tt({},f,{bodyAttributes:Tt({},h)});case je.HTML:return Tt({},f,{htmlAttributes:Tt({},h)})}return Tt({},f,(u={},u[d.type]=Tt({},h),u))},a.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=Tt({},c);return Object.keys(l).forEach(function(d){var f;u=Tt({},u,(f={},f[d]=l[d],f))}),u},a.prototype.warnOnInvalidChildren=function(l,c){return!0},a.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return C.Children.forEach(l,function(f){if(!(!f||!f.props)){var h=f.props,m=h.children,p=cp(h,["children"]),g=BA(p);switch(u.warnOnInvalidChildren(f,m),f.type){case je.LINK:case je.META:case je.NOSCRIPT:case je.SCRIPT:case je.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:g,nestedChildren:m});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:g,nestedChildren:m});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},a.prototype.render=function(){var l=this.props,c=l.children,u=cp(l,["children"]),d=Tt({},u);return c&&(d=this.mapChildrenToProps(c,d)),C.createElement(t,d)},OA(a,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),a}(C.Component),r.propTypes={base:de.object,bodyAttributes:de.object,children:de.oneOfType([de.arrayOf(de.node),de.node]),defaultTitle:de.string,defer:de.bool,encodeSpecialCharacters:de.bool,htmlAttributes:de.object,link:de.arrayOf(de.object),meta:de.arrayOf(de.object),noscript:de.arrayOf(de.object),onChangeClientState:de.func,script:de.arrayOf(de.object),style:de.arrayOf(de.object),title:de.string,titleAttributes:de.object,titleTemplate:de.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var i=t.rewind();return i||(i=Pb({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},n},VA=function(){return null},HA=uA(kA,DA,Pb)(VA),nl=WA(HA);nl.renderStatic=nl.rewind;function fp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function GA(...e){return t=>{let r=!1;const n=e.map(i=>{const a=fp(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():fp(e[i],null)}}}}function KA(e){const t=YA(e),r=$.forwardRef((n,i)=>{const{children:a,...s}=n,l=$.Children.toArray(a),c=l.find(QA);if(c){const u=c.props.children,d=l.map(f=>f===c?$.Children.count(u)>1?$.Children.only(null):$.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:i,children:$.isValidElement(u)?$.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var XA=KA("Slot");function YA(e){const t=$.forwardRef((r,n)=>{const{children:i,...a}=r;if($.isValidElement(i)){const s=eN(i),l=ZA(a,i.props);return i.type!==$.Fragment&&(l.ref=n?GA(n,s):s),$.cloneElement(i,l)}return $.Children.count(i)>1?$.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var JA=Symbol("radix.slottable");function QA(e){return $.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===JA}function ZA(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function eN(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Cb(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Cb(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ye(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Cb(e))&&(n&&(n+=" "),n+=t);return n}const hp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,mp=ye,tN=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return mp(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=hp(d)||hp(f);return i[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...a,...l}[g]):{...a,...l}[g]===v})?[...u,f,h]:u},[]);return mp(e,s,c,r==null?void 0:r.class,r==null?void 0:r.className)},vh="-",rN=e=>{const t=iN(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const l=s.split(vh);return l[0]===""&&l.length!==1&&l.shift(),Eb(l,t)||nN(s)},getConflictingClassGroupIds:(s,l)=>{const c=r[s]||[];return l&&n[s]?[...c,...n[s]]:c}}},Eb=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?Eb(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(vh);return(s=t.validators.find(({validator:l})=>l(a)))==null?void 0:s.classGroupId},pp=/^\[(.+)\]$/,nN=e=>{if(pp.test(e)){const t=pp.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},iN=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)yd(r[i],n,i,t);return n},yd=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:gp(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(aN(i)){yd(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{yd(s,gp(t,a),r,n)})})},gp=(e,t)=>{let r=e;return t.split(vh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},aN=e=>e.isThemeGetter,sN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},xd="!",bd=":",oN=bd.length,lN=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const a=[];let s=0,l=0,c=0,u;for(let p=0;p<i.length;p++){let g=i[p];if(s===0&&l===0){if(g===bd){a.push(i.slice(c,p)),c=p+oN;continue}if(g==="/"){u=p;continue}}g==="["?s++:g==="]"?s--:g==="("?l++:g===")"&&l--}const d=a.length===0?i:i.substring(c),f=cN(d),h=f!==d,m=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}};if(t){const i=t+bd,a=n;n=s=>s.startsWith(i)?a(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=a=>r({className:a,parseClassName:i})}return n},cN=e=>e.endsWith(xd)?e.substring(0,e.length-1):e.startsWith(xd)?e.substring(1):e,uN=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let a=[];return n.forEach(s=>{s[0]==="["||t[s]?(i.push(...a.sort(),s),a=[]):a.push(s)}),i.push(...a.sort()),i}},dN=e=>({cache:sN(e.cacheSize),parseClassName:lN(e),sortModifiers:uN(e),...rN(e)}),fN=/\s+/,hN=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=t,s=[],l=e.trim().split(fN);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:h,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let v=!!g,j=n(v?p.substring(0,g):p);if(!j){if(!v){c=d+(c.length>0?" "+c:c);continue}if(j=n(p),!j){c=d+(c.length>0?" "+c:c);continue}v=!1}const w=a(h).join(":"),S=m?w+xd:w,x=S+j;if(s.includes(x))continue;s.push(x);const y=i(j,v);for(let b=0;b<y.length;++b){const _=y[b];s.push(S+_)}c=d+(c.length>0?" "+c:c)}return c};function mN(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=$b(t))&&(n&&(n+=" "),n+=r);return n}const $b=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=$b(e[n]))&&(r&&(r+=" "),r+=t);return r};function pN(e,...t){let r,n,i,a=s;function s(c){const u=t.reduce((d,f)=>f(d),e());return r=dN(u),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=hN(c,r);return i(c,d),d}return function(){return a(mN.apply(null,arguments))}}const it=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Tb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,gN=/^\d+\/\d+$/,vN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,bN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ti=e=>gN.test(e),Se=e=>!!e&&!Number.isNaN(Number(e)),sn=e=>!!e&&Number.isInteger(Number(e)),Cu=e=>e.endsWith("%")&&Se(e.slice(0,-1)),Mr=e=>vN.test(e),jN=()=>!0,_N=e=>yN.test(e)&&!xN.test(e),Ib=()=>!1,SN=e=>bN.test(e),AN=e=>wN.test(e),NN=e=>!ae(e)&&!se(e),ON=e=>Zi(e,Db,Ib),ae=e=>Tb.test(e),bn=e=>Zi(e,Lb,_N),Eu=e=>Zi(e,TN,Se),vp=e=>Zi(e,Mb,Ib),PN=e=>Zi(e,Rb,AN),vo=e=>Zi(e,Fb,SN),se=e=>kb.test(e),Aa=e=>ea(e,Lb),CN=e=>ea(e,kN),yp=e=>ea(e,Mb),EN=e=>ea(e,Db),$N=e=>ea(e,Rb),yo=e=>ea(e,Fb,!0),Zi=(e,t,r)=>{const n=Tb.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},ea=(e,t,r=!1)=>{const n=kb.exec(e);return n?n[1]?t(n[1]):r:!1},Mb=e=>e==="position"||e==="percentage",Rb=e=>e==="image"||e==="url",Db=e=>e==="length"||e==="size"||e==="bg-size",Lb=e=>e==="length",TN=e=>e==="number",kN=e=>e==="family-name",Fb=e=>e==="shadow",IN=()=>{const e=it("color"),t=it("font"),r=it("text"),n=it("font-weight"),i=it("tracking"),a=it("leading"),s=it("breakpoint"),l=it("container"),c=it("spacing"),u=it("radius"),d=it("shadow"),f=it("inset-shadow"),h=it("text-shadow"),m=it("drop-shadow"),p=it("blur"),g=it("perspective"),v=it("aspect"),j=it("ease"),w=it("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],y=()=>[...x(),se,ae],b=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],A=()=>[se,ae,c],O=()=>[ti,"full","auto",...A()],T=()=>[sn,"none","subgrid",se,ae],N=()=>["auto",{span:["full",sn,se,ae]},sn,se,ae],P=()=>[sn,"auto",se,ae],E=()=>["auto","min","max","fr",se,ae],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],R=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...A()],D=()=>[ti,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],z=()=>[e,se,ae],H=()=>[...x(),yp,vp,{position:[se,ae]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",EN,ON,{size:[se,ae]}],K=()=>[Cu,Aa,bn],re=()=>["","none","full",u,se,ae],X=()=>["",Se,Aa,bn],le=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ne=()=>[Se,Cu,yp,vp],Le=()=>["","none",p,se,ae],Q=()=>["none",Se,se,ae],me=()=>["none",Se,se,ae],we=()=>[Se,se,ae],V=()=>[ti,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Mr],breakpoint:[Mr],color:[jN],container:[Mr],"drop-shadow":[Mr],ease:["in","out","in-out"],font:[NN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Mr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Mr],shadow:[Mr],spacing:["px",Se],text:[Mr],"text-shadow":[Mr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ti,ae,se,v]}],container:["container"],columns:[{columns:[Se,ae,se,l]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:y()}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[sn,"auto",se,ae]}],basis:[{basis:[ti,"full","auto",l,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Se,ti,"auto","initial","none",ae]}],grow:[{grow:["",Se,se,ae]}],shrink:[{shrink:["",Se,se,ae]}],order:[{order:[sn,"first","last","none",se,ae]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":E()}],"auto-rows":[{"auto-rows":E()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...R(),"normal"]}],"justify-self":[{"justify-self":["auto",...R()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...R(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...R(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...R(),"baseline"]}],"place-self":[{"place-self":["auto",...R()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[l,"screen",...D()]}],"min-w":[{"min-w":[l,"screen","none",...D()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[s]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",r,Aa,bn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,se,Eu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Cu,ae]}],"font-family":[{font:[CN,ae,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,se,ae]}],"line-clamp":[{"line-clamp":[Se,"none",se,Eu]}],leading:[{leading:[a,...A()]}],"list-image":[{"list-image":["none",se,ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",se,ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:[Se,"from-font","auto",se,bn]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[Se,"auto",se,ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se,ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se,ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},sn,se,ae],radial:["",se,ae],conic:[sn,se,ae]},$N,PN]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...le(),"hidden","none"]}],"divide-style":[{divide:[...le(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Se,se,ae]}],"outline-w":[{outline:["",Se,Aa,bn]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",d,yo,vo]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",f,yo,vo]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[Se,bn]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",h,yo,vo]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[Se,se,ae]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Se]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ne()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":Ne()}],"mask-image-t-to-pos":[{"mask-t-to":Ne()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":Ne()}],"mask-image-r-to-pos":[{"mask-r-to":Ne()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":Ne()}],"mask-image-b-to-pos":[{"mask-b-to":Ne()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":Ne()}],"mask-image-l-to-pos":[{"mask-l-to":Ne()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":Ne()}],"mask-image-x-to-pos":[{"mask-x-to":Ne()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":Ne()}],"mask-image-y-to-pos":[{"mask-y-to":Ne()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[se,ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ne()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[Se]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ne()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",se,ae]}],filter:[{filter:["","none",se,ae]}],blur:[{blur:Le()}],brightness:[{brightness:[Se,se,ae]}],contrast:[{contrast:[Se,se,ae]}],"drop-shadow":[{"drop-shadow":["","none",m,yo,vo]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",Se,se,ae]}],"hue-rotate":[{"hue-rotate":[Se,se,ae]}],invert:[{invert:["",Se,se,ae]}],saturate:[{saturate:[Se,se,ae]}],sepia:[{sepia:["",Se,se,ae]}],"backdrop-filter":[{"backdrop-filter":["","none",se,ae]}],"backdrop-blur":[{"backdrop-blur":Le()}],"backdrop-brightness":[{"backdrop-brightness":[Se,se,ae]}],"backdrop-contrast":[{"backdrop-contrast":[Se,se,ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Se,se,ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Se,se,ae]}],"backdrop-invert":[{"backdrop-invert":["",Se,se,ae]}],"backdrop-opacity":[{"backdrop-opacity":[Se,se,ae]}],"backdrop-saturate":[{"backdrop-saturate":[Se,se,ae]}],"backdrop-sepia":[{"backdrop-sepia":["",Se,se,ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",se,ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Se,"initial",se,ae]}],ease:[{ease:["linear","initial",j,se,ae]}],delay:[{delay:[Se,se,ae]}],animate:[{animate:["none",w,se,ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,se,ae]}],"perspective-origin":[{"perspective-origin":y()}],rotate:[{rotate:Q()}],"rotate-x":[{"rotate-x":Q()}],"rotate-y":[{"rotate-y":Q()}],"rotate-z":[{"rotate-z":Q()}],scale:[{scale:me()}],"scale-x":[{"scale-x":me()}],"scale-y":[{"scale-y":me()}],"scale-z":[{"scale-z":me()}],"scale-3d":["scale-3d"],skew:[{skew:we()}],"skew-x":[{"skew-x":we()}],"skew-y":[{"skew-y":we()}],transform:[{transform:[se,ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:V()}],"translate-x":[{"translate-x":V()}],"translate-y":[{"translate-y":V()}],"translate-z":[{"translate-z":V()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se,ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se,ae]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[Se,Aa,bn,Eu]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},MN=pN(IN);function cr(...e){return MN(ye(e))}const RN=tN("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground hover:bg-success/90",warning:"bg-warning text-warning-foreground hover:bg-warning/90",danger:"bg-error text-error-foreground hover:bg-error/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",xs:"h-8 rounded-md px-2 text-xs",xl:"h-12 rounded-md px-10 text-base"}},defaultVariants:{variant:"default",size:"default"}}),G=C.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,children:i,loading:a=!1,iconName:s=null,iconPosition:l="left",iconSize:c=null,fullWidth:u=!1,disabled:d=!1,...f},h)=>{const m=n?XA:"button",g=c||{xs:12,sm:14,default:16,lg:18,xl:20,icon:16}[r]||16,v=()=>o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),j=()=>s?o.jsx(k,{name:s,size:g,className:cr(i&&l==="left"&&"mr-2",i&&l==="right"&&"ml-2")}):null;return o.jsxs(m,{className:cr(RN({variant:t,size:r,className:e}),u&&"w-full"),ref:h,disabled:d||a,...f,children:[a&&o.jsx(v,{}),s&&l==="left"&&j(),i,s&&l==="right"&&j()]})});G.displayName="Button";const ta=()=>{const[e,t]=$.useState(!1),r=gh(),n=Zr(),i=[{id:"questions",labelFr:"Questions",path:"/financial-question-input",icon:"MessageCircle",tooltip:"Commencez votre exploration financière"},{id:"profil",labelFr:"Profil",path:"/user-profile-setup",icon:"User",tooltip:"Configurez votre profil personnel"},{id:"donnees",labelFr:"Données",path:"/financial-data-entry-dashboard",icon:"Database",tooltip:"Saisissez vos informations financières"},{id:"equation",labelFr:"Équation",path:"/personalized-financial-equation-visualization",icon:"Calculator",tooltip:"Visualisez votre formule financière personnalisée"},{id:"scenarios",labelFr:"Scénarios",path:"/interactive-scenario-simulator",icon:"TrendingUp",tooltip:"Explorez différents scénarios financiers"},{id:"apprentissage",labelFr:"Apprentissage",path:"/neuroscience-insights-library",icon:"Brain",tooltip:"Découvrez les insights neuroscientifiques"},{id:"dashboard",labelFr:"Tableau de Bord",path:"/financial-health-dashboard",icon:"BarChart3",tooltip:"Surveillez votre santé financière"}],a=c=>{n(c),t(!1)},s=()=>{t(!e)};$.useEffect(()=>{const c=()=>{window.innerWidth>=768&&t(!1)};return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const l=()=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center glass",children:o.jsx(k,{name:"TrendingUp",size:24,color:"white",strokeWidth:2.5})}),o.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-accent rounded-full flex items-center justify-center",children:o.jsx(k,{name:"Sparkles",size:10,color:"white",strokeWidth:3})})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-heading font-bold text-lg text-foreground leading-tight",children:"Rivela"}),o.jsx("span",{className:"font-caption text-xs text-text-secondary leading-tight",children:"Financial Explorer"})]})]});return o.jsxs(o.Fragment,{children:[o.jsx("header",{className:"fixed top-0 left-0 right-0 z-1000 glass border-b border-border/40",children:o.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(l,{})}),o.jsx("nav",{className:"hidden md:flex items-center space-x-1",children:i.map(c=>{const u=r.pathname===c.path;return o.jsxs("button",{onClick:()=>a(c.path),className:`
                      relative px-4 py-2 rounded-lg font-heading font-medium text-sm
                      transition-all duration-300 ease-out group
                      ${u?"bg-primary/10 text-primary glass-hover":"text-text-secondary hover:text-primary hover:bg-primary/5"}
                    `,title:c.tooltip,children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(k,{name:c.icon,size:16,color:u?"var(--color-primary)":"currentColor"}),o.jsx("span",{children:c.labelFr})]}),u&&o.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary rounded-full animate-scale-in"})]},c.id)})}),o.jsx("div",{className:"md:hidden",children:o.jsx(G,{variant:"ghost",size:"icon",onClick:s,className:"relative",children:o.jsx(k,{name:e?"X":"Menu",size:24,color:"var(--color-text-primary)"})})})]})})}),e&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-1100 bg-black/20 backdrop-blur-sm md:hidden",onClick:()=>t(!1)}),o.jsx("div",{className:"fixed top-0 left-0 h-full w-80 max-w-[85vw] z-1100 glass border-r border-border/40 md:hidden animate-slide-in",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border/20",children:[o.jsx(l,{}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>t(!1),children:o.jsx(k,{name:"X",size:24,color:"var(--color-text-primary)"})})]}),o.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:i.map(c=>{const u=r.pathname===c.path;return o.jsxs("button",{onClick:()=>a(c.path),className:`
                        w-full flex items-center space-x-3 px-4 py-3 rounded-xl
                        font-heading font-medium text-left transition-all duration-300
                        ${u?"bg-primary/10 text-primary glass-hover":"text-text-secondary hover:text-primary hover:bg-primary/5"}
                      `,children:[o.jsx(k,{name:c.icon,size:20,color:u?"var(--color-primary)":"currentColor"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-base",children:c.labelFr}),o.jsx("div",{className:"text-xs text-text-secondary/70 mt-0.5",children:c.tooltip})]}),u&&o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-scale-in"})]},c.id)})}),o.jsx("div",{className:"p-6 border-t border-border/20",children:o.jsxs("div",{className:"text-xs text-text-secondary text-center",children:["Rivela Financial Explorer",o.jsx("br",{}),"Explorez votre avenir financier"]})})]})})]})]})},ra=({currentStep:e=1,totalSteps:t=6,steps:r=[],className:n="",showLabels:i=!0,variant:a="default"})=>{const s=[{id:1,label:"Questions",description:"Exploration initiale"},{id:2,label:"Données",description:"Saisie des informations"},{id:3,label:"Équation",description:"Formule personnalisée"},{id:4,label:"Scénarios",description:"Simulation interactive"},{id:5,label:"Apprentissage",description:"Insights neuroscientifiques"},{id:6,label:"Dashboard",description:"Suivi continu"}],l=r.length>0?r:s.slice(0,t),c=(e-1)/(t-1)*100,u=f=>f<e?"completed":f===e?"current":"upcoming",d=(f,h)=>h==="completed"?"CheckCircle2":"Circle";return a==="minimal"?o.jsxs("div",{className:`w-full ${n}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"text-sm font-medium text-text-secondary",children:["Étape ",e," sur ",t]}),o.jsxs("span",{className:"text-sm font-medium text-primary",children:[Math.round(c),"%"]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary h-2 rounded-full transition-all duration-600 ease-out",style:{width:`${c}%`}})})]}):o.jsxs("div",{className:`w-full ${n}`,children:[o.jsx("div",{className:"hidden md:block",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute top-6 left-0 right-0 h-0.5 bg-muted",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-secondary transition-all duration-600 ease-out",style:{width:`${c}%`}})}),o.jsx("div",{className:"relative flex justify-between",children:l.map((f,h)=>{const m=h+1,p=u(m),g=p==="current",v=p==="completed";return o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:`
                      relative w-12 h-12 rounded-full flex items-center justify-center
                      transition-all duration-300 ease-out
                      ${v?"bg-success glass-hover":g?"bg-primary glass-hover animate-breathe":"bg-muted"}
                    `,children:[o.jsx(k,{name:d(m,p),size:20,color:p==="upcoming"?"var(--color-muted-foreground)":"white",strokeWidth:p==="current"?2.5:2}),g&&o.jsx("div",{className:"absolute -inset-1 rounded-full border-2 border-primary/30 animate-ping"})]}),i&&o.jsxs("div",{className:"mt-3 text-center max-w-24",children:[o.jsx("div",{className:`
                          text-sm font-medium font-heading
                          ${g?"text-primary":v?"text-success":"text-text-secondary"}
                        `,children:f.label}),a==="detailed"&&o.jsx("div",{className:"text-xs text-text-secondary mt-1 leading-tight",children:f.description})]})]},f.id)})})]})}),o.jsxs("div",{className:"md:hidden",children:[o.jsx("div",{className:"space-y-4",children:l.map((f,h)=>{const m=h+1,p=u(m),g=p==="current",v=p==="completed";return o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:`
                    relative w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0
                    transition-all duration-300 ease-out
                    ${v?"bg-success glass-hover":g?"bg-primary glass-hover animate-breathe":"bg-muted"}
                  `,children:[o.jsx(k,{name:d(m,p),size:18,color:p==="upcoming"?"var(--color-muted-foreground)":"white",strokeWidth:p==="current"?2.5:2}),g&&o.jsx("div",{className:"absolute -inset-1 rounded-full border-2 border-primary/30 animate-ping"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:`
                      text-base font-medium font-heading
                      ${g?"text-primary":v?"text-success":"text-text-secondary"}
                    `,children:f.label}),i&&o.jsx("div",{className:"text-sm text-text-secondary mt-0.5",children:f.description})]}),h<l.length-1&&o.jsx("div",{className:"absolute left-5 mt-10 w-0.5 h-4 bg-muted"})]},f.id)})}),o.jsxs("div",{className:"mt-6 p-4 glass rounded-xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Progression globale"}),o.jsxs("span",{className:"text-sm font-bold text-primary",children:[Math.round(c),"%"]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary h-2 rounded-full transition-all duration-600 ease-out",style:{width:`${c}%`}})})]})]})]})},na=({notifications:e=[],onDismiss:t,position:r="top",maxVisible:n=3,autoHideDelay:i=5e3,className:a=""})=>{const[s,l]=$.useState([]);$.useEffect(()=>{l(e.slice(0,n))},[e,n]);const c=f=>{const h={insight:{icon:"Lightbulb",bgColor:"bg-primary/10",borderColor:"border-primary/20",textColor:"text-primary",iconColor:"var(--color-primary)"},success:{icon:"CheckCircle2",bgColor:"bg-success/10",borderColor:"border-success/20",textColor:"text-success",iconColor:"var(--color-success)"},warning:{icon:"AlertTriangle",bgColor:"bg-warning/10",borderColor:"border-warning/20",textColor:"text-warning",iconColor:"var(--color-warning)"},error:{icon:"AlertCircle",bgColor:"bg-error/10",borderColor:"border-error/20",textColor:"text-error",iconColor:"var(--color-error)"},achievement:{icon:"Trophy",bgColor:"bg-accent/10",borderColor:"border-accent/20",textColor:"text-accent",iconColor:"var(--color-accent)"},financial:{icon:"TrendingUp",bgColor:"bg-secondary/10",borderColor:"border-secondary/20",textColor:"text-secondary",iconColor:"var(--color-secondary)"}};return h[f]||h.insight},u=f=>{l(h=>h.filter(m=>m.id!==f)),t&&t(f)},d=f=>{f.action&&f.action.handler&&f.action.handler(),u(f.id)};return $.useEffect(()=>{i>0&&s.forEach(f=>{if(!f.persistent){const h=setTimeout(()=>{u(f.id)},i);return()=>clearTimeout(h)}})},[s,i]),s.length===0?null:o.jsxs("div",{className:`
        fixed left-4 right-4 z-900 space-y-3
        ${r==="top"?"top-20":"bottom-4"}
        ${a}
      `,children:[s.map(f=>{const h=c(f.type);return o.jsxs("div",{className:`
              glass border ${h.bgColor} ${h.borderColor}
              rounded-xl p-4 shadow-glass animate-slide-in
              max-w-md mx-auto md:max-w-2xl
            `,children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex-shrink-0 mt-0.5",children:o.jsx(k,{name:h.icon,size:20,color:h.iconColor,strokeWidth:2})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[f.title&&o.jsx("div",{className:`font-heading font-semibold text-sm ${h.textColor} mb-1`,children:f.title}),o.jsx("div",{className:"text-sm text-text-primary leading-relaxed",children:f.message}),f.details&&o.jsx("div",{className:"text-xs text-text-secondary mt-2 leading-relaxed",children:f.details}),f.action&&o.jsx("div",{className:"mt-3",children:o.jsx(G,{variant:"outline",size:"sm",onClick:()=>d(f),className:"text-xs",children:f.action.label})})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>u(f.id),className:"w-8 h-8 hover:bg-black/5",children:o.jsx(k,{name:"X",size:16,color:"var(--color-text-secondary)"})})})]}),!f.persistent&&i>0&&o.jsx("div",{className:"mt-3 h-1 bg-black/5 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full ${h.bgColor.replace("/10","/30")} rounded-full animate-pulse`,style:{animation:`shrink ${i}ms linear forwards`}})})]},f.id)}),o.jsx("style",{jsx:!0,children:`
        @keyframes shrink {
          from { width: 100%; }
          to { width: 0%; }
        }
      `})]})},DN=({question:e,onQuestionChange:t,onSubmit:r,isAnalyzing:n,characterLimit:i=500})=>{const[a,s]=$.useState(0),[l,c]=$.useState(!1);$.useEffect(()=>{const h=e.length;s(h),c(h>=10&&h<=i)},[e,i]);const u=h=>{const m=h.target.value;m.length<=i&&t(m)},d=()=>{l&&!n&&r()},f=()=>{const h=a/i*100;return h<50?"text-text-secondary":h<80?"text-warning":"text-error"};return o.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[o.jsxs("div",{className:"relative glass rounded-2xl p-6 border border-border/20 shadow-glass",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium font-heading text-text-primary mb-2",children:"Posez votre question financière"}),o.jsx("p",{className:"text-xs text-text-secondary leading-relaxed",children:"Décrivez votre situation ou préoccupation financière. Plus vous êtes précis, plus l'analyse sera pertinente."})]}),o.jsxs("div",{className:"relative",children:[o.jsx("textarea",{value:e,onChange:u,placeholder:"Exemple : Pourquoi est-ce que je dépense plus le week-end ? Comment puis-je économiser pour mes vacances d'été ?",className:`w-full h-32 p-4 bg-input border border-border/30 rounded-xl resize-none
                     text-text-primary placeholder-text-secondary/60 font-body text-base
                     focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary/40
                     transition-all duration-300 ease-out`,style:{minHeight:"128px"}}),o.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center space-x-2",children:[o.jsxs("span",{className:`text-xs font-medium ${f()}`,children:[a,"/",i]}),a>=i&&o.jsx(k,{name:"AlertCircle",size:16,color:"var(--color-error)"})]})]}),e.length>0&&e.length<10&&o.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-warning",children:[o.jsx(k,{name:"AlertTriangle",size:14}),o.jsx("span",{className:"text-xs",children:"Votre question doit contenir au moins 10 caractères"})]}),o.jsx("div",{className:"hidden md:flex justify-end mt-4",children:o.jsx(G,{onClick:d,disabled:!l||n,loading:n,iconName:"Search",iconPosition:"left",className:"px-6",children:n?"Analyse en cours...":"Analyser ma question"})})]}),o.jsx("div",{className:"md:hidden fixed bottom-6 right-6 z-50",children:o.jsx(G,{onClick:d,disabled:!l||n,loading:n,size:"lg",className:"w-14 h-14 rounded-full shadow-lg glass-hover",iconName:"Search",children:o.jsx("span",{className:"sr-only",children:"Analyser ma question"})})})]})},LN=({onSuggestionSelect:e,className:t=""})=>{const r=[{id:1,text:"Pourquoi est-ce que je dépense plus le week-end ?",category:"Comportement",icon:"Calendar"},{id:2,text:"Comment puis-je économiser pour mes vacances ?",category:"Objectifs",icon:"Target"},{id:3,text:"Mes abonnements me coûtent-ils trop cher ?",category:"Dépenses",icon:"CreditCard"},{id:4,text:"Comment optimiser mon budget alimentaire ?",category:"Budget",icon:"ShoppingCart"},{id:5,text:"Dois-je rembourser mes dettes ou épargner ?",category:"Stratégie",icon:"Scale"},{id:6,text:"Pourquoi n'arrive-je pas à épargner ?",category:"Épargne",icon:"PiggyBank"},{id:7,text:"Comment gérer mes achats impulsifs ?",category:"Comportement",icon:"Zap"},{id:8,text:"Mon salaire suffit-il pour mes projets ?",category:"Planification",icon:"TrendingUp"}],n=[{name:"Comportement",color:"bg-primary/10 text-primary border-primary/20"},{name:"Objectifs",color:"bg-secondary/10 text-secondary border-secondary/20"},{name:"Dépenses",color:"bg-warning/10 text-warning border-warning/20"},{name:"Budget",color:"bg-success/10 text-success border-success/20"},{name:"Stratégie",color:"bg-accent/10 text-accent border-accent/20"},{name:"Épargne",color:"bg-purple-500/10 text-purple-600 border-purple-500/20"},{name:"Planification",color:"bg-indigo-500/10 text-indigo-600 border-indigo-500/20"}],i=a=>{const s=n.find(l=>l.name===a);return s?s.color:"bg-muted text-text-secondary border-border"};return o.jsxs("div",{className:`w-full max-w-4xl mx-auto ${t}`,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold font-heading text-text-primary mb-2",children:"Questions populaires"}),o.jsx("p",{className:"text-sm text-text-secondary",children:"Cliquez sur une suggestion pour l'utiliser comme point de départ"})]}),o.jsx("div",{className:"hidden md:grid grid-cols-2 gap-3",children:r.map(a=>o.jsx("button",{onClick:()=>e(a.text),className:`group p-4 glass border border-border/20 rounded-xl text-left
                     hover:shadow-glass-hover hover:border-primary/30 
                     transition-all duration-300 ease-out`,children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:o.jsx(k,{name:a.icon,size:18,color:"var(--color-primary)"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:`text-sm font-medium text-text-primary group-hover:text-primary
                           transition-colors duration-200 leading-relaxed`,children:a.text}),o.jsx("div",{className:"mt-2",children:o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium
                                  border ${i(a.category)}`,children:a.category})})]})]})},a.id))}),o.jsx("div",{className:"md:hidden",children:o.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-4 scrollbar-hide",children:r.map(a=>o.jsx("button",{onClick:()=>e(a.text),className:`flex-shrink-0 w-72 p-4 glass border border-border/20 rounded-xl text-left
                       hover:shadow-glass-hover hover:border-primary/30 
                       transition-all duration-300 ease-out`,children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:o.jsx(k,{name:a.icon,size:18,color:"var(--color-primary)"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-text-primary leading-relaxed",children:a.text}),o.jsx("div",{className:"mt-2",children:o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium
                                    border ${i(a.category)}`,children:a.category})})]})]})},a.id))})})]})},FN=({mood:e,onMoodChange:t,className:r=""})=>{const[n,i]=$.useState(!1),a=[{value:1,label:"Très stressé",emoji:"😰",color:"text-red-600"},{value:2,label:"Stressé",emoji:"😟",color:"text-red-500"},{value:3,label:"Inquiet",emoji:"😕",color:"text-orange-500"},{value:4,label:"Préoccupé",emoji:"😐",color:"text-yellow-500"},{value:5,label:"Neutre",emoji:"😑",color:"text-gray-500"},{value:6,label:"Calme",emoji:"🙂",color:"text-blue-500"},{value:7,label:"Confiant",emoji:"😊",color:"text-green-500"},{value:8,label:"Optimiste",emoji:"😄",color:"text-green-600"},{value:9,label:"Très confiant",emoji:"😁",color:"text-emerald-600"},{value:10,label:"Excellent",emoji:"🤩",color:"text-emerald-700"}],s=()=>a.find(u=>u.value===e)||a[4],l=u=>{const d=parseInt(u.target.value);t(d)},c=s();return o.jsx("div",{className:`w-full max-w-2xl mx-auto ${r}`,children:o.jsxs("div",{className:"glass rounded-xl p-6 border border-border/20",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(k,{name:"Heart",size:20,color:"var(--color-primary)"}),o.jsx("h3",{className:"text-lg font-semibold font-heading text-text-primary",children:"Comment vous sentez-vous financièrement ?"})]}),o.jsx("p",{className:"text-sm text-text-secondary leading-relaxed",children:"Votre état émotionnel influence vos décisions financières. Cette information nous aide à personnaliser l'analyse."})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"text-4xl mb-2",children:c.emoji}),o.jsx("div",{className:`text-lg font-medium font-heading ${c.color}`,children:c.label}),o.jsxs("div",{className:"text-sm text-text-secondary mt-1",children:["Niveau ",e,"/10"]})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx("input",{type:"range",min:"1",max:"10",value:e,onChange:l,onMouseDown:()=>i(!0),onMouseUp:()=>i(!1),onTouchStart:()=>i(!0),onTouchEnd:()=>i(!1),className:`w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer
                     slider-thumb:appearance-none slider-thumb:w-6 slider-thumb:h-6 
                     slider-thumb:rounded-full slider-thumb:bg-primary 
                     slider-thumb:cursor-pointer slider-thumb:shadow-lg
                     slider-thumb:transition-all slider-thumb:duration-200
                     hover:slider-thumb:scale-110 focus:outline-none focus:ring-2 
                     focus:ring-primary/20`,style:{background:`linear-gradient(to right, 
                var(--color-error) 0%, 
                var(--color-warning) 50%, 
                var(--color-success) 100%)`}}),o.jsx("div",{className:"flex justify-between mt-2 px-1",children:[1,2,3,4,5,6,7,8,9,10].map(u=>o.jsx("button",{onClick:()=>t(u),className:`w-2 h-2 rounded-full transition-all duration-200
                          ${u<=e?"bg-primary":"bg-muted"}
                          hover:scale-125 cursor-pointer`,title:a[u-1].label},u))})]}),o.jsxs("div",{className:"flex justify-between text-xs text-text-secondary mt-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-red-500 font-medium",children:"Stressé"}),o.jsx("div",{children:"1-3"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-yellow-500 font-medium",children:"Neutre"}),o.jsx("div",{children:"4-6"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-green-500 font-medium",children:"Confiant"}),o.jsx("div",{children:"7-10"})]})]})]})})},zN=({selectedTags:e,onTagsChange:t,className:r=""})=>{const[n,i]=$.useState("all"),a=[{id:"emotions",name:"Émotions",icon:"Heart",color:"bg-red-500/10 text-red-600 border-red-500/20"},{id:"situations",name:"Situations",icon:"MapPin",color:"bg-blue-500/10 text-blue-600 border-blue-500/20"},{id:"goals",name:"Objectifs",icon:"Target",color:"bg-green-500/10 text-green-600 border-green-500/20"},{id:"concerns",name:"Préoccupations",icon:"AlertTriangle",color:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20"}],s=[{id:"stressed",label:"Stressé(e)",category:"emotions",icon:"Frown"},{id:"anxious",label:"Anxieux/se",category:"emotions",icon:"AlertCircle"},{id:"hopeful",label:"Plein(e) d'espoir",category:"emotions",icon:"Smile"},{id:"frustrated",label:"Frustré(e)",category:"emotions",icon:"X"},{id:"motivated",label:"Motivé(e)",category:"emotions",icon:"Zap"},{id:"overwhelmed",label:"Débordé(e)",category:"emotions",icon:"Cloud"},{id:"new_job",label:"Nouveau travail",category:"situations",icon:"Briefcase"},{id:"relationship_change",label:"Changement relationnel",category:"situations",icon:"Users"},{id:"moving",label:"Déménagement",category:"situations",icon:"Home"},{id:"health_issues",label:"Problèmes de santé",category:"situations",icon:"Heart"},{id:"family_event",label:"Événement familial",category:"situations",icon:"Baby"},{id:"economic_uncertainty",label:"Incertitude économique",category:"situations",icon:"TrendingDown"},{id:"save_vacation",label:"Épargner pour vacances",category:"goals",icon:"Plane"},{id:"buy_house",label:"Acheter une maison",category:"goals",icon:"Home"},{id:"emergency_fund",label:"Fonds d'urgence",category:"goals",icon:"Shield"},{id:"retirement",label:"Retraite",category:"goals",icon:"Clock"},{id:"education",label:"Formation/Études",category:"goals",icon:"GraduationCap"},{id:"debt_free",label:"Liberté financière",category:"goals",icon:"Unlock"},{id:"overspending",label:"Dépenses excessives",category:"concerns",icon:"CreditCard"},{id:"debt_burden",label:"Endettement",category:"concerns",icon:"Minus"},{id:"income_instability",label:"Revenus instables",category:"concerns",icon:"BarChart"},{id:"inflation",label:"Inflation",category:"concerns",icon:"TrendingUp"},{id:"job_security",label:"Sécurité d'emploi",category:"concerns",icon:"Lock"},{id:"unexpected_expenses",label:"Dépenses imprévues",category:"concerns",icon:"AlertTriangle"}],l=()=>n==="all"?s:s.filter(d=>d.category===n),c=d=>{const f=e.includes(d)?e.filter(h=>h!==d):[...e,d];t(f)},u=d=>{const f=a.find(h=>h.id===d);return f?f.color:"bg-muted text-text-secondary border-border"};return o.jsx("div",{className:`w-full max-w-4xl mx-auto ${r}`,children:o.jsxs("div",{className:"glass rounded-xl p-6 border border-border/20",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(k,{name:"Tag",size:20,color:"var(--color-primary)"}),o.jsx("h3",{className:"text-lg font-semibold font-heading text-text-primary",children:"Contexte émotionnel"})]}),o.jsx("p",{className:"text-sm text-text-secondary leading-relaxed",children:"Sélectionnez les tags qui décrivent votre situation actuelle pour une analyse plus précise."})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[o.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200
                      ${n==="all"?"bg-primary text-white":"bg-muted text-text-secondary hover:bg-primary/10"}`,children:"Tous"}),a.map(d=>o.jsxs("button",{onClick:()=>i(d.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium
                        transition-all duration-200 border
                        ${n===d.id?d.color:"bg-muted text-text-secondary border-border hover:bg-primary/5"}`,children:[o.jsx(k,{name:d.icon,size:16}),o.jsx("span",{children:d.name})]},d.id))]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:l().map(d=>{const f=e.includes(d.id),h=u(d.category);return o.jsxs("button",{onClick:()=>c(d.id),className:`flex items-center space-x-2 p-3 rounded-lg text-sm font-medium
                          transition-all duration-200 border text-left
                          ${f?`${h} shadow-sm`:"bg-muted/50 text-text-secondary border-border hover:bg-primary/5 hover:border-primary/20"}`,children:[o.jsx(k,{name:d.icon,size:16,color:f?"currentColor":"var(--color-text-secondary)"}),o.jsx("span",{className:"flex-1",children:d.label}),f&&o.jsx(k,{name:"Check",size:14,color:"currentColor"})]},d.id)})}),e.length>0&&o.jsxs("div",{className:"mt-6 p-4 bg-primary/5 rounded-lg border border-primary/20",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(k,{name:"CheckCircle2",size:16,color:"var(--color-primary)"}),o.jsxs("span",{className:"text-sm font-medium text-primary",children:[e.length," tag",e.length>1?"s":""," sélectionné",e.length>1?"s":""]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(d=>{const f=s.find(h=>h.id===d);return f?o.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-md text-xs
                              font-medium border ${u(f.category)}`,children:[o.jsx(k,{name:f.icon,size:12}),o.jsx("span",{children:f.label})]},d):null})})]})]})})},BN=({questions:e,onQuestionSelect:t,onDeleteQuestion:r,className:n=""})=>{const[i,a]=$.useState(null),[s,l]=$.useState("recent"),c=p=>{const g=new Date(p),j=(new Date-g)/(1e3*60*60);return j<1?"Il y a quelques minutes":j<24?`Il y a ${Math.floor(j)} heure${Math.floor(j)>1?"s":""}`:j<168?`Il y a ${Math.floor(j/24)} jour${Math.floor(j/24)>1?"s":""}`:g.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})},u=p=>({1:"😰",2:"😟",3:"😕",4:"😐",5:"😑",6:"🙂",7:"😊",8:"😄",9:"😁",10:"🤩"})[p]||"😑",d=p=>p<=3?"text-red-500":p<=6?"text-yellow-500":"text-green-500",f=()=>{const p=[...e];switch(s){case"mood":return p.sort((g,v)=>g.mood-v.mood);case"category":return p.sort((g,v)=>(g.category||"").localeCompare(v.category||""));default:return p.sort((g,v)=>new Date(v.timestamp)-new Date(g.timestamp))}},h=p=>{a(i===p?null:p)},m=p=>{t(p.text,p.mood,p.tags)};return e.length===0?o.jsx("div",{className:`w-full max-w-4xl mx-auto ${n}`,children:o.jsxs("div",{className:"glass rounded-xl p-8 border border-border/20 text-center",children:[o.jsx(k,{name:"MessageCircle",size:48,color:"var(--color-muted-foreground)",className:"mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold font-heading text-text-primary mb-2",children:"Aucune question posée"}),o.jsx("p",{className:"text-text-secondary",children:"Vos questions précédentes apparaîtront ici pour un accès rapide et une réanalyse."})]})}):o.jsxs("div",{className:`w-full max-w-4xl mx-auto ${n}`,children:[o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(k,{name:"History",size:20,color:"var(--color-primary)"}),o.jsx("h3",{className:"text-lg font-semibold font-heading text-text-primary",children:"Historique des questions"}),o.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs font-medium rounded-full",children:e.length})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-text-secondary",children:"Trier par:"}),o.jsxs("select",{value:s,onChange:p=>l(p.target.value),className:"text-sm bg-input border border-border/30 rounded-lg px-3 py-1 text-text-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[o.jsx("option",{value:"recent",children:"Plus récent"}),o.jsx("option",{value:"mood",children:"Humeur"}),o.jsx("option",{value:"category",children:"Catégorie"})]})]})]})}),o.jsx("div",{className:"space-y-4",children:f().map(p=>{var v;const g=i===p.id;return o.jsxs("div",{className:`glass rounded-xl border border-border/20 overflow-hidden
                       hover:shadow-glass-hover transition-all duration-300`,children:[o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"text-lg",children:u(p.mood)}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm text-text-secondary mb-1",children:c(p.timestamp)}),o.jsxs("div",{className:`text-xs font-medium ${d(p.mood)}`,children:["Humeur: ",p.mood,"/10"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>h(p.id),className:"w-8 h-8",children:o.jsx(k,{name:g?"ChevronUp":"ChevronDown",size:16})}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>r(p.id),className:"w-8 h-8 text-error hover:bg-error/10",children:o.jsx(k,{name:"Trash2",size:16})})]})]}),o.jsx("div",{className:"mb-3",children:o.jsx("p",{className:"text-text-primary leading-relaxed",children:p.text})}),p.tags&&p.tags.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[p.tags.slice(0,3).map(j=>o.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs font-medium rounded-md border border-primary/20",children:j},j)),p.tags.length>3&&o.jsxs("span",{className:"px-2 py-1 bg-muted text-text-secondary text-xs font-medium rounded-md",children:["+",p.tags.length-3," autres"]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(G,{variant:"outline",size:"sm",onClick:()=>m(p),iconName:"RefreshCw",iconPosition:"left",children:"Réanalyser"}),o.jsx(G,{variant:"ghost",size:"sm",onClick:()=>t(p.text),iconName:"Copy",iconPosition:"left",children:"Réutiliser"})]})]}),g&&o.jsxs("div",{className:"border-t border-border/20 p-4 bg-muted/20",children:[p.tags&&p.tags.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-sm font-medium text-text-primary mb-2",children:"Tags contextuels:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:p.tags.map(j=>o.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs font-medium rounded-md border border-primary/20",children:j},j))})]}),p.insight&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-sm font-medium text-text-primary mb-2",children:"Aperçu de l'analyse:"}),o.jsx("p",{className:"text-sm text-text-secondary leading-relaxed",children:p.insight})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[o.jsxs("div",{className:"p-3 bg-input rounded-lg",children:[o.jsx("div",{className:"text-lg font-semibold text-primary",children:p.analysisCount||1}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Analyses"})]}),o.jsxs("div",{className:"p-3 bg-input rounded-lg",children:[o.jsx("div",{className:"text-lg font-semibold text-secondary",children:((v=p.tags)==null?void 0:v.length)||0}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Tags"})]}),o.jsxs("div",{className:"p-3 bg-input rounded-lg",children:[o.jsxs("div",{className:`text-lg font-semibold ${d(p.mood)}`,children:[p.mood,"/10"]}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Humeur"})]}),o.jsxs("div",{className:"p-3 bg-input rounded-lg",children:[o.jsx("div",{className:"text-lg font-semibold text-accent",children:p.category||"Général"}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Catégorie"})]})]})]})]},p.id)})})]})};function ge(e,t,r,n,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}function B(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}let zb=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return zb=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};function wd(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const jd=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class ve extends Error{}class bt extends ve{constructor(t,r,n,i){super(`${bt.makeMessage(t,r,n)}`),this.status=t,this.headers=i,this.requestID=i==null?void 0:i.get("x-request-id"),this.error=r;const a=r;this.code=a==null?void 0:a.code,this.param=a==null?void 0:a.param,this.type=a==null?void 0:a.type}static makeMessage(t,r,n){const i=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,r,n,i){if(!t||!i)return new _c({message:n,cause:jd(r)});const a=r==null?void 0:r.error;return t===400?new Bb(t,a,n,i):t===401?new qb(t,a,n,i):t===403?new Ub(t,a,n,i):t===404?new Wb(t,a,n,i):t===409?new Vb(t,a,n,i):t===422?new Hb(t,a,n,i):t===429?new Gb(t,a,n,i):t>=500?new Kb(t,a,n,i):new bt(t,a,n,i)}}class Zt extends bt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class _c extends bt{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class yh extends _c{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Bb extends bt{}class qb extends bt{}class Ub extends bt{}class Wb extends bt{}class Vb extends bt{}class Hb extends bt{}class Gb extends bt{}class Kb extends bt{}class Xb extends ve{constructor(){super("Could not parse response content as the length limit was reached")}}class Yb extends ve{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Ba extends Error{constructor(t){super(t)}}const qN=/^[a-z][a-z0-9+.-]*:/i,UN=e=>qN.test(e);let It=e=>(It=Array.isArray,It(e)),xp=It;function WN(e){return typeof e!="object"?{}:e??{}}function VN(e){if(!e)return!0;for(const t in e)return!1;return!0}function HN(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $u(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}const GN=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ve(`${e} must be an integer`);if(t<0)throw new ve(`${e} must be a positive integer`);return t},KN=e=>{try{return JSON.parse(e)}catch{return}},Js=e=>new Promise(t=>setTimeout(t,e)),di="5.10.2",XN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function YN(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const JN=()=>{var r;const e=YN();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":di,"X-Stainless-OS":wp(Deno.build.os),"X-Stainless-Arch":bp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((r=Deno.version)==null?void 0:r.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":di,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":di,"X-Stainless-OS":wp(globalThis.process.platform??"unknown"),"X-Stainless-Arch":bp(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=QN();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":di,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":di,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function QN(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,a=n[2]||0,s=n[3]||0;return{browser:t,version:`${i}.${a}.${s}`}}}return null}const bp=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",wp=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let jp;const ZN=()=>jp??(jp=JN());function eO(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Jb(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Qb(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Jb({start(){},async pull(r){const{done:n,value:i}=await t.next();n?r.close():r.enqueue(i)},async cancel(){var r;await((r=t.return)==null?void 0:r.call(t))}})}function Zb(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r!=null&&r.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function tO(e){var n,i;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((i=(n=e[Symbol.asyncIterator]()).return)==null?void 0:i.call(n));return}const t=e.getReader(),r=t.cancel();t.releaseLock(),await r}const rO=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),e0="RFC3986",t0=e=>String(e),_p={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:t0},nO="RFC1738";let _d=(e,t)=>(_d=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),_d(e,t));const yr=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Tu=1024,iO=(e,t,r,n,i)=>{if(e.length===0)return e;let a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let s="";for(let l=0;l<a.length;l+=Tu){const c=a.length>=Tu?a.slice(l,l+Tu):a,u=[];for(let d=0;d<c.length;++d){let f=c.charCodeAt(d);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||i===nO&&(f===40||f===41)){u[u.length]=c.charAt(d);continue}if(f<128){u[u.length]=yr[f];continue}if(f<2048){u[u.length]=yr[192|f>>6]+yr[128|f&63];continue}if(f<55296||f>=57344){u[u.length]=yr[224|f>>12]+yr[128|f>>6&63]+yr[128|f&63];continue}d+=1,f=65536+((f&1023)<<10|c.charCodeAt(d)&1023),u[u.length]=yr[240|f>>18]+yr[128|f>>12&63]+yr[128|f>>6&63]+yr[128|f&63]}s+=u.join("")}return s};function aO(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Sp(e,t){if(It(e)){const r=[];for(let n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)}const r0={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},n0=function(e,t){Array.prototype.push.apply(e,It(t)?t:[t])};let Ap;const lt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:iO,encodeValuesOnly:!1,format:e0,formatter:t0,indices:!1,serializeDate(e){return(Ap??(Ap=Function.prototype.call.bind(Date.prototype.toISOString)))(e)},skipNulls:!1,strictNullHandling:!1};function sO(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const ku={};function i0(e,t,r,n,i,a,s,l,c,u,d,f,h,m,p,g,v,j){let w=e,S=j,x=0,y=!1;for(;(S=S.get(ku))!==void 0&&!y;){const T=S.get(e);if(x+=1,typeof T<"u"){if(T===x)throw new RangeError("Cyclic object value");y=!0}typeof S.get(ku)>"u"&&(x=0)}if(typeof u=="function"?w=u(t,w):w instanceof Date?w=h==null?void 0:h(w):r==="comma"&&It(w)&&(w=Sp(w,function(T){return T instanceof Date?h==null?void 0:h(T):T})),w===null){if(a)return c&&!g?c(t,lt.encoder,v,"key",m):t;w=""}if(sO(w)||aO(w)){if(c){const T=g?t:c(t,lt.encoder,v,"key",m);return[(p==null?void 0:p(T))+"="+(p==null?void 0:p(c(w,lt.encoder,v,"value",m)))]}return[(p==null?void 0:p(t))+"="+(p==null?void 0:p(String(w)))]}const b=[];if(typeof w>"u")return b;let _;if(r==="comma"&&It(w))g&&c&&(w=Sp(w,c)),_=[{value:w.length>0?w.join(",")||null:void 0}];else if(It(u))_=u;else{const T=Object.keys(w);_=d?T.sort(d):T}const A=l?String(t).replace(/\./g,"%2E"):String(t),O=n&&It(w)&&w.length===1?A+"[]":A;if(i&&It(w)&&w.length===0)return O+"[]";for(let T=0;T<_.length;++T){const N=_[T],P=typeof N=="object"&&typeof N.value<"u"?N.value:w[N];if(s&&P===null)continue;const E=f&&l?N.replace(/\./g,"%2E"):N,M=It(w)?typeof r=="function"?r(O,E):O:O+(f?"."+E:"["+E+"]");j.set(e,x);const R=new WeakMap;R.set(ku,j),n0(b,i0(P,M,r,n,i,a,s,l,r==="comma"&&g&&It(w)?null:c,u,d,f,h,m,p,g,v,R))}return b}function oO(e=lt){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||lt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=e0;if(typeof e.format<"u"){if(!_d(_p,e.format))throw new TypeError("Unknown format option provided.");r=e.format}const n=_p[r];let i=lt.filter;(typeof e.filter=="function"||It(e.filter))&&(i=e.filter);let a;if(e.arrayFormat&&e.arrayFormat in r0?a=e.arrayFormat:"indices"in e?a=e.indices?"indices":"repeat":a=lt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const s=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:lt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:lt.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:lt.allowEmptyArrays,arrayFormat:a,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:lt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?lt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:lt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:lt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:lt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:lt.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:lt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:lt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:lt.strictNullHandling}}function lO(e,t={}){let r=e;const n=oO(t);let i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):It(n.filter)&&(a=n.filter,i=a);const s=[];if(typeof r!="object"||r===null)return"";const l=r0[n.arrayFormat],c=l==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);const u=new WeakMap;for(let h=0;h<i.length;++h){const m=i[h];n.skipNulls&&r[m]===null||n0(s,i0(r[m],m,l,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}const d=s.join(n.delimiter);let f=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),d.length>0?f+d:""}function cO(e){let t=0;for(const i of e)t+=i.length;const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}let Np;function xh(e){let t;return(Np??(t=new globalThis.TextEncoder,Np=t.encode.bind(t)))(e)}let Op;function Pp(e){let t;return(Op??(t=new globalThis.TextDecoder,Op=t.decode.bind(t)))(e)}var Dt,Lt;class Sc{constructor(){Dt.set(this,void 0),Lt.set(this,void 0),ge(this,Dt,new Uint8Array),ge(this,Lt,null)}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?xh(t):t;ge(this,Dt,cO([B(this,Dt,"f"),r]));const n=[];let i;for(;(i=uO(B(this,Dt,"f"),B(this,Lt,"f")))!=null;){if(i.carriage&&B(this,Lt,"f")==null){ge(this,Lt,i.index);continue}if(B(this,Lt,"f")!=null&&(i.index!==B(this,Lt,"f")+1||i.carriage)){n.push(Pp(B(this,Dt,"f").subarray(0,B(this,Lt,"f")-1))),ge(this,Dt,B(this,Dt,"f").subarray(B(this,Lt,"f"))),ge(this,Lt,null);continue}const a=B(this,Lt,"f")!==null?i.preceding-1:i.preceding,s=Pp(B(this,Dt,"f").subarray(0,a));n.push(s),ge(this,Dt,B(this,Dt,"f").subarray(i.index)),ge(this,Lt,null)}return n}flush(){return B(this,Dt,"f").length?this.decode(`
`):[]}}Dt=new WeakMap,Lt=new WeakMap;Sc.NEWLINE_CHARS=new Set([`
`,"\r"]);Sc.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function uO(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function dO(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}const il={off:0,error:200,warn:300,info:400,debug:500},Cp=(e,t,r)=>{if(e){if(HN(il,e))return e;vt(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(il))}`)}};function qa(){}function xo(e,t,r){return!t||il[e]>il[r]?qa:t[e].bind(t)}const fO={error:qa,warn:qa,info:qa,debug:qa};let Ep=new WeakMap;function vt(e){const t=e.logger,r=e.logLevel??"off";if(!t)return fO;const n=Ep.get(t);if(n&&n[0]===r)return n[1];const i={error:xo("error",t,r),warn:xo("warn",t,r),info:xo("info",t,r),debug:xo("debug",t,r)};return Ep.set(t,[r,i]),i}const Sn=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,r])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var Na;class wr{constructor(t,r,n){this.iterator=t,Na.set(this,void 0),this.controller=r,ge(this,Na,n)}static fromSSEResponse(t,r,n){let i=!1;const a=n?vt(n):console;async function*s(){if(i)throw new ve("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let l=!1;try{for await(const c of hO(t,r))if(!l){if(c.data.startsWith("[DONE]")){l=!0;continue}if(c.event===null||c.event.startsWith("response.")||c.event.startsWith("image_edit.")||c.event.startsWith("image_generation.")||c.event.startsWith("transcript.")){let u;try{u=JSON.parse(c.data)}catch(d){throw a.error("Could not parse message into JSON:",c.data),a.error("From chunk:",c.raw),d}if(u&&u.error)throw new bt(void 0,u.error,void 0,t.headers);yield u}else{let u;try{u=JSON.parse(c.data)}catch(d){throw console.error("Could not parse message into JSON:",c.data),console.error("From chunk:",c.raw),d}if(c.event=="error")throw new bt(void 0,u.error,u.message,void 0);yield{event:c.event,data:u}}}l=!0}catch(c){if(wd(c))return;throw c}finally{l||r.abort()}}return new wr(s,r,n)}static fromReadableStream(t,r,n){let i=!1;async function*a(){const l=new Sc,c=Zb(t);for await(const u of c)for(const d of l.decode(u))yield d;for(const u of l.flush())yield u}async function*s(){if(i)throw new ve("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let l=!1;try{for await(const c of a())l||c&&(yield JSON.parse(c));l=!0}catch(c){if(wd(c))return;throw c}finally{l||r.abort()}}return new wr(s,r,n)}[(Na=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=n.next();t.push(s),r.push(s)}return a.shift()}});return[new wr(()=>i(t),this.controller,B(this,Na,"f")),new wr(()=>i(r),this.controller,B(this,Na,"f"))]}toReadableStream(){const t=this;let r;return Jb({async start(){r=t[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:a}=await r.next();if(a)return n.close();const s=xh(JSON.stringify(i)+`
`);n.enqueue(s)}catch(i){n.error(i)}},async cancel(){var n;await((n=r.return)==null?void 0:n.call(r))}})}}async function*hO(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ve("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ve("Attempted to iterate over a response with no body");const r=new pO,n=new Sc,i=Zb(e.body);for await(const a of mO(i))for(const s of n.decode(a)){const l=r.decode(s);l&&(yield l)}for(const a of n.flush()){const s=r.decode(a);s&&(yield s)}}async function*mO(e){let t=new Uint8Array;for await(const r of e){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?xh(r):r;let i=new Uint8Array(t.length+n.length);i.set(t),i.set(n,t.length),t=i;let a;for(;(a=dO(t))!==-1;)yield t.slice(0,a),t=t.slice(a)}t.length>0&&(yield t)}class pO{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,i]=gO(t,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function gO(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}async function a0(e,t){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:a}=t,s=await(async()=>{var f;if(t.options.stream)return vt(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,e):wr.fromSSEResponse(r,t.controller,e);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const l=r.headers.get("content-type"),c=(f=l==null?void 0:l.split(";")[0])==null?void 0:f.trim();if((c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))){const h=await r.json();return s0(h,r)}return await r.text()})();return vt(e).debug(`[${n}] response parsed`,Sn({retryOfRequestLogID:i,url:r.url,status:r.status,body:s,durationMs:Date.now()-a})),s}function s0(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var Ua;class Ac extends Promise{constructor(t,r,n=a0){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,Ua.set(this,void 0),ge(this,Ua,t)}_thenUnwrap(t){return new Ac(B(this,Ua,"f"),this.responsePromise,async(r,n)=>s0(t(await this.parseResponse(r,n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(B(this,Ua,"f"),t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}Ua=new WeakMap;var bo;class o0{constructor(t,r,n,i){bo.set(this,void 0),ge(this,bo,t),this.options=i,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new ve("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await B(this,bo,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(bo=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const r of t.getPaginatedItems())yield r}}class vO extends Ac{constructor(t,r,n){super(t,r,async(i,a)=>new n(i,a.response,await a0(i,a),a.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const r of t)yield r}}class Nc extends o0{constructor(t,r,n,i){super(t,r,n,i),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class nt extends o0{constructor(t,r,n,i){super(t,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var n;const t=this.getPaginatedItems(),r=(n=t[t.length-1])==null?void 0:n.id;return r?{...this.options,query:{...WN(this.options.query),after:r}}:null}}const l0=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,r=typeof((e=t==null?void 0:t.versions)==null?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function es(e,t,r){return l0(),new File(e,t??"unknown_file",r)}function qo(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const c0=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Bn=async(e,t)=>({...e,body:await xO(e.body,t)}),$p=new WeakMap;function yO(e){const t=typeof e=="function"?e:e.fetch,r=$p.get(t);if(r)return r;const n=(async()=>{try{const i="Response"in t?t.Response:(await t("data:,")).constructor,a=new FormData;return a.toString()!==await new i(a).text()}catch{return!0}})();return $p.set(t,n),n}const xO=async(e,t)=>{if(!await yO(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const r=new FormData;return await Promise.all(Object.entries(e||{}).map(([n,i])=>Sd(r,n,i))),r},bO=e=>e instanceof Blob&&"name"in e,Sd=async(e,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")e.append(t,String(r));else if(r instanceof Response)e.append(t,es([await r.blob()],qo(r)));else if(c0(r))e.append(t,es([await new Response(Qb(r)).blob()],qo(r)));else if(bO(r))e.append(t,r,qo(r));else if(Array.isArray(r))await Promise.all(r.map(n=>Sd(e,t+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,i])=>Sd(e,`${t}[${n}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}},u0=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",wO=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&u0(e),jO=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function _O(e,t,r){if(l0(),e=await e,wO(e))return e instanceof File?e:es([await e.arrayBuffer()],e.name);if(jO(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),es(await Ad(i),t,r)}const n=await Ad(e);if(t||(t=qo(e)),!(r!=null&&r.type)){const i=n.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(r={...r,type:i})}return es(n,t,r)}async function Ad(e){var r;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(u0(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(c0(e))for await(const n of e)t.push(...await Ad(n));else{const n=(r=e==null?void 0:e.constructor)==null?void 0:r.name;throw new Error(`Unexpected data type: ${typeof e}${n?`; constructor: ${n}`:""}${SO(e)}`)}return t}function SO(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}class xe{constructor(t){this._client=t}}function d0(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Tp=Object.freeze(Object.create(null)),AO=(e=d0)=>function(r,...n){if(r.length===1)return r[0];let i=!1;const a=[],s=r.reduce((d,f,h)=>{var g;/[?#]/.test(f)&&(i=!0);const m=n[h];let p=(i?encodeURIComponent:e)(""+m);return h!==n.length&&(m==null||typeof m=="object"&&m.toString===((g=Object.getPrototypeOf(Object.getPrototypeOf(m.hasOwnProperty??Tp)??Tp))==null?void 0:g.toString))&&(p=m+"",a.push({start:d.length+f.length,length:p.length,error:`Value of type ${Object.prototype.toString.call(m).slice(8,-1)} is not a valid path parameter`})),d+f+(h===n.length?"":p)},""),l=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(l))!==null;)a.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(a.sort((d,f)=>d.start-f.start),a.length>0){let d=0;const f=a.reduce((h,m)=>{const p=" ".repeat(m.start-d),g="^".repeat(m.length);return d=m.start+m.length,h+p+g},"");throw new ve(`Path parameters result in path with invalid segments:
${a.map(h=>h.error).join(`
`)}
${s}
${f}`)}return s},te=AO(d0);let f0=class extends xe{list(t,r={},n){return this._client.getAPIList(te`/chat/completions/${t}/messages`,nt,{query:r,...n})}};function NO(e){return typeof e.parse=="function"}const al=e=>(e==null?void 0:e.role)==="assistant",h0=e=>(e==null?void 0:e.role)==="tool";var Nd,Uo,Wo,Wa,Va,Vo,Ha,zr,Ga,sl,ol,fi,m0;class bh{constructor(){Nd.add(this),this.controller=new AbortController,Uo.set(this,void 0),Wo.set(this,()=>{}),Wa.set(this,()=>{}),Va.set(this,void 0),Vo.set(this,()=>{}),Ha.set(this,()=>{}),zr.set(this,{}),Ga.set(this,!1),sl.set(this,!1),ol.set(this,!1),fi.set(this,!1),ge(this,Uo,new Promise((t,r)=>{ge(this,Wo,t,"f"),ge(this,Wa,r,"f")})),ge(this,Va,new Promise((t,r)=>{ge(this,Vo,t,"f"),ge(this,Ha,r,"f")})),B(this,Uo,"f").catch(()=>{}),B(this,Va,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},B(this,Nd,"m",m0).bind(this))},0)}_connected(){this.ended||(B(this,Wo,"f").call(this),this._emit("connect"))}get ended(){return B(this,Ga,"f")}get errored(){return B(this,sl,"f")}get aborted(){return B(this,ol,"f")}abort(){this.controller.abort()}on(t,r){return(B(this,zr,"f")[t]||(B(this,zr,"f")[t]=[])).push({listener:r}),this}off(t,r){const n=B(this,zr,"f")[t];if(!n)return this;const i=n.findIndex(a=>a.listener===r);return i>=0&&n.splice(i,1),this}once(t,r){return(B(this,zr,"f")[t]||(B(this,zr,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,n)=>{ge(this,fi,!0),t!=="error"&&this.once("error",n),this.once(t,r)})}async done(){ge(this,fi,!0),await B(this,Va,"f")}_emit(t,...r){if(B(this,Ga,"f"))return;t==="end"&&(ge(this,Ga,!0),B(this,Vo,"f").call(this));const n=B(this,zr,"f")[t];if(n&&(B(this,zr,"f")[t]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...r))),t==="abort"){const i=r[0];!B(this,fi,"f")&&!(n!=null&&n.length)&&Promise.reject(i),B(this,Wa,"f").call(this,i),B(this,Ha,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=r[0];!B(this,fi,"f")&&!(n!=null&&n.length)&&Promise.reject(i),B(this,Wa,"f").call(this,i),B(this,Ha,"f").call(this,i),this._emit("end")}}_emitFinal(){}}Uo=new WeakMap,Wo=new WeakMap,Wa=new WeakMap,Va=new WeakMap,Vo=new WeakMap,Ha=new WeakMap,zr=new WeakMap,Ga=new WeakMap,sl=new WeakMap,ol=new WeakMap,fi=new WeakMap,Nd=new WeakSet,m0=function(t){if(ge(this,sl,!0),t instanceof Error&&t.name==="AbortError"&&(t=new Zt),t instanceof Zt)return ge(this,ol,!0),this._emit("abort",t);if(t instanceof ve)return this._emit("error",t);if(t instanceof Error){const r=new ve(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new ve(String(t)))};function wh(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function Qs(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function OO(e,t){return!t||!p0(t)?{...e,choices:e.choices.map(r=>({...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:jh(e,t)}function jh(e,t){const r=e.choices.map(n=>{var i;if(n.finish_reason==="length")throw new Xb;if(n.finish_reason==="content_filter")throw new Yb;return{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:((i=n.message.tool_calls)==null?void 0:i.map(a=>CO(t,a)))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?PO(t,n.message.content):null}}});return{...e,choices:r}}function PO(e,t){var r,n;return((r=e.response_format)==null?void 0:r.type)!=="json_schema"?null:((n=e.response_format)==null?void 0:n.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function CO(e,t){var n;const r=(n=e.tools)==null?void 0:n.find(i=>{var a;return((a=i.function)==null?void 0:a.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Qs(r)?r.$parseRaw(t.function.arguments):r!=null&&r.function.strict?JSON.parse(t.function.arguments):null}}}function EO(e,t){var n;if(!e)return!1;const r=(n=e.tools)==null?void 0:n.find(i=>{var a;return((a=i.function)==null?void 0:a.name)===t.function.name});return Qs(r)||(r==null?void 0:r.function.strict)||!1}function p0(e){var t;return wh(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(r=>Qs(r)||r.type==="function"&&r.function.strict===!0))??!1}function $O(e){for(const t of e??[]){if(t.type!=="function")throw new ve(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new ve(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var At,Od,ll,Pd,Cd,Ed,g0,v0;const TO=10;class y0 extends bh{constructor(){super(...arguments),At.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var n;this._chatCompletions.push(t),this._emit("chatCompletion",t);const r=(n=t.choices[0])==null?void 0:n.message;return r&&this._addMessage(r),t}_addMessage(t,r=!0){if("content"in t||(t.content=null),this.messages.push(t),r){if(this._emit("message",t),h0(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(al(t)&&t.tool_calls)for(const n of t.tool_calls)n.type==="function"&&this._emit("functionToolCall",n.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new ve("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),B(this,At,"m",Od).call(this)}async finalMessage(){return await this.done(),B(this,At,"m",ll).call(this)}async finalFunctionToolCall(){return await this.done(),B(this,At,"m",Pd).call(this)}async finalFunctionToolCallResult(){return await this.done(),B(this,At,"m",Cd).call(this)}async totalUsage(){return await this.done(),B(this,At,"m",Ed).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const r=B(this,At,"m",ll).call(this);r&&this._emit("finalMessage",r);const n=B(this,At,"m",Od).call(this);n&&this._emit("finalContent",n);const i=B(this,At,"m",Pd).call(this);i&&this._emit("finalFunctionToolCall",i);const a=B(this,At,"m",Cd).call(this);a!=null&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some(s=>s.usage)&&this._emit("totalUsage",B(this,At,"m",Ed).call(this))}async _createChatCompletion(t,r,n){const i=n==null?void 0:n.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),B(this,At,"m",g0).call(this,r);const a=await t.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(jh(a,r))}async _runChatCompletion(t,r,n){for(const i of r.messages)this._addMessage(i,!1);return await this._createChatCompletion(t,r,n)}async _runTools(t,r,n){var m,p,g;const i="tool",{tool_choice:a="auto",stream:s,...l}=r,c=typeof a!="string"&&((m=a==null?void 0:a.function)==null?void 0:m.name),{maxChatCompletions:u=TO}=n||{},d=r.tools.map(v=>{if(Qs(v)){if(!v.$callback)throw new ve("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:v.$callback,name:v.function.name,description:v.function.description||"",parameters:v.function.parameters,parse:v.$parseRaw,strict:!0}}}return v}),f={};for(const v of d)v.type==="function"&&(f[v.function.name||v.function.function.name]=v.function);const h="tools"in r?d.map(v=>v.type==="function"?{type:"function",function:{name:v.function.name||v.function.function.name,parameters:v.function.parameters,description:v.function.description,strict:v.function.strict}}:v):void 0;for(const v of r.messages)this._addMessage(v,!1);for(let v=0;v<u;++v){const w=(p=(await this._createChatCompletion(t,{...l,tool_choice:a,tools:h,messages:[...this.messages]},n)).choices[0])==null?void 0:p.message;if(!w)throw new ve("missing message in ChatCompletion response");if(!((g=w.tool_calls)!=null&&g.length))return;for(const S of w.tool_calls){if(S.type!=="function")continue;const x=S.id,{name:y,arguments:b}=S.function,_=f[y];if(_){if(c&&c!==y){const N=`Invalid tool_call: ${JSON.stringify(y)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:i,tool_call_id:x,content:N});continue}}else{const N=`Invalid tool_call: ${JSON.stringify(y)}. Available options are: ${Object.keys(f).map(P=>JSON.stringify(P)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:x,content:N});continue}let A;try{A=NO(_)?await _.parse(b):b}catch(N){const P=N instanceof Error?N.message:String(N);this._addMessage({role:i,tool_call_id:x,content:P});continue}const O=await _.function(A,this),T=B(this,At,"m",v0).call(this,O);if(this._addMessage({role:i,tool_call_id:x,content:T}),c)return}}}}At=new WeakSet,Od=function(){return B(this,At,"m",ll).call(this).content??null},ll=function(){let t=this.messages.length;for(;t-- >0;){const r=this.messages[t];if(al(r))return{...r,content:r.content??null,refusal:r.refusal??null}}throw new ve("stream ended without producing a ChatCompletionMessage with role=assistant")},Pd=function(){var t,r;for(let n=this.messages.length-1;n>=0;n--){const i=this.messages[n];if(al(i)&&((t=i==null?void 0:i.tool_calls)!=null&&t.length))return(r=i.tool_calls.at(-1))==null?void 0:r.function}},Cd=function(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(h0(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>{var i;return n.role==="assistant"&&((i=n.tool_calls)==null?void 0:i.some(a=>a.type==="function"&&a.id===r.tool_call_id))}))return r.content}},Ed=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(t.completion_tokens+=r.completion_tokens,t.prompt_tokens+=r.prompt_tokens,t.total_tokens+=r.total_tokens);return t},g0=function(t){if(t.n!=null&&t.n>1)throw new ve("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},v0=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class _h extends y0{static runTools(t,r,n){const i=new _h,a={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,r,a)),i}_addMessage(t,r=!0){super._addMessage(t,r),al(t)&&t.content&&this._emit("content",t.content)}}const x0=1,b0=2,w0=4,j0=8,_0=16,S0=32,A0=64,N0=128,O0=256,P0=N0|O0,C0=_0|S0|P0|A0,E0=x0|b0|C0,$0=w0|j0,kO=E0|$0,ft={STR:x0,NUM:b0,ARR:w0,OBJ:j0,NULL:_0,BOOL:S0,NAN:A0,INFINITY:N0,MINUS_INFINITY:O0,INF:P0,SPECIAL:C0,ATOM:E0,COLLECTION:$0,ALL:kO};class IO extends Error{}class MO extends Error{}function RO(e,t=ft.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return DO(e.trim(),t)}const DO=(e,t)=>{const r=e.length;let n=0;const i=h=>{throw new IO(`${h} at position ${n}`)},a=h=>{throw new MO(`${h} at position ${n}`)},s=()=>(f(),n>=r&&i("Unexpected end of input"),e[n]==='"'?l():e[n]==="{"?c():e[n]==="["?u():e.substring(n,n+4)==="null"||ft.NULL&t&&r-n<4&&"null".startsWith(e.substring(n))?(n+=4,null):e.substring(n,n+4)==="true"||ft.BOOL&t&&r-n<4&&"true".startsWith(e.substring(n))?(n+=4,!0):e.substring(n,n+5)==="false"||ft.BOOL&t&&r-n<5&&"false".startsWith(e.substring(n))?(n+=5,!1):e.substring(n,n+8)==="Infinity"||ft.INFINITY&t&&r-n<8&&"Infinity".startsWith(e.substring(n))?(n+=8,1/0):e.substring(n,n+9)==="-Infinity"||ft.MINUS_INFINITY&t&&1<r-n&&r-n<9&&"-Infinity".startsWith(e.substring(n))?(n+=9,-1/0):e.substring(n,n+3)==="NaN"||ft.NAN&t&&r-n<3&&"NaN".startsWith(e.substring(n))?(n+=3,NaN):d()),l=()=>{const h=n;let m=!1;for(n++;n<r&&(e[n]!=='"'||m&&e[n-1]==="\\");)m=e[n]==="\\"?!m:!1,n++;if(e.charAt(n)=='"')try{return JSON.parse(e.substring(h,++n-Number(m)))}catch(p){a(String(p))}else if(ft.STR&t)try{return JSON.parse(e.substring(h,n-Number(m))+'"')}catch{return JSON.parse(e.substring(h,e.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},c=()=>{n++,f();const h={};try{for(;e[n]!=="}";){if(f(),n>=r&&ft.OBJ&t)return h;const m=l();f(),n++;try{const p=s();Object.defineProperty(h,m,{value:p,writable:!0,enumerable:!0,configurable:!0})}catch(p){if(ft.OBJ&t)return h;throw p}f(),e[n]===","&&n++}}catch{if(ft.OBJ&t)return h;i("Expected '}' at end of object")}return n++,h},u=()=>{n++;const h=[];try{for(;e[n]!=="]";)h.push(s()),f(),e[n]===","&&n++}catch{if(ft.ARR&t)return h;i("Expected ']' at end of array")}return n++,h},d=()=>{if(n===0){e==="-"&&ft.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e)}catch(m){if(ft.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}a(String(m))}}const h=n;for(e[n]==="-"&&n++;e[n]&&!",]}".includes(e[n]);)n++;n==r&&!(ft.NUM&t)&&i("Unterminated number literal");try{return JSON.parse(e.substring(h,n))}catch{e.substring(h,n)==="-"&&ft.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e.substring(h,e.lastIndexOf("e")))}catch(p){a(String(p))}}},f=()=>{for(;n<r&&` 
\r	`.includes(e[n]);)n++};return s()},kp=e=>RO(e,ft.ALL^ft.NUM);var at,Rr,ri,on,Iu,wo,Mu,Ru,Du,jo,Lu,Ip;class hs extends y0{constructor(t){super(),at.add(this),Rr.set(this,void 0),ri.set(this,void 0),on.set(this,void 0),ge(this,Rr,t),ge(this,ri,[])}get currentChatCompletionSnapshot(){return B(this,on,"f")}static fromReadableStream(t){const r=new hs(null);return r._run(()=>r._fromReadableStream(t)),r}static createChatCompletion(t,r,n){const i=new hs(r);return i._run(()=>i._runChatCompletion(t,{...r,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(t,r,n){var s;super._createChatCompletion;const i=n==null?void 0:n.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),B(this,at,"m",Iu).call(this);const a=await t.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const l of a)B(this,at,"m",Mu).call(this,l);if((s=a.controller.signal)!=null&&s.aborted)throw new Zt;return this._addChatCompletion(B(this,at,"m",jo).call(this))}async _fromReadableStream(t,r){var s;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),B(this,at,"m",Iu).call(this),this._connected();const i=wr.fromReadableStream(t,this.controller);let a;for await(const l of i)a&&a!==l.id&&this._addChatCompletion(B(this,at,"m",jo).call(this)),B(this,at,"m",Mu).call(this,l),a=l.id;if((s=i.controller.signal)!=null&&s.aborted)throw new Zt;return this._addChatCompletion(B(this,at,"m",jo).call(this))}[(Rr=new WeakMap,ri=new WeakMap,on=new WeakMap,at=new WeakSet,Iu=function(){this.ended||ge(this,on,void 0)},wo=function(r){let n=B(this,ri,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},B(this,ri,"f")[r.index]=n,n)},Mu=function(r){var i,a,s,l,c,u,d,f,h,m,p,g,v,j,w;if(this.ended)return;const n=B(this,at,"m",Ip).call(this,r);this._emit("chunk",r,n);for(const S of r.choices){const x=n.choices[S.index];S.delta.content!=null&&((i=x.message)==null?void 0:i.role)==="assistant"&&((a=x.message)!=null&&a.content)&&(this._emit("content",S.delta.content,x.message.content),this._emit("content.delta",{delta:S.delta.content,snapshot:x.message.content,parsed:x.message.parsed})),S.delta.refusal!=null&&((s=x.message)==null?void 0:s.role)==="assistant"&&((l=x.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:S.delta.refusal,snapshot:x.message.refusal}),((c=S.logprobs)==null?void 0:c.content)!=null&&((u=x.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(d=S.logprobs)==null?void 0:d.content,snapshot:((f=x.logprobs)==null?void 0:f.content)??[]}),((h=S.logprobs)==null?void 0:h.refusal)!=null&&((m=x.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(p=S.logprobs)==null?void 0:p.refusal,snapshot:((g=x.logprobs)==null?void 0:g.refusal)??[]});const y=B(this,at,"m",wo).call(this,x);x.finish_reason&&(B(this,at,"m",Du).call(this,x),y.current_tool_call_index!=null&&B(this,at,"m",Ru).call(this,x,y.current_tool_call_index));for(const b of S.delta.tool_calls??[])y.current_tool_call_index!==b.index&&(B(this,at,"m",Du).call(this,x),y.current_tool_call_index!=null&&B(this,at,"m",Ru).call(this,x,y.current_tool_call_index)),y.current_tool_call_index=b.index;for(const b of S.delta.tool_calls??[]){const _=(v=x.message.tool_calls)==null?void 0:v[b.index];_!=null&&_.type&&((_==null?void 0:_.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(j=_.function)==null?void 0:j.name,index:b.index,arguments:_.function.arguments,parsed_arguments:_.function.parsed_arguments,arguments_delta:((w=b.function)==null?void 0:w.arguments)??""}):(_==null||_.type,void 0))}}},Ru=function(r,n){var s,l,c;if(B(this,at,"m",wo).call(this,r).done_tool_calls.has(n))return;const a=(s=r.message.tool_calls)==null?void 0:s[n];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const u=(c=(l=B(this,Rr,"f"))==null?void 0:l.tools)==null?void 0:c.find(d=>d.type==="function"&&d.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:n,arguments:a.function.arguments,parsed_arguments:Qs(u)?u.$parseRaw(a.function.arguments):u!=null&&u.function.strict?JSON.parse(a.function.arguments):null})}else a.type},Du=function(r){var i,a;const n=B(this,at,"m",wo).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;const s=B(this,at,"m",Lu).call(this);this._emit("content.done",{content:r.message.content,parsed:s?s.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),(i=r.logprobs)!=null&&i.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),(a=r.logprobs)!=null&&a.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},jo=function(){if(this.ended)throw new ve("stream has ended, this shouldn't happen");const r=B(this,on,"f");if(!r)throw new ve("request ended without sending any chunks");return ge(this,on,void 0),ge(this,ri,[]),LO(r,B(this,Rr,"f"))},Lu=function(){var n;const r=(n=B(this,Rr,"f"))==null?void 0:n.response_format;return wh(r)?r:null},Ip=function(r){var n,i,a,s;let l=B(this,on,"f");const{choices:c,...u}=r;l?Object.assign(l,u):l=ge(this,on,{...u,choices:[]});for(const{delta:d,finish_reason:f,index:h,logprobs:m=null,...p}of r.choices){let g=l.choices[h];if(g||(g=l.choices[h]={finish_reason:f,index:h,message:{},logprobs:m,...p}),m)if(!g.logprobs)g.logprobs=Object.assign({},m);else{const{content:b,refusal:_,...A}=m;Object.assign(g.logprobs,A),b&&((n=g.logprobs).content??(n.content=[]),g.logprobs.content.push(...b)),_&&((i=g.logprobs).refusal??(i.refusal=[]),g.logprobs.refusal.push(..._))}if(f&&(g.finish_reason=f,B(this,Rr,"f")&&p0(B(this,Rr,"f")))){if(f==="length")throw new Xb;if(f==="content_filter")throw new Yb}if(Object.assign(g,p),!d)continue;const{content:v,refusal:j,function_call:w,role:S,tool_calls:x,...y}=d;if(Object.assign(g.message,y),j&&(g.message.refusal=(g.message.refusal||"")+j),S&&(g.message.role=S),w&&(g.message.function_call?(w.name&&(g.message.function_call.name=w.name),w.arguments&&((a=g.message.function_call).arguments??(a.arguments=""),g.message.function_call.arguments+=w.arguments)):g.message.function_call=w),v&&(g.message.content=(g.message.content||"")+v,!g.message.refusal&&B(this,at,"m",Lu).call(this)&&(g.message.parsed=kp(g.message.content))),x){g.message.tool_calls||(g.message.tool_calls=[]);for(const{index:b,id:_,type:A,function:O,...T}of x){const N=(s=g.message.tool_calls)[b]??(s[b]={});Object.assign(N,T),_&&(N.id=_),A&&(N.type=A),O&&(N.function??(N.function={name:O.name??"",arguments:""})),O!=null&&O.name&&(N.function.name=O.name),O!=null&&O.arguments&&(N.function.arguments+=O.arguments,EO(B(this,Rr,"f"),N)&&(N.function.parsed_arguments=kp(N.function.arguments)))}}}return l},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("chunk",i=>{const a=r.shift();a?a.resolve(i):t.push(i)}),this.on("end",()=>{n=!0;for(const i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(const a of r)a.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(const a of r)a.reject(i);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((a,s)=>r.push({resolve:a,reject:s})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new wr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function LO(e,t){const{id:r,choices:n,created:i,model:a,system_fingerprint:s,...l}=e,c={...l,id:r,choices:n.map(({message:u,finish_reason:d,index:f,logprobs:h,...m})=>{if(!d)throw new ve(`missing finish_reason for choice ${f}`);const{content:p=null,function_call:g,tool_calls:v,...j}=u,w=u.role;if(!w)throw new ve(`missing role for choice ${f}`);if(g){const{arguments:S,name:x}=g;if(S==null)throw new ve(`missing function_call.arguments for choice ${f}`);if(!x)throw new ve(`missing function_call.name for choice ${f}`);return{...m,message:{content:p,function_call:{arguments:S,name:x},role:w,refusal:u.refusal??null},finish_reason:d,index:f,logprobs:h}}return v?{...m,index:f,finish_reason:d,logprobs:h,message:{...j,role:w,content:p,refusal:u.refusal??null,tool_calls:v.map((S,x)=>{const{function:y,type:b,id:_,...A}=S,{arguments:O,name:T,...N}=y||{};if(_==null)throw new ve(`missing choices[${f}].tool_calls[${x}].id
${_o(e)}`);if(b==null)throw new ve(`missing choices[${f}].tool_calls[${x}].type
${_o(e)}`);if(T==null)throw new ve(`missing choices[${f}].tool_calls[${x}].function.name
${_o(e)}`);if(O==null)throw new ve(`missing choices[${f}].tool_calls[${x}].function.arguments
${_o(e)}`);return{...A,id:_,type:b,function:{...N,name:T,arguments:O}}})}}:{...m,message:{...j,content:p,role:w,refusal:u.refusal??null},finish_reason:d,index:f,logprobs:h}}),created:i,model:a,object:"chat.completion",...s?{system_fingerprint:s}:{}};return OO(c,t)}function _o(e){return JSON.stringify(e)}class cl extends hs{static fromReadableStream(t){const r=new cl(null);return r._run(()=>r._fromReadableStream(t)),r}static runTools(t,r,n){const i=new cl(r),a={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,r,a)),i}}let Sh=class extends xe{constructor(){super(...arguments),this.messages=new f0(this._client)}create(t,r){return this._client.post("/chat/completions",{body:t,...r,stream:t.stream??!1})}retrieve(t,r){return this._client.get(te`/chat/completions/${t}`,r)}update(t,r,n){return this._client.post(te`/chat/completions/${t}`,{body:r,...n})}list(t={},r){return this._client.getAPIList("/chat/completions",nt,{query:t,...r})}delete(t,r){return this._client.delete(te`/chat/completions/${t}`,r)}parse(t,r){return $O(t.tools),this._client.chat.completions.create(t,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(n=>jh(n,t))}runTools(t,r){return t.stream?cl.runTools(this._client,t,r):_h.runTools(this._client,t,r)}stream(t,r){return hs.createChatCompletion(this._client,t,r)}};Sh.Messages=f0;class Ah extends xe{constructor(){super(...arguments),this.completions=new Sh(this._client)}}Ah.Completions=Sh;const T0=Symbol("brand.privateNullableHeaders");function*FO(e){if(!e)return;if(T0 in e){const{values:n,nulls:i}=e;yield*n.entries();for(const a of i)yield[a,null];return}let t=!1,r;e instanceof Headers?r=e.entries():xp(e)?r=e:(t=!0,r=Object.entries(e??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=xp(n[1])?n[1]:[n[1]];let s=!1;for(const l of a)l!==void 0&&(t&&!s&&(s=!0,yield[i,null]),yield[i,l])}}const fe=e=>{const t=new Headers,r=new Set;for(const n of e){const i=new Set;for(const[a,s]of FO(n)){const l=a.toLowerCase();i.has(l)||(t.delete(a),i.add(l)),s===null?(t.delete(a),r.add(l)):(t.append(a,s),r.delete(l))}}return{[T0]:!0,values:t,nulls:r}};class k0 extends xe{create(t,r){return this._client.post("/audio/speech",{body:t,...r,headers:fe([{Accept:"application/octet-stream"},r==null?void 0:r.headers]),__binaryResponse:!0})}}class I0 extends xe{create(t,r){return this._client.post("/audio/transcriptions",Bn({body:t,...r,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class M0 extends xe{create(t,r){return this._client.post("/audio/translations",Bn({body:t,...r,__metadata:{model:t.model}},this._client))}}class Zs extends xe{constructor(){super(...arguments),this.transcriptions=new I0(this._client),this.translations=new M0(this._client),this.speech=new k0(this._client)}}Zs.Transcriptions=I0;Zs.Translations=M0;Zs.Speech=k0;class R0 extends xe{create(t,r){return this._client.post("/batches",{body:t,...r})}retrieve(t,r){return this._client.get(te`/batches/${t}`,r)}list(t={},r){return this._client.getAPIList("/batches",nt,{query:t,...r})}cancel(t,r){return this._client.post(te`/batches/${t}/cancel`,r)}}class D0 extends xe{create(t,r){return this._client.post("/assistants",{body:t,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,r){return this._client.get(te`/assistants/${t}`,{...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,r,n){return this._client.post(te`/assistants/${t}`,{body:r,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(t={},r){return this._client.getAPIList("/assistants",nt,{query:t,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,r){return this._client.delete(te`/assistants/${t}`,{...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class L0 extends xe{create(t,r){return this._client.post("/realtime/sessions",{body:t,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class F0 extends xe{create(t,r){return this._client.post("/realtime/transcription_sessions",{body:t,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Oc extends xe{constructor(){super(...arguments),this.sessions=new L0(this._client),this.transcriptionSessions=new F0(this._client)}}Oc.Sessions=L0;Oc.TranscriptionSessions=F0;class z0 extends xe{create(t,r,n){return this._client.post(te`/threads/${t}/messages`,{body:r,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,r,n){const{thread_id:i}=r;return this._client.get(te`/threads/${i}/messages/${t}`,{...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,r,n){const{thread_id:i,...a}=r;return this._client.post(te`/threads/${i}/messages/${t}`,{body:a,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(t,r={},n){return this._client.getAPIList(te`/threads/${t}/messages`,nt,{query:r,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,r,n){const{thread_id:i}=r;return this._client.delete(te`/threads/${i}/messages/${t}`,{...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class B0 extends xe{retrieve(t,r,n){const{thread_id:i,run_id:a,...s}=r;return this._client.get(te`/threads/${i}/runs/${a}/steps/${t}`,{query:s,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(t,r,n){const{thread_id:i,...a}=r;return this._client.getAPIList(te`/threads/${i}/runs/${t}/steps`,nt,{query:a,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}const zO=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t.charCodeAt(i);return Array.from(new Float32Array(n.buffer))}};var Fu={};const ni=e=>{var t,r,n,i;if(typeof globalThis.process<"u")return((t=Fu==null?void 0:Fu[e])==null?void 0:t.trim())??void 0;if(typeof globalThis.Deno<"u")return(i=(n=(r=globalThis.Deno.env)==null?void 0:r.get)==null?void 0:n.call(r,e))==null?void 0:i.trim()};var yt,En,$d,xr,Ho,ar,$n,mi,Pn,ul,zt,Go,Ko,ts,Ka,Xa,Mp,Rp,Dp,Lp,Fp,zp,Bp;class rs extends bh{constructor(){super(...arguments),yt.add(this),$d.set(this,[]),xr.set(this,{}),Ho.set(this,{}),ar.set(this,void 0),$n.set(this,void 0),mi.set(this,void 0),Pn.set(this,void 0),ul.set(this,void 0),zt.set(this,void 0),Go.set(this,void 0),Ko.set(this,void 0),ts.set(this,void 0)}[($d=new WeakMap,xr=new WeakMap,Ho=new WeakMap,ar=new WeakMap,$n=new WeakMap,mi=new WeakMap,Pn=new WeakMap,ul=new WeakMap,zt=new WeakMap,Go=new WeakMap,Ko=new WeakMap,ts=new WeakMap,yt=new WeakSet,Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("event",i=>{const a=r.shift();a?a.resolve(i):t.push(i)}),this.on("end",()=>{n=!0;for(const i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(const a of r)a.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(const a of r)a.reject(i);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((a,s)=>r.push({resolve:a,reject:s})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const r=new En;return r._run(()=>r._fromReadableStream(t)),r}async _fromReadableStream(t,r){var a;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=wr.fromReadableStream(t,this.controller);for await(const s of i)B(this,yt,"m",Ka).call(this,s);if((a=i.controller.signal)!=null&&a.aborted)throw new Zt;return this._addRun(B(this,yt,"m",Xa).call(this))}toReadableStream(){return new wr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,r,n,i){const a=new En;return a._run(()=>a._runToolAssistantStream(t,r,n,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(t,r,n,i){var c;const a=i==null?void 0:i.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},l=await t.submitToolOutputs(r,s,{...i,signal:this.controller.signal});this._connected();for await(const u of l)B(this,yt,"m",Ka).call(this,u);if((c=l.controller.signal)!=null&&c.aborted)throw new Zt;return this._addRun(B(this,yt,"m",Xa).call(this))}static createThreadAssistantStream(t,r,n){const i=new En;return i._run(()=>i._threadAssistantStream(t,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(t,r,n,i){const a=new En;return a._run(()=>a._runAssistantStream(t,r,n,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return B(this,Go,"f")}currentRun(){return B(this,Ko,"f")}currentMessageSnapshot(){return B(this,ar,"f")}currentRunStepSnapshot(){return B(this,ts,"f")}async finalRunSteps(){return await this.done(),Object.values(B(this,xr,"f"))}async finalMessages(){return await this.done(),Object.values(B(this,Ho,"f"))}async finalRun(){if(await this.done(),!B(this,$n,"f"))throw Error("Final run was not received.");return B(this,$n,"f")}async _createThreadAssistantStream(t,r,n){var l;const i=n==null?void 0:n.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},s=await t.createAndRun(a,{...n,signal:this.controller.signal});this._connected();for await(const c of s)B(this,yt,"m",Ka).call(this,c);if((l=s.controller.signal)!=null&&l.aborted)throw new Zt;return this._addRun(B(this,yt,"m",Xa).call(this))}async _createAssistantStream(t,r,n,i){var c;const a=i==null?void 0:i.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},l=await t.create(r,s,{...i,signal:this.controller.signal});this._connected();for await(const u of l)B(this,yt,"m",Ka).call(this,u);if((c=l.controller.signal)!=null&&c.aborted)throw new Zt;return this._addRun(B(this,yt,"m",Xa).call(this))}static accumulateDelta(t,r){for(const[n,i]of Object.entries(r)){if(!t.hasOwnProperty(n)){t[n]=i;continue}let a=t[n];if(a==null){t[n]=i;continue}if(n==="index"||n==="type"){t[n]=i;continue}if(typeof a=="string"&&typeof i=="string")a+=i;else if(typeof a=="number"&&typeof i=="number")a+=i;else if($u(a)&&$u(i))a=this.accumulateDelta(a,i);else if(Array.isArray(a)&&Array.isArray(i)){if(a.every(s=>typeof s=="string"||typeof s=="number")){a.push(...i);continue}for(const s of i){if(!$u(s))throw new Error(`Expected array delta entry to be an object but got: ${s}`);const l=s.index;if(l==null)throw console.error(s),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const c=a[l];c==null?a.push(s):a[l]=this.accumulateDelta(c,s)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${i}, accValue: ${a}`);t[n]=a}return t}_addRun(t){return t}async _threadAssistantStream(t,r,n){return await this._createThreadAssistantStream(r,t,n)}async _runAssistantStream(t,r,n,i){return await this._createAssistantStream(r,t,n,i)}async _runToolAssistantStream(t,r,n,i){return await this._createToolAssistantStream(r,t,n,i)}}En=rs,Ka=function(t){if(!this.ended)switch(ge(this,Go,t),B(this,yt,"m",Dp).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":B(this,yt,"m",Bp).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":B(this,yt,"m",Rp).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":B(this,yt,"m",Mp).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Xa=function(){if(this.ended)throw new ve("stream has ended, this shouldn't happen");if(!B(this,$n,"f"))throw Error("Final run has not been received");return B(this,$n,"f")},Mp=function(t){const[r,n]=B(this,yt,"m",Fp).call(this,t,B(this,ar,"f"));ge(this,ar,r),B(this,Ho,"f")[r.id]=r;for(const i of n){const a=r.content[i.index];(a==null?void 0:a.type)=="text"&&this._emit("textCreated",a.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,r),t.data.delta.content)for(const i of t.data.delta.content){if(i.type=="text"&&i.text){let a=i.text,s=r.content[i.index];if(s&&s.type=="text")this._emit("textDelta",a,s.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=B(this,mi,"f")){if(B(this,Pn,"f"))switch(B(this,Pn,"f").type){case"text":this._emit("textDone",B(this,Pn,"f").text,B(this,ar,"f"));break;case"image_file":this._emit("imageFileDone",B(this,Pn,"f").image_file,B(this,ar,"f"));break}ge(this,mi,i.index)}ge(this,Pn,r.content[i.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(B(this,mi,"f")!==void 0){const i=t.data.content[B(this,mi,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,B(this,ar,"f"));break;case"text":this._emit("textDone",i.text,B(this,ar,"f"));break}}B(this,ar,"f")&&this._emit("messageDone",t.data),ge(this,ar,void 0)}},Rp=function(t){const r=B(this,yt,"m",Lp).call(this,t);switch(ge(this,ts,r),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const n=t.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const a of n.step_details.tool_calls)a.index==B(this,ul,"f")?this._emit("toolCallDelta",a,r.step_details.tool_calls[a.index]):(B(this,zt,"f")&&this._emit("toolCallDone",B(this,zt,"f")),ge(this,ul,a.index),ge(this,zt,r.step_details.tool_calls[a.index]),B(this,zt,"f")&&this._emit("toolCallCreated",B(this,zt,"f")));this._emit("runStepDelta",t.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ge(this,ts,void 0),t.data.step_details.type=="tool_calls"&&B(this,zt,"f")&&(this._emit("toolCallDone",B(this,zt,"f")),ge(this,zt,void 0)),this._emit("runStepDone",t.data,r);break}},Dp=function(t){B(this,$d,"f").push(t),this._emit("event",t)},Lp=function(t){switch(t.event){case"thread.run.step.created":return B(this,xr,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let r=B(this,xr,"f")[t.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=t.data;if(n.delta){const i=En.accumulateDelta(r,n.delta);B(this,xr,"f")[t.data.id]=i}return B(this,xr,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":B(this,xr,"f")[t.data.id]=t.data;break}if(B(this,xr,"f")[t.data.id])return B(this,xr,"f")[t.data.id];throw new Error("No snapshot available")},Fp=function(t,r){let n=[];switch(t.event){case"thread.message.created":return[t.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=t.data;if(i.delta.content)for(const a of i.delta.content)if(a.index in r.content){let s=r.content[a.index];r.content[a.index]=B(this,yt,"m",zp).call(this,a,s)}else r.content[a.index]=a,n.push(a);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},zp=function(t,r){return En.accumulateDelta(r,t)},Bp=function(t){switch(ge(this,Ko,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":ge(this,$n,t.data),B(this,zt,"f")&&(this._emit("toolCallDone",B(this,zt,"f")),ge(this,zt,void 0));break}};let Nh=class extends xe{constructor(){super(...arguments),this.steps=new B0(this._client)}create(t,r,n){const{include:i,...a}=r;return this._client.post(te`/threads/${t}/runs`,{query:{include:i},body:a,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:r.stream??!1})}retrieve(t,r,n){const{thread_id:i}=r;return this._client.get(te`/threads/${i}/runs/${t}`,{...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,r,n){const{thread_id:i,...a}=r;return this._client.post(te`/threads/${i}/runs/${t}`,{body:a,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(t,r={},n){return this._client.getAPIList(te`/threads/${t}/runs`,nt,{query:r,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}cancel(t,r,n){const{thread_id:i}=r;return this._client.post(te`/threads/${i}/runs/${t}/cancel`,{...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}async createAndPoll(t,r,n){const i=await this.create(t,r,n);return await this.poll(i.id,{thread_id:t},n)}createAndStream(t,r,n){return rs.createAssistantStream(t,this._client.beta.threads.runs,r,n)}async poll(t,r,n){var a;const i=fe([n==null?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((a=n==null?void 0:n.pollIntervalMs)==null?void 0:a.toString())??void 0}]);for(;;){const{data:s,response:l}=await this.retrieve(t,r,{...n,headers:{...n==null?void 0:n.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(n!=null&&n.pollIntervalMs)c=n.pollIntervalMs;else{const u=l.headers.get("openai-poll-after-ms");if(u){const d=parseInt(u);isNaN(d)||(c=d)}}await Js(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(t,r,n){return rs.createAssistantStream(t,this._client.beta.threads.runs,r,n)}submitToolOutputs(t,r,n){const{thread_id:i,...a}=r;return this._client.post(te`/threads/${i}/runs/${t}/submit_tool_outputs`,{body:a,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:r.stream??!1})}async submitToolOutputsAndPoll(t,r,n){const i=await this.submitToolOutputs(t,r,n);return await this.poll(i.id,r,n)}submitToolOutputsStream(t,r,n){return rs.createToolAssistantStream(t,this._client.beta.threads.runs,r,n)}};Nh.Steps=B0;class Pc extends xe{constructor(){super(...arguments),this.runs=new Nh(this._client),this.messages=new z0(this._client)}create(t={},r){return this._client.post("/threads",{body:t,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,r){return this._client.get(te`/threads/${t}`,{...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,r,n){return this._client.post(te`/threads/${t}`,{body:r,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,r){return this._client.delete(te`/threads/${t}`,{...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}createAndRun(t,r){return this._client.post("/threads/runs",{body:t,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:t.stream??!1})}async createAndRunPoll(t,r){const n=await this.createAndRun(t,r);return await this.runs.poll(n.id,{thread_id:n.thread_id},r)}createAndRunStream(t,r){return rs.createThreadAssistantStream(t,this._client.beta.threads,r)}}Pc.Runs=Nh;Pc.Messages=z0;class eo extends xe{constructor(){super(...arguments),this.realtime=new Oc(this._client),this.assistants=new D0(this._client),this.threads=new Pc(this._client)}}eo.Realtime=Oc;eo.Assistants=D0;eo.Threads=Pc;class q0 extends xe{create(t,r){return this._client.post("/completions",{body:t,...r,stream:t.stream??!1})}}class U0 extends xe{retrieve(t,r,n){const{container_id:i}=r;return this._client.get(te`/containers/${i}/files/${t}/content`,{...n,headers:fe([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}}let Oh=class extends xe{constructor(){super(...arguments),this.content=new U0(this._client)}create(t,r,n){return this._client.post(te`/containers/${t}/files`,Bn({body:r,...n},this._client))}retrieve(t,r,n){const{container_id:i}=r;return this._client.get(te`/containers/${i}/files/${t}`,n)}list(t,r={},n){return this._client.getAPIList(te`/containers/${t}/files`,nt,{query:r,...n})}delete(t,r,n){const{container_id:i}=r;return this._client.delete(te`/containers/${i}/files/${t}`,{...n,headers:fe([{Accept:"*/*"},n==null?void 0:n.headers])})}};Oh.Content=U0;class Ph extends xe{constructor(){super(...arguments),this.files=new Oh(this._client)}create(t,r){return this._client.post("/containers",{body:t,...r})}retrieve(t,r){return this._client.get(te`/containers/${t}`,r)}list(t={},r){return this._client.getAPIList("/containers",nt,{query:t,...r})}delete(t,r){return this._client.delete(te`/containers/${t}`,{...r,headers:fe([{Accept:"*/*"},r==null?void 0:r.headers])})}}Ph.Files=Oh;class W0 extends xe{create(t,r){const n=!!t.encoding_format;let i=n?t.encoding_format:"base64";n&&vt(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const a=this._client.post("/embeddings",{body:{...t,encoding_format:i},...r});return n?a:(vt(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap(s=>(s&&s.data&&s.data.forEach(l=>{const c=l.embedding;l.embedding=zO(c)}),s)))}}class V0 extends xe{retrieve(t,r,n){const{eval_id:i,run_id:a}=r;return this._client.get(te`/evals/${i}/runs/${a}/output_items/${t}`,n)}list(t,r,n){const{eval_id:i,...a}=r;return this._client.getAPIList(te`/evals/${i}/runs/${t}/output_items`,nt,{query:a,...n})}}class Ch extends xe{constructor(){super(...arguments),this.outputItems=new V0(this._client)}create(t,r,n){return this._client.post(te`/evals/${t}/runs`,{body:r,...n})}retrieve(t,r,n){const{eval_id:i}=r;return this._client.get(te`/evals/${i}/runs/${t}`,n)}list(t,r={},n){return this._client.getAPIList(te`/evals/${t}/runs`,nt,{query:r,...n})}delete(t,r,n){const{eval_id:i}=r;return this._client.delete(te`/evals/${i}/runs/${t}`,n)}cancel(t,r,n){const{eval_id:i}=r;return this._client.post(te`/evals/${i}/runs/${t}`,n)}}Ch.OutputItems=V0;class Eh extends xe{constructor(){super(...arguments),this.runs=new Ch(this._client)}create(t,r){return this._client.post("/evals",{body:t,...r})}retrieve(t,r){return this._client.get(te`/evals/${t}`,r)}update(t,r,n){return this._client.post(te`/evals/${t}`,{body:r,...n})}list(t={},r){return this._client.getAPIList("/evals",nt,{query:t,...r})}delete(t,r){return this._client.delete(te`/evals/${t}`,r)}}Eh.Runs=Ch;let H0=class extends xe{create(t,r){return this._client.post("/files",Bn({body:t,...r},this._client))}retrieve(t,r){return this._client.get(te`/files/${t}`,r)}list(t={},r){return this._client.getAPIList("/files",nt,{query:t,...r})}delete(t,r){return this._client.delete(te`/files/${t}`,r)}content(t,r){return this._client.get(te`/files/${t}/content`,{...r,headers:fe([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:r=5e3,maxWait:n=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),a=Date.now();let s=await this.retrieve(t);for(;!s.status||!i.has(s.status);)if(await Js(r),s=await this.retrieve(t),Date.now()-a>n)throw new yh({message:`Giving up on waiting for file ${t} to finish processing after ${n} milliseconds.`});return s}};class G0 extends xe{}let K0=class extends xe{run(t,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...r})}validate(t,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...r})}};class $h extends xe{constructor(){super(...arguments),this.graders=new K0(this._client)}}$h.Graders=K0;class X0 extends xe{create(t,r,n){return this._client.getAPIList(te`/fine_tuning/checkpoints/${t}/permissions`,Nc,{body:r,method:"post",...n})}retrieve(t,r={},n){return this._client.get(te`/fine_tuning/checkpoints/${t}/permissions`,{query:r,...n})}delete(t,r,n){const{fine_tuned_model_checkpoint:i}=r;return this._client.delete(te`/fine_tuning/checkpoints/${i}/permissions/${t}`,n)}}let Th=class extends xe{constructor(){super(...arguments),this.permissions=new X0(this._client)}};Th.Permissions=X0;class Y0 extends xe{list(t,r={},n){return this._client.getAPIList(te`/fine_tuning/jobs/${t}/checkpoints`,nt,{query:r,...n})}}class kh extends xe{constructor(){super(...arguments),this.checkpoints=new Y0(this._client)}create(t,r){return this._client.post("/fine_tuning/jobs",{body:t,...r})}retrieve(t,r){return this._client.get(te`/fine_tuning/jobs/${t}`,r)}list(t={},r){return this._client.getAPIList("/fine_tuning/jobs",nt,{query:t,...r})}cancel(t,r){return this._client.post(te`/fine_tuning/jobs/${t}/cancel`,r)}listEvents(t,r={},n){return this._client.getAPIList(te`/fine_tuning/jobs/${t}/events`,nt,{query:r,...n})}pause(t,r){return this._client.post(te`/fine_tuning/jobs/${t}/pause`,r)}resume(t,r){return this._client.post(te`/fine_tuning/jobs/${t}/resume`,r)}}kh.Checkpoints=Y0;class ia extends xe{constructor(){super(...arguments),this.methods=new G0(this._client),this.jobs=new kh(this._client),this.checkpoints=new Th(this._client),this.alpha=new $h(this._client)}}ia.Methods=G0;ia.Jobs=kh;ia.Checkpoints=Th;ia.Alpha=$h;class J0 extends xe{}class Ih extends xe{constructor(){super(...arguments),this.graderModels=new J0(this._client)}}Ih.GraderModels=J0;class Q0 extends xe{createVariation(t,r){return this._client.post("/images/variations",Bn({body:t,...r},this._client))}edit(t,r){return this._client.post("/images/edits",Bn({body:t,...r,stream:t.stream??!1},this._client))}generate(t,r){return this._client.post("/images/generations",{body:t,...r,stream:t.stream??!1})}}class Z0 extends xe{retrieve(t,r){return this._client.get(te`/models/${t}`,r)}list(t){return this._client.getAPIList("/models",Nc,t)}delete(t,r){return this._client.delete(te`/models/${t}`,r)}}class ew extends xe{create(t,r){return this._client.post("/moderations",{body:t,...r})}}function BO(e,t){return!t||!UO(t)?{...e,output_parsed:null,output:e.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:tw(e,t)}function tw(e,t){const r=e.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:HO(t,i)};if(i.type==="message"){const a=i.content.map(s=>s.type==="output_text"?{...s,parsed:qO(t,s.text)}:s);return{...i,content:a}}return i}),n=Object.assign({},e,{output:r});return Object.getOwnPropertyDescriptor(e,"output_text")||Td(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(const i of n.output)if(i.type==="message"){for(const a of i.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),n}function qO(e,t){var r,n,i,a;return((n=(r=e.text)==null?void 0:r.format)==null?void 0:n.type)!=="json_schema"?null:"$parseRaw"in((i=e.text)==null?void 0:i.format)?((a=e.text)==null?void 0:a.format).$parseRaw(t):JSON.parse(t)}function UO(e){var t;return!!wh((t=e.text)==null?void 0:t.format)}function WO(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function VO(e,t){return e.find(r=>r.type==="function"&&r.name===t)}function HO(e,t){const r=VO(e.tools??[],t.name);return{...t,...t,parsed_arguments:WO(r)?r.$parseRaw(t.arguments):r!=null&&r.strict?JSON.parse(t.arguments):null}}function Td(e){const t=[];for(const r of e.output)if(r.type==="message")for(const n of r.content)n.type==="output_text"&&t.push(n.text);e.output_text=t.join("")}var ii,So,ln,Ao,qp,Up,Wp,Vp;class Mh extends bh{constructor(t){super(),ii.add(this),So.set(this,void 0),ln.set(this,void 0),Ao.set(this,void 0),ge(this,So,t)}static createResponse(t,r,n){const i=new Mh(r);return i._run(()=>i._createOrRetrieveResponse(t,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(t,r,n){var l;const i=n==null?void 0:n.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),B(this,ii,"m",qp).call(this);let a,s=null;"response_id"in r?(a=await t.responses.retrieve(r.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),s=r.starting_after??null):a=await t.responses.create({...r,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(const c of a)B(this,ii,"m",Up).call(this,c,s);if((l=a.controller.signal)!=null&&l.aborted)throw new Zt;return B(this,ii,"m",Wp).call(this)}[(So=new WeakMap,ln=new WeakMap,Ao=new WeakMap,ii=new WeakSet,qp=function(){this.ended||ge(this,ln,void 0)},Up=function(r,n){if(this.ended)return;const i=(s,l)=>{(n==null||l.sequence_number>n)&&this._emit(s,l)},a=B(this,ii,"m",Vp).call(this,r);switch(i("event",r),r.type){case"response.output_text.delta":{const s=a.output[r.output_index];if(!s)throw new ve(`missing output at index ${r.output_index}`);if(s.type==="message"){const l=s.content[r.content_index];if(!l)throw new ve(`missing content at index ${r.content_index}`);if(l.type!=="output_text")throw new ve(`expected content to be 'output_text', got ${l.type}`);i("response.output_text.delta",{...r,snapshot:l.text})}break}case"response.function_call_arguments.delta":{const s=a.output[r.output_index];if(!s)throw new ve(`missing output at index ${r.output_index}`);s.type==="function_call"&&i("response.function_call_arguments.delta",{...r,snapshot:s.arguments});break}default:i(r.type,r);break}},Wp=function(){if(this.ended)throw new ve("stream has ended, this shouldn't happen");const r=B(this,ln,"f");if(!r)throw new ve("request ended without sending any events");ge(this,ln,void 0);const n=GO(r,B(this,So,"f"));return ge(this,Ao,n),n},Vp=function(r){let n=B(this,ln,"f");if(!n){if(r.type!=="response.created")throw new ve(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return n=ge(this,ln,r.response),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{const i=n.output[r.output_index];if(!i)throw new ve(`missing output at index ${r.output_index}`);i.type==="message"&&i.content.push(r.part);break}case"response.output_text.delta":{const i=n.output[r.output_index];if(!i)throw new ve(`missing output at index ${r.output_index}`);if(i.type==="message"){const a=i.content[r.content_index];if(!a)throw new ve(`missing content at index ${r.content_index}`);if(a.type!=="output_text")throw new ve(`expected content to be 'output_text', got ${a.type}`);a.text+=r.delta}break}case"response.function_call_arguments.delta":{const i=n.output[r.output_index];if(!i)throw new ve(`missing output at index ${r.output_index}`);i.type==="function_call"&&(i.arguments+=r.delta);break}case"response.completed":{ge(this,ln,r.response);break}}return n},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("event",i=>{const a=r.shift();a?a.resolve(i):t.push(i)}),this.on("end",()=>{n=!0;for(const i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(const a of r)a.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(const a of r)a.reject(i);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((a,s)=>r.push({resolve:a,reject:s})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=B(this,Ao,"f");if(!t)throw new ve("stream ended without producing a ChatCompletion");return t}}function GO(e,t){return BO(e,t)}class rw extends xe{list(t,r={},n){return this._client.getAPIList(te`/responses/${t}/input_items`,nt,{query:r,...n})}}class Rh extends xe{constructor(){super(...arguments),this.inputItems=new rw(this._client)}create(t,r){return this._client.post("/responses",{body:t,...r,stream:t.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&Td(n),n))}retrieve(t,r={},n){return this._client.get(te`/responses/${t}`,{query:r,...n,stream:(r==null?void 0:r.stream)??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&Td(i),i))}delete(t,r){return this._client.delete(te`/responses/${t}`,{...r,headers:fe([{Accept:"*/*"},r==null?void 0:r.headers])})}parse(t,r){return this._client.responses.create(t,r)._thenUnwrap(n=>tw(n,t))}stream(t,r){return Mh.createResponse(this._client,t,r)}cancel(t,r){return this._client.post(te`/responses/${t}/cancel`,r)}}Rh.InputItems=rw;class nw extends xe{create(t,r,n){return this._client.post(te`/uploads/${t}/parts`,Bn({body:r,...n},this._client))}}class Dh extends xe{constructor(){super(...arguments),this.parts=new nw(this._client)}create(t,r){return this._client.post("/uploads",{body:t,...r})}cancel(t,r){return this._client.post(te`/uploads/${t}/cancel`,r)}complete(t,r,n){return this._client.post(te`/uploads/${t}/complete`,{body:r,...n})}}Dh.Parts=nw;const KO=async e=>{const t=await Promise.allSettled(e),r=t.filter(i=>i.status==="rejected");if(r.length){for(const i of r)console.error(i.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const n=[];for(const i of t)i.status==="fulfilled"&&n.push(i.value);return n};class iw extends xe{create(t,r,n){return this._client.post(te`/vector_stores/${t}/file_batches`,{body:r,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,r,n){const{vector_store_id:i}=r;return this._client.get(te`/vector_stores/${i}/file_batches/${t}`,{...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}cancel(t,r,n){const{vector_store_id:i}=r;return this._client.post(te`/vector_stores/${i}/file_batches/${t}/cancel`,{...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}async createAndPoll(t,r,n){const i=await this.create(t,r);return await this.poll(t,i.id,n)}listFiles(t,r,n){const{vector_store_id:i,...a}=r;return this._client.getAPIList(te`/vector_stores/${i}/file_batches/${t}/files`,nt,{query:a,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}async poll(t,r,n){var a;const i=fe([n==null?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((a=n==null?void 0:n.pollIntervalMs)==null?void 0:a.toString())??void 0}]);for(;;){const{data:s,response:l}=await this.retrieve(r,{vector_store_id:t},{...n,headers:i}).withResponse();switch(s.status){case"in_progress":let c=5e3;if(n!=null&&n.pollIntervalMs)c=n.pollIntervalMs;else{const u=l.headers.get("openai-poll-after-ms");if(u){const d=parseInt(u);isNaN(d)||(c=d)}}await Js(c);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(t,{files:r,fileIds:n=[]},i){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=(i==null?void 0:i.maxConcurrency)??5,s=Math.min(a,r.length),l=this._client,c=r.values(),u=[...n];async function d(h){for(let m of h){const p=await l.files.create({file:m,purpose:"assistants"},i);u.push(p.id)}}const f=Array(s).fill(c).map(d);return await KO(f),await this.createAndPoll(t,{file_ids:u})}}class aw extends xe{create(t,r,n){return this._client.post(te`/vector_stores/${t}/files`,{body:r,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,r,n){const{vector_store_id:i}=r;return this._client.get(te`/vector_stores/${i}/files/${t}`,{...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,r,n){const{vector_store_id:i,...a}=r;return this._client.post(te`/vector_stores/${i}/files/${t}`,{body:a,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(t,r={},n){return this._client.getAPIList(te`/vector_stores/${t}/files`,nt,{query:r,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,r,n){const{vector_store_id:i}=r;return this._client.delete(te`/vector_stores/${i}/files/${t}`,{...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}async createAndPoll(t,r,n){const i=await this.create(t,r,n);return await this.poll(t,i.id,n)}async poll(t,r,n){var a;const i=fe([n==null?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((a=n==null?void 0:n.pollIntervalMs)==null?void 0:a.toString())??void 0}]);for(;;){const s=await this.retrieve(r,{vector_store_id:t},{...n,headers:i}).withResponse(),l=s.data;switch(l.status){case"in_progress":let c=5e3;if(n!=null&&n.pollIntervalMs)c=n.pollIntervalMs;else{const u=s.response.headers.get("openai-poll-after-ms");if(u){const d=parseInt(u);isNaN(d)||(c=d)}}await Js(c);break;case"failed":case"completed":return l}}}async upload(t,r,n){const i=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(t,{file_id:i.id},n)}async uploadAndPoll(t,r,n){const i=await this.upload(t,r,n);return await this.poll(t,i.id,n)}content(t,r,n){const{vector_store_id:i}=r;return this._client.getAPIList(te`/vector_stores/${i}/files/${t}/content`,Nc,{...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class Cc extends xe{constructor(){super(...arguments),this.files=new aw(this._client),this.fileBatches=new iw(this._client)}create(t,r){return this._client.post("/vector_stores",{body:t,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,r){return this._client.get(te`/vector_stores/${t}`,{...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,r,n){return this._client.post(te`/vector_stores/${t}`,{body:r,...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(t={},r){return this._client.getAPIList("/vector_stores",nt,{query:t,...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,r){return this._client.delete(te`/vector_stores/${t}`,{...r,headers:fe([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}search(t,r,n){return this._client.getAPIList(te`/vector_stores/${t}/search`,Nc,{body:r,method:"post",...n,headers:fe([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}Cc.Files=aw;Cc.FileBatches=iw;var hi,sw,Xo;class ow extends xe{constructor(){super(...arguments),hi.add(this)}async unwrap(t,r,n=this._client.webhookSecret,i=300){return await this.verifySignature(t,r,n,i),JSON.parse(t)}async verifySignature(t,r,n=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");B(this,hi,"m",sw).call(this,n);const a=fe([r]).values,s=B(this,hi,"m",Xo).call(this,a,"webhook-signature"),l=B(this,hi,"m",Xo).call(this,a,"webhook-timestamp"),c=B(this,hi,"m",Xo).call(this,a,"webhook-id"),u=parseInt(l,10);if(isNaN(u))throw new Ba("Invalid webhook timestamp format");const d=Math.floor(Date.now()/1e3);if(d-u>i)throw new Ba("Webhook timestamp is too old");if(u>d+i)throw new Ba("Webhook timestamp is too new");const f=s.split(" ").map(g=>g.startsWith("v1,")?g.substring(3):g),h=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),m=c?`${c}.${l}.${t}`:`${l}.${t}`,p=await crypto.subtle.importKey("raw",h,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const g of f)try{const v=Buffer.from(g,"base64");if(await crypto.subtle.verify("HMAC",p,v,new TextEncoder().encode(m)))return}catch{continue}throw new Ba("The given webhook signature does not match the expected signature")}}hi=new WeakSet,sw=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Xo=function(t,r){if(!t)throw new Error("Headers are required");const n=t.get(r);if(n==null)throw new Error(`Missing required header: ${r}`);return n};var kd,Lh,Yo,lw;class Oe{constructor({baseURL:t=ni("OPENAI_BASE_URL"),apiKey:r=ni("OPENAI_API_KEY"),organization:n=ni("OPENAI_ORG_ID")??null,project:i=ni("OPENAI_PROJECT_ID")??null,webhookSecret:a=ni("OPENAI_WEBHOOK_SECRET")??null,...s}={}){if(kd.add(this),Yo.set(this,void 0),this.completions=new q0(this),this.chat=new Ah(this),this.embeddings=new W0(this),this.files=new H0(this),this.images=new Q0(this),this.audio=new Zs(this),this.moderations=new ew(this),this.models=new Z0(this),this.fineTuning=new ia(this),this.graders=new Ih(this),this.vectorStores=new Cc(this),this.webhooks=new ow(this),this.beta=new eo(this),this.batches=new R0(this),this.uploads=new Dh(this),this.responses=new Rh(this),this.evals=new Eh(this),this.containers=new Ph(this),r===void 0)throw new ve("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const l={apiKey:r,organization:n,project:i,webhookSecret:a,...s,baseURL:t||"https://api.openai.com/v1"};if(!l.dangerouslyAllowBrowser&&XN())throw new ve(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=l.baseURL,this.timeout=l.timeout??Lh.DEFAULT_TIMEOUT,this.logger=l.logger??console;const c="warn";this.logLevel=c,this.logLevel=Cp(l.logLevel,"ClientOptions.logLevel",this)??Cp(ni("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??c,this.fetchOptions=l.fetchOptions,this.maxRetries=l.maxRetries??2,this.fetch=l.fetch??eO(),ge(this,Yo,rO),this._options=l,this.apiKey=r,this.organization=n,this.project=i,this.webhookSecret=a}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){}async authHeaders(t){return fe([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return lO(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${di}`}defaultIdempotencyKey(){return`stainless-node-retry-${zb()}`}makeStatusError(t,r,n,i){return bt.generate(t,r,n,i)}buildURL(t,r,n){const i=!B(this,kd,"m",lw).call(this)&&n||this.baseURL,a=UN(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return VN(s)||(r={...s,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(a.search=this.stringifyQuery(r)),a.toString()}async prepareOptions(t){}async prepareRequest(t,{url:r,options:n}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(i=>({method:t,path:r,...i})))}request(t,r=null){return new Ac(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,n){var j,w;const i=await t,a=i.maxRetries??this.maxRetries;r==null&&(r=a),await this.prepareOptions(i);const{req:s,url:l,timeout:c}=await this.buildRequest(i,{retryCount:a-r});await this.prepareRequest(s,{url:l,options:i});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),d=n===void 0?"":`, retryOf: ${n}`,f=Date.now();if(vt(this).debug(`[${u}] sending request`,Sn({retryOfRequestLogID:n,method:i.method,url:l,options:i,headers:s.headers})),(j=i.signal)!=null&&j.aborted)throw new Zt;const h=new AbortController,m=await this.fetchWithTimeout(l,s,c,h).catch(jd),p=Date.now();if(m instanceof Error){const S=`retrying, ${r} attempts remaining`;if((w=i.signal)!=null&&w.aborted)throw new Zt;const x=wd(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(r)return vt(this).info(`[${u}] connection ${x?"timed out":"failed"} - ${S}`),vt(this).debug(`[${u}] connection ${x?"timed out":"failed"} (${S})`,Sn({retryOfRequestLogID:n,url:l,durationMs:p-f,message:m.message})),this.retryRequest(i,r,n??u);throw vt(this).info(`[${u}] connection ${x?"timed out":"failed"} - error; no more retries left`),vt(this).debug(`[${u}] connection ${x?"timed out":"failed"} (error; no more retries left)`,Sn({retryOfRequestLogID:n,url:l,durationMs:p-f,message:m.message})),x?new yh:new _c({cause:m})}const g=[...m.headers.entries()].filter(([S])=>S==="x-request-id").map(([S,x])=>", "+S+": "+JSON.stringify(x)).join(""),v=`[${u}${d}${g}] ${s.method} ${l} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${p-f}ms`;if(!m.ok){const S=await this.shouldRetry(m);if(r&&S){const O=`retrying, ${r} attempts remaining`;return await tO(m.body),vt(this).info(`${v} - ${O}`),vt(this).debug(`[${u}] response error (${O})`,Sn({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:p-f})),this.retryRequest(i,r,n??u,m.headers)}const x=S?"error; no more retries left":"error; not retryable";vt(this).info(`${v} - ${x}`);const y=await m.text().catch(O=>jd(O).message),b=KN(y),_=b?void 0:y;throw vt(this).debug(`[${u}] response error (${x})`,Sn({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,message:_,durationMs:Date.now()-f})),this.makeStatusError(m.status,b,_,m.headers)}return vt(this).info(v),vt(this).debug(`[${u}] response start`,Sn({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:p-f})),{response:m,options:i,controller:h,requestLogID:u,retryOfRequestLogID:n,startTime:f}}getAPIList(t,r,n){return this.requestAPIList(r,{method:"get",path:t,...n})}requestAPIList(t,r){const n=this.makeRequest(r,null,void 0);return new vO(this,n,t)}async fetchWithTimeout(t,r,n,i){const{signal:a,method:s,...l}=r||{};a&&a.addEventListener("abort",()=>i.abort());const c=setTimeout(()=>i.abort(),n),u=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,d={signal:i.signal,...u?{duplex:"half"}:{},method:"GET",...l};s&&(d.method=s.toUpperCase());try{return await this.fetch.call(void 0,t,d)}finally{clearTimeout(c)}}async shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n,i){let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const c=parseFloat(s);Number.isNaN(c)||(a=c)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const c=parseFloat(l);Number.isNaN(c)?a=Date.parse(l)-Date.now():a=c*1e3}if(!(a&&0<=a&&a<60*1e3)){const c=t.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(r,c)}return await Js(a),this.makeRequest(t,r-1,n)}calculateDefaultRetryTimeoutMillis(t,r){const a=r-t,s=Math.min(.5*Math.pow(2,a),8),l=1-Math.random()*.25;return s*l*1e3}async buildRequest(t,{retryCount:r=0}={}){const n={...t},{method:i,path:a,query:s,defaultBaseURL:l}=n,c=this.buildURL(a,s,l);"timeout"in n&&GN("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:u,body:d}=this.buildBody({options:n}),f=await this.buildHeaders({options:t,method:i,bodyHeaders:u,retryCount:r});return{req:{method:i,headers:f,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&d instanceof globalThis.ReadableStream&&{duplex:"half"},...d&&{body:d},...this.fetchOptions??{},...n.fetchOptions??{}},url:c,timeout:n.timeout}}async buildHeaders({options:t,method:r,bodyHeaders:n,retryCount:i}){let a={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const s=fe([a,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...ZN(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,n,t.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const n=fe([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||t instanceof Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Qb(t)}:B(this,Yo,"f").call(this,{body:t,headers:n})}}Lh=Oe,Yo=new WeakMap,kd=new WeakSet,lw=function(){return this.baseURL!=="https://api.openai.com/v1"};Oe.OpenAI=Lh;Oe.DEFAULT_TIMEOUT=6e5;Oe.OpenAIError=ve;Oe.APIError=bt;Oe.APIConnectionError=_c;Oe.APIConnectionTimeoutError=yh;Oe.APIUserAbortError=Zt;Oe.NotFoundError=Wb;Oe.ConflictError=Vb;Oe.RateLimitError=Gb;Oe.BadRequestError=Bb;Oe.AuthenticationError=qb;Oe.InternalServerError=Kb;Oe.PermissionDeniedError=Ub;Oe.UnprocessableEntityError=Hb;Oe.InvalidWebhookSignatureError=Ba;Oe.toFile=_O;Oe.Completions=q0;Oe.Chat=Ah;Oe.Embeddings=W0;Oe.Files=H0;Oe.Images=Q0;Oe.Audio=Zs;Oe.Moderations=ew;Oe.Models=Z0;Oe.FineTuning=ia;Oe.Graders=Ih;Oe.VectorStores=Cc;Oe.Webhooks=ow;Oe.Beta=eo;Oe.Batches=R0;Oe.Uploads=Dh;Oe.Responses=Rh;Oe.Evals=Eh;Oe.Containers=Ph;const Fh=new Oe({apiKey:void 0,baseURL:"https://api.groq.com/openai/v1",dangerouslyAllowBrowser:!0}),cw={error:(e,t)=>{},warn:(e,t)=>{},info:(e,t)=>{}};class Oa extends Error{constructor(t,r="AI_ERROR",n=null){super(t),this.name="AIServiceError",this.code=r,this.details=n,this.timestamp=new Date().toISOString()}}function zh(e){var t,r,n;return(t=e.message)!=null&&t.includes("fetch")?new Oa("Problème de connexion. Vérifiez votre connexion internet.","NETWORK_ERROR"):e.status===401||(r=e.message)!=null&&r.includes("API key")?new Oa("Problème d'authentification avec le service IA.","AUTH_ERROR"):e.status===429?new Oa("Trop de requêtes. Veuillez patienter quelques instants.","RATE_LIMIT"):e.status===403&&((n=e.message)!=null&&n.includes("quota"))?new Oa("Quota dépassé. Veuillez réessayer plus tard.","QUOTA_EXCEEDED"):new Oa("Une erreur est survenue avec le service IA. Veuillez réessayer.","GENERIC_ERROR",e)}function uw(e="analysis"){switch(e){case"analysis":return{analysis:"Analyse en mode de démonstration. Connectez-vous pour une analyse personnalisée.",category:"Général",confidence:.5,insights:[{type:"demo",message:"Ceci est une réponse de démonstration"}]};case"equation":return{formula:"Démonstration × Mode = Exemple",variables:[{id:"demo",name:"Mode Démonstration",value:1,unit:"demo",impact:.5,color:"#6B7280",description:"Données de démonstration"}],insights:[{id:1,type:"demo",strength:.5,message:"Ceci est un exemple de démonstration"}]};default:return null}}async function XO(e,t=5,r=[]){try{const n=`En tant qu'expert en psychologie financière et neurosciences, analysez cette question financière:

Question: "${e}"
État émotionnel (1-10): ${t}
Contexte: ${r.join(", ")}

Fournissez une analyse structurée qui inclut:
1. Les déclencheurs psychologiques identifiés
2. Les patterns comportementaux observés
3. Des recommandations personnalisées
4. Une catégorisation de la question

Répondez en français avec un ton bienveillant et professionnel.`,i=await Fh.chat.completions.create({model:"llama-3.1-70b-versatile",messages:[{role:"system",content:"Vous êtes un expert en psychologie financière et neurosciences comportementales. Vous aidez les utilisateurs à comprendre leurs habitudes financières."},{role:"user",content:n}],temperature:.7,max_tokens:1e3});return{analysis:i.choices[0].message.content,category:QO(i.choices[0].message.content),confidence:.85,insights:ZO(i.choices[0].message.content)}}catch(n){const i=zh(n);if(i.code==="NETWORK_ERROR"||i.code==="GENERIC_ERROR")return uw("analysis");throw i}}async function YO(e){var t;try{const r=`Analysez ces données financières et générez des insights personnalisés:

Données utilisateur:
- Revenus mensuels: ${e.income||"Non spécifié"}€
- Dépenses principales: ${JSON.stringify(e.expenses||{})}
- Objectifs: ${((t=e.goals)==null?void 0:t.join(", "))||"Non spécifiés"}
- Habitudes de dépense: ${JSON.stringify(e.spendingPatterns||{})}

Générez 3-5 insights personnalisés basés sur la neuroscience comportementale, avec pour chacun:
- Un titre accrocheur
- Une explication scientifique simple
- Des actions concrètes à mettre en place

Répondez en français avec un format structuré.`,n=await Fh.chat.completions.create({model:"llama-3.1-70b-versatile",messages:[{role:"system",content:"Vous êtes un conseiller financier spécialisé en neurosciences comportementales. Vous créez des insights personnalisés basés sur des données réelles."},{role:"user",content:r}],temperature:.6,max_tokens:1200});return{insights:eP(n.choices[0].message.content),generatedAt:new Date().toISOString()}}catch(r){const n=zh(r);return cw.warn("Falling back to demo insights:",n.message),{insights:[{title:"Analyse de démonstration",description:"Connectez-vous pour obtenir des insights personnalisés basés sur vos données réelles.",actions:["Complétez votre profil","Ajoutez vos données financières"]}],generatedAt:new Date().toISOString()}}}async function JO(e){var t;try{const r=`Créez une équation financière personnalisée basée sur ces données:

Profil utilisateur:
- Données financières: ${JSON.stringify(e.financialData||{})}
- Patterns de dépenses: ${JSON.stringify(e.spendingPatterns||{})}
- État émotionnel moyen: ${e.emotionalState||5}/10
- Déclencheurs identifiés: ${((t=e.triggers)==null?void 0:t.join(", "))||"Aucun"}

Créez une équation qui révèle les corrélations cachées dans les habitudes financières.
Format: "Variable A × Variable B = Résultat Financier"

Incluez:
- Les variables clés (3-4 maximum)
- Les valeurs numériques réalistes
- L'impact de chaque variable (0-1)
- Une explication des corrélations découvertes

Répondez en français avec un format JSON structuré.`,n=await Fh.chat.completions.create({model:"llama-3.1-70b-versatile",messages:[{role:"system",content:"Vous êtes un data scientist spécialisé en analyse comportementale financière. Vous créez des équations révélatrices basées sur des patterns réels."},{role:"user",content:r}],temperature:.5,max_tokens:800});return tP(n.choices[0].message.content)}catch(r){const n=zh(r);return cw.warn("Falling back to demo equation:",n.message),uw("equation")}}function QO(e){const t={émotionnel:["émotion","stress","anxiété","humeur"],habitudes:["habitude","routine","comportement","pattern"],budget:["budget","dépense","épargne","argent"],investissement:["investir","placement","rendement","risque"]};for(const[r,n]of Object.entries(t))if(n.some(i=>e.toLowerCase().includes(i)))return r;return"Général"}function ZO(e){return[{type:"behavioral",message:"Pattern comportemental identifié dans votre question",confidence:.8}]}function eP(e){try{const t=[],r=e.split(`
`).filter(i=>i.trim());let n=null;for(const i of r)i.includes("**")||i.includes("#")?(n&&t.push(n),n={title:i.replace(/[*#]/g,"").trim(),description:"",actions:[]}):i.trim()&&n&&(i.includes("-")||i.includes("•")?n.actions.push(i.replace(/[-•]/g,"").trim()):n.description+=i.trim()+" ");return n&&t.push(n),t.length>0?t:[{title:"Analyse personnalisée générée",description:e.substring(0,200)+"...",actions:["Consultez l'analyse complète pour plus de détails"]}]}catch{return[{title:"Insights générés",description:e,actions:[]}]}}function tP(e){try{if(e.includes("{")&&e.includes("}")){const t=e.match(/{[\s\S]*}/);if(t)return JSON.parse(t[0])}return{formula:"Habitudes × État Émotionnel = Impact Financier",variables:[{id:"habits",name:"Habitudes de Dépense",value:7.5,unit:"/10",impact:.8,color:"#EF4444",description:"Score basé sur vos patterns de dépense"},{id:"emotional_state",name:"État Émotionnel",value:6,unit:"/10",impact:.7,color:"#F59E0B",description:"Influence émotionnelle sur les décisions"},{id:"financial_impact",name:"Impact Financier",value:450,unit:"€",impact:1,color:"#DC2626",description:"Impact mensuel estimé"}],insights:[{id:1,type:"correlation",strength:.85,message:e.substring(0,100)+"..."}]}}catch{return null}}const rP=()=>{const e=Zr(),[t,r]=$.useState(""),[n,i]=$.useState(5),[a,s]=$.useState([]),[l,c]=$.useState([]),[u,d]=$.useState(!1),[f,h]=$.useState([]),[m,p]=$.useState(!1);$.useEffect(()=>{const y=localStorage.getItem("rivela_question_history");if(y)try{c(JSON.parse(y))}catch{}localStorage.getItem("rivela_has_visited")||h([{id:"welcome",type:"insight",title:"Bienvenue dans Rivela !",message:"Commencez par poser une question sur votre situation financière. Plus vous êtes précis, plus l'analyse sera pertinente.",persistent:!0,action:{label:"Commencer",handler:()=>{localStorage.setItem("rivela_has_visited","true"),h([])}}}])},[]);const g=y=>{localStorage.setItem("rivela_question_history",JSON.stringify(y))},v=async()=>{if(!t.trim()||t.length<10){h([{id:"validation_error",type:"warning",title:"Question trop courte",message:"Votre question doit contenir au moins 10 caractères pour une analyse pertinente."}]);return}d(!0);try{const y=await XO(t,n,a),_=[{id:Date.now(),text:t,mood:n,tags:a,timestamp:new Date().toISOString(),category:y.category,analysisCount:1,insight:y.analysis,confidence:y.confidence,aiInsights:y.insights},...l];c(_),g(_),d(!1),h([{id:"analysis_complete",type:"success",title:"Analyse IA terminée !",message:`Catégorie identifiée: ${y.category}. Confiance: ${Math.round(y.confidence*100)}%`,details:y.analysis.substring(0,150)+"...",action:{label:"Continuer",handler:()=>e("/financial-data-entry-dashboard")}}]),r(""),i(5),s([])}catch(y){d(!1),h([{id:"analysis_error",type:"error",title:"Erreur d'analyse",message:y.message||"Une erreur est survenue lors de l'analyse. Veuillez réessayer.",action:{label:"Réessayer",handler:()=>v()}}])}},j=y=>{r(y),window.innerWidth<768&&setTimeout(()=>{var b;(b=document.querySelector("textarea"))==null||b.focus()},100)},w=(y,b=5,_=[])=>{r(y),i(b),s(_),p(!1),window.scrollTo({top:0,behavior:"smooth"})},S=y=>{const b=l.filter(_=>_.id!==y);c(b),g(b),h([{id:"question_deleted",type:"success",title:"Question supprimée",message:"La question a été supprimée de votre historique."}])},x=y=>{h(b=>b.filter(_=>_.id!==y))};return o.jsxs(o.Fragment,{children:[o.jsxs(nl,{children:[o.jsx("title",{children:"Questions Financières - Rivela Financial Explorer"}),o.jsx("meta",{name:"description",content:"Posez vos questions financières personnalisées et obtenez des insights basés sur la neuroscience pour mieux comprendre vos habitudes d'argent."}),o.jsx("meta",{name:"keywords",content:"questions financières, analyse financière, insights neuroscience, habitudes argent, Rivela"})]}),o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ta,{}),o.jsxs("main",{className:"pt-16",children:[o.jsx("div",{className:"sticky top-16 z-40 bg-background/80 backdrop-blur-sm border-b border-border/20",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx(ra,{currentStep:1,totalSteps:6,variant:"minimal"})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold font-heading text-text-primary mb-4",children:"Explorez vos questions financières"}),o.jsx("p",{className:"text-lg text-text-secondary leading-relaxed",children:"Posez une question sur votre situation financière et découvrez des insights personnalisés basés sur la neuroscience comportementale."})]}),o.jsx(FN,{mood:n,onMoodChange:i}),o.jsx(DN,{question:t,onQuestionChange:r,onSubmit:v,isAnalyzing:u}),o.jsx(zN,{selectedTags:a,onTagsChange:s}),o.jsx(LN,{onSuggestionSelect:j}),l.length>0&&o.jsx("div",{className:"text-center",children:o.jsxs("button",{onClick:()=>p(!m),className:`inline-flex items-center space-x-2 px-6 py-3 glass rounded-xl
                           border border-border/20 text-text-primary hover:shadow-glass-hover
                           transition-all duration-300`,children:[o.jsx("span",{className:"font-medium",children:m?"Masquer l'historique":"Voir l'historique"}),o.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs font-medium rounded-full",children:l.length})]})}),m&&o.jsx(BN,{questions:l,onQuestionSelect:w,onDeleteQuestion:S}),o.jsx("div",{className:"text-center pt-8",children:o.jsxs("div",{className:"inline-flex items-center space-x-4 p-4 glass rounded-xl border border-border/20",children:[o.jsx("span",{className:"text-sm text-text-secondary",children:"Prêt pour l'étape suivante ?"}),o.jsx("button",{onClick:()=>e("/financial-data-entry-dashboard"),className:"px-4 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary/90 transition-colors duration-200",children:"Saisir mes données"})]})})]})]}),o.jsx(na,{notifications:f,onDismiss:x,position:"top",maxVisible:2,autoHideDelay:6e3})]})]})},nP=({activeScenario:e,onScenarioChange:t,scenarios:r})=>{const n=i=>{const a={current:{icon:"BarChart3",color:"text-primary",bgColor:"bg-primary/10",borderColor:"border-primary/20"},optimistic:{icon:"TrendingUp",color:"text-success",bgColor:"bg-success/10",borderColor:"border-success/20"},conservative:{icon:"Shield",color:"text-warning",bgColor:"bg-warning/10",borderColor:"border-warning/20"}};return a[i]||a.current};return o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"md:hidden",children:o.jsx("div",{className:"flex space-x-1 p-1 glass rounded-xl",children:r.map(i=>{const a=n(i.type),s=e===i.type;return o.jsxs("button",{onClick:()=>t(i.type),className:`
                  flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg
                  font-heading font-medium text-sm transition-all duration-300
                  ${s?`${a.bgColor} ${a.color} glass-hover`:"text-text-secondary hover:text-text-primary hover:bg-white/50"}
                `,children:[o.jsx(k,{name:a.icon,size:16,color:s?a.color.replace("text-","var(--color-")+")":"currentColor"}),o.jsx("span",{className:"truncate",children:i.name})]},i.type)})})}),o.jsx("div",{className:"hidden md:block",children:o.jsx("div",{className:"flex space-x-2",children:r.map(i=>{const a=n(i.type),s=e===i.type;return o.jsxs("button",{onClick:()=>t(i.type),className:`
                  flex items-center space-x-3 py-4 px-6 rounded-xl
                  font-heading font-medium transition-all duration-300
                  border-2 ${s?a.borderColor:"border-transparent"}
                  ${s?`${a.bgColor} ${a.color} glass-hover`:"text-text-secondary hover:text-text-primary hover:bg-white/30"}
                `,children:[o.jsx(k,{name:a.icon,size:20,color:s?a.color.replace("text-","var(--color-")+")":"currentColor"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-base",children:i.name}),o.jsx("div",{className:"text-xs opacity-70 mt-0.5",children:i.description})]})]},i.type)})})})]})},Hp=({scenario:e,onParameterChange:t,className:r=""})=>{const n=(s,l)=>{t(e.type,s,l)},i=(s,l)=>{switch(s){case"incomeChange":return`${l>0?"+":""}${l}%`;case"expenseChange":return`${l>0?"+":""}${l}%`;case"savingsRate":return`${l}%`;case"goalTimeline":return`${l} mois`;case"riskTolerance":return["Très faible","Faible","Modéré","Élevé","Très élevé"][Math.floor(l/20)];default:return l}},a=s=>({incomeChange:{label:"Changement de revenus",icon:"TrendingUp",min:-50,max:100,step:5,color:"text-success"},expenseChange:{label:"Modification des dépenses",icon:"TrendingDown",min:-50,max:50,step:5,color:"text-warning"},savingsRate:{label:"Taux d'épargne",icon:"PiggyBank",min:0,max:50,step:1,color:"text-primary"},goalTimeline:{label:"Délai objectif",icon:"Calendar",min:1,max:60,step:1,color:"text-secondary"},riskTolerance:{label:"Tolérance au risque",icon:"Shield",min:0,max:100,step:20,color:"text-accent"}})[s]||{};return o.jsxs("div",{className:`space-y-6 ${r}`,children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-primary to-secondary"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Paramètres du scénario"})]}),Object.entries(e.parameters).map(([s,l])=>{var u;const c=a(s);return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(k,{name:c.icon,size:16,color:((u=c.color)==null?void 0:u.replace("text-","var(--color-"))+")"||"currentColor"}),o.jsx("label",{className:"font-heading font-medium text-sm text-foreground",children:c.label})]}),o.jsx("div",{className:`font-mono text-sm font-semibold ${c.color||"text-foreground"}`,children:i(s,l)})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"range",min:c.min,max:c.max,step:c.step,value:l,onChange:d=>n(s,parseFloat(d.target.value)),className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, var(--color-primary) 0%, var(--color-primary) ${(l-c.min)/(c.max-c.min)*100}%, var(--color-muted) ${(l-c.min)/(c.max-c.min)*100}%, var(--color-muted) 100%)`}}),o.jsxs("div",{className:"flex justify-between text-xs text-text-secondary mt-1",children:[o.jsx("span",{children:i(s,c.min)}),o.jsx("span",{children:i(s,c.max)})]})]})]},s)}),o.jsxs("div",{className:"pt-4 border-t border-border/20",children:[o.jsx("div",{className:"text-sm font-medium text-text-secondary mb-3",children:"Préréglages rapides"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("button",{onClick:()=>{Object.keys(e.parameters).forEach(s=>{n(s,s==="savingsRate"?10:s==="goalTimeline"?12:s==="riskTolerance"?40:0)})},className:"py-2 px-3 text-xs font-medium text-text-secondary hover:text-primary hover:bg-primary/5 rounded-lg transition-colors",children:"Réinitialiser"}),o.jsx("button",{onClick:()=>{n("incomeChange",20),n("expenseChange",-15),n("savingsRate",25)},className:"py-2 px-3 text-xs font-medium text-text-secondary hover:text-success hover:bg-success/5 rounded-lg transition-colors",children:"Optimiser"})]})]})]})};var iP=Array.isArray,Rt=iP,aP=typeof go=="object"&&go&&go.Object===Object&&go,dw=aP,sP=dw,oP=typeof self=="object"&&self&&self.Object===Object&&self,lP=sP||oP||Function("return this")(),Pr=lP,cP=Pr,uP=cP.Symbol,to=uP,Gp=to,fw=Object.prototype,dP=fw.hasOwnProperty,fP=fw.toString,Pa=Gp?Gp.toStringTag:void 0;function hP(e){var t=dP.call(e,Pa),r=e[Pa];try{e[Pa]=void 0;var n=!0}catch{}var i=fP.call(e);return n&&(t?e[Pa]=r:delete e[Pa]),i}var mP=hP,pP=Object.prototype,gP=pP.toString;function vP(e){return gP.call(e)}var yP=vP,Kp=to,xP=mP,bP=yP,wP="[object Null]",jP="[object Undefined]",Xp=Kp?Kp.toStringTag:void 0;function _P(e){return e==null?e===void 0?jP:wP:Xp&&Xp in Object(e)?xP(e):bP(e)}var en=_P;function SP(e){return e!=null&&typeof e=="object"}var tn=SP,AP=en,NP=tn,OP="[object Symbol]";function PP(e){return typeof e=="symbol"||NP(e)&&AP(e)==OP}var aa=PP,CP=Rt,EP=aa,$P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TP=/^\w*$/;function kP(e,t){if(CP(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||EP(e)?!0:TP.test(e)||!$P.test(e)||t!=null&&e in Object(t)}var Bh=kP;function IP(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var pn=IP;const sa=$e(pn);var MP=en,RP=pn,DP="[object AsyncFunction]",LP="[object Function]",FP="[object GeneratorFunction]",zP="[object Proxy]";function BP(e){if(!RP(e))return!1;var t=MP(e);return t==LP||t==FP||t==DP||t==zP}var qh=BP;const he=$e(qh);var qP=Pr,UP=qP["__core-js_shared__"],WP=UP,zu=WP,Yp=function(){var e=/[^.]+$/.exec(zu&&zu.keys&&zu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function VP(e){return!!Yp&&Yp in e}var HP=VP,GP=Function.prototype,KP=GP.toString;function XP(e){if(e!=null){try{return KP.call(e)}catch{}try{return e+""}catch{}}return""}var hw=XP,YP=qh,JP=HP,QP=pn,ZP=hw,eC=/[\\^$.*+?()[\]{}|]/g,tC=/^\[object .+?Constructor\]$/,rC=Function.prototype,nC=Object.prototype,iC=rC.toString,aC=nC.hasOwnProperty,sC=RegExp("^"+iC.call(aC).replace(eC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function oC(e){if(!QP(e)||JP(e))return!1;var t=YP(e)?sC:tC;return t.test(ZP(e))}var lC=oC;function cC(e,t){return e==null?void 0:e[t]}var uC=cC,dC=lC,fC=uC;function hC(e,t){var r=fC(e,t);return dC(r)?r:void 0}var Yn=hC,mC=Yn,pC=mC(Object,"create"),Ec=pC,Jp=Ec;function gC(){this.__data__=Jp?Jp(null):{},this.size=0}var vC=gC;function yC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var xC=yC,bC=Ec,wC="__lodash_hash_undefined__",jC=Object.prototype,_C=jC.hasOwnProperty;function SC(e){var t=this.__data__;if(bC){var r=t[e];return r===wC?void 0:r}return _C.call(t,e)?t[e]:void 0}var AC=SC,NC=Ec,OC=Object.prototype,PC=OC.hasOwnProperty;function CC(e){var t=this.__data__;return NC?t[e]!==void 0:PC.call(t,e)}var EC=CC,$C=Ec,TC="__lodash_hash_undefined__";function kC(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$C&&t===void 0?TC:t,this}var IC=kC,MC=vC,RC=xC,DC=AC,LC=EC,FC=IC;function oa(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}oa.prototype.clear=MC;oa.prototype.delete=RC;oa.prototype.get=DC;oa.prototype.has=LC;oa.prototype.set=FC;var zC=oa;function BC(){this.__data__=[],this.size=0}var qC=BC;function UC(e,t){return e===t||e!==e&&t!==t}var Uh=UC,WC=Uh;function VC(e,t){for(var r=e.length;r--;)if(WC(e[r][0],t))return r;return-1}var $c=VC,HC=$c,GC=Array.prototype,KC=GC.splice;function XC(e){var t=this.__data__,r=HC(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():KC.call(t,r,1),--this.size,!0}var YC=XC,JC=$c;function QC(e){var t=this.__data__,r=JC(t,e);return r<0?void 0:t[r][1]}var ZC=QC,e2=$c;function t2(e){return e2(this.__data__,e)>-1}var r2=t2,n2=$c;function i2(e,t){var r=this.__data__,n=n2(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var a2=i2,s2=qC,o2=YC,l2=ZC,c2=r2,u2=a2;function la(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}la.prototype.clear=s2;la.prototype.delete=o2;la.prototype.get=l2;la.prototype.has=c2;la.prototype.set=u2;var Tc=la,d2=Yn,f2=Pr,h2=d2(f2,"Map"),Wh=h2,Qp=zC,m2=Tc,p2=Wh;function g2(){this.size=0,this.__data__={hash:new Qp,map:new(p2||m2),string:new Qp}}var v2=g2;function y2(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var x2=y2,b2=x2;function w2(e,t){var r=e.__data__;return b2(t)?r[typeof t=="string"?"string":"hash"]:r.map}var kc=w2,j2=kc;function _2(e){var t=j2(this,e).delete(e);return this.size-=t?1:0,t}var S2=_2,A2=kc;function N2(e){return A2(this,e).get(e)}var O2=N2,P2=kc;function C2(e){return P2(this,e).has(e)}var E2=C2,$2=kc;function T2(e,t){var r=$2(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var k2=T2,I2=v2,M2=S2,R2=O2,D2=E2,L2=k2;function ca(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ca.prototype.clear=I2;ca.prototype.delete=M2;ca.prototype.get=R2;ca.prototype.has=D2;ca.prototype.set=L2;var Vh=ca,mw=Vh,F2="Expected a function";function Hh(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(F2);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(Hh.Cache||mw),r}Hh.Cache=mw;var pw=Hh;const z2=$e(pw);var B2=pw,q2=500;function U2(e){var t=B2(e,function(n){return r.size===q2&&r.clear(),n}),r=t.cache;return t}var W2=U2,V2=W2,H2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G2=/\\(\\)?/g,K2=V2(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(H2,function(r,n,i,a){t.push(i?a.replace(G2,"$1"):n||r)}),t}),X2=K2;function Y2(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Gh=Y2,Zp=to,J2=Gh,Q2=Rt,Z2=aa,eg=Zp?Zp.prototype:void 0,tg=eg?eg.toString:void 0;function gw(e){if(typeof e=="string")return e;if(Q2(e))return J2(e,gw)+"";if(Z2(e))return tg?tg.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var eE=gw,tE=eE;function rE(e){return e==null?"":tE(e)}var vw=rE,nE=Rt,iE=Bh,aE=X2,sE=vw;function oE(e,t){return nE(e)?e:iE(e,t)?[e]:aE(sE(e))}var yw=oE,lE=aa;function cE(e){if(typeof e=="string"||lE(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Ic=cE,uE=yw,dE=Ic;function fE(e,t){t=uE(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[dE(t[r++])];return r&&r==n?e:void 0}var Kh=fE,hE=Kh;function mE(e,t,r){var n=e==null?void 0:hE(e,t);return n===void 0?r:n}var xw=mE;const Vt=$e(xw);function pE(e){return e==null}var gE=pE;const be=$e(gE);var vE=en,yE=Rt,xE=tn,bE="[object String]";function wE(e){return typeof e=="string"||!yE(e)&&xE(e)&&vE(e)==bE}var jE=wE;const qn=$e(jE);var bw={exports:{}},Me={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh=Symbol.for("react.element"),Yh=Symbol.for("react.portal"),Mc=Symbol.for("react.fragment"),Rc=Symbol.for("react.strict_mode"),Dc=Symbol.for("react.profiler"),Lc=Symbol.for("react.provider"),Fc=Symbol.for("react.context"),_E=Symbol.for("react.server_context"),zc=Symbol.for("react.forward_ref"),Bc=Symbol.for("react.suspense"),qc=Symbol.for("react.suspense_list"),Uc=Symbol.for("react.memo"),Wc=Symbol.for("react.lazy"),SE=Symbol.for("react.offscreen"),ww;ww=Symbol.for("react.module.reference");function rr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Xh:switch(e=e.type,e){case Mc:case Dc:case Rc:case Bc:case qc:return e;default:switch(e=e&&e.$$typeof,e){case _E:case Fc:case zc:case Wc:case Uc:case Lc:return e;default:return t}}case Yh:return t}}}Me.ContextConsumer=Fc;Me.ContextProvider=Lc;Me.Element=Xh;Me.ForwardRef=zc;Me.Fragment=Mc;Me.Lazy=Wc;Me.Memo=Uc;Me.Portal=Yh;Me.Profiler=Dc;Me.StrictMode=Rc;Me.Suspense=Bc;Me.SuspenseList=qc;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(e){return rr(e)===Fc};Me.isContextProvider=function(e){return rr(e)===Lc};Me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xh};Me.isForwardRef=function(e){return rr(e)===zc};Me.isFragment=function(e){return rr(e)===Mc};Me.isLazy=function(e){return rr(e)===Wc};Me.isMemo=function(e){return rr(e)===Uc};Me.isPortal=function(e){return rr(e)===Yh};Me.isProfiler=function(e){return rr(e)===Dc};Me.isStrictMode=function(e){return rr(e)===Rc};Me.isSuspense=function(e){return rr(e)===Bc};Me.isSuspenseList=function(e){return rr(e)===qc};Me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mc||e===Dc||e===Rc||e===Bc||e===qc||e===SE||typeof e=="object"&&e!==null&&(e.$$typeof===Wc||e.$$typeof===Uc||e.$$typeof===Lc||e.$$typeof===Fc||e.$$typeof===zc||e.$$typeof===ww||e.getModuleId!==void 0)};Me.typeOf=rr;bw.exports=Me;var AE=bw.exports,NE=en,OE=tn,PE="[object Number]";function CE(e){return typeof e=="number"||OE(e)&&NE(e)==PE}var jw=CE;const EE=$e(jw);var $E=jw;function TE(e){return $E(e)&&e!=+e}var kE=TE;const ro=$e(kE);var Pt=function(t){return t===0?0:t>0?1:-1},Tn=function(t){return qn(t)&&t.indexOf("%")===t.length-1},Y=function(t){return EE(t)&&!ro(t)},IE=function(t){return be(t)},ct=function(t){return Y(t)||qn(t)},ME=0,ua=function(t){var r=++ME;return"".concat(t||"").concat(r)},Ct=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Y(t)&&!qn(t))return n;var a;if(Tn(t)){var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return ro(a)&&(a=n),i&&a>r&&(a=r),a},un=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},RE=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},xt=function(t,r){return Y(t)&&Y(r)?function(n){return t+n*(r-t)}:function(){return r}};function dl(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Vt(n,t))===r})}var DE=function(t,r){return Y(t)&&Y(r)?t-r:qn(t)&&qn(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function wi(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}var LE=["viewBox","children"],FE=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rg=["points","pathLength"],Bu={svg:LE,polygon:rg,polyline:rg},Jh=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fl=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if($.isValidElement(t)&&(n=t.props),!sa(n))return null;var i={};return Object.keys(n).forEach(function(a){Jh.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},zE=function(t,r,n){return function(i){return t(r,n,i),null}},Un=function(t,r,n){if(!sa(t)||Id(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];Jh.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=zE(s,r,n))}),i},BE=["children"],qE=["children"];function ng(e,t){if(e==null)return{};var r=UE(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UE(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}var ig={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Hr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},ag=null,qu=null,Qh=function e(t){if(t===ag&&Array.isArray(qu))return qu;var r=[];return $.Children.forEach(t,function(n){be(n)||(AE.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),qu=r,ag=t,r};function Ht(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Hr(i)}):n=[Hr(t)],Qh(e).forEach(function(i){var a=Vt(i,"type.displayName")||Vt(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function qt(e,t){var r=Ht(e,t);return r&&r[0]}var sg=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Y(n)||n<=0||!Y(i)||i<=0)},WE=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],VE=function(t){return t&&t.type&&qn(t.type)&&WE.indexOf(t.type)>=0},HE=function(t){return t&&Md(t)==="object"&&"clipDot"in t},GE=function(t,r,n,i){var a,s=(a=Bu==null?void 0:Bu[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!he(t)&&(i&&s.includes(r)||FE.includes(r))||n&&Jh.includes(r)},ce=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if($.isValidElement(t)&&(i=t.props),!sa(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;GE((l=i)===null||l===void 0?void 0:l[s],s,r,n)&&(a[s]=i[s])}),a},Rd=function e(t,r){if(t===r)return!0;var n=$.Children.count(t);if(n!==$.Children.count(r))return!1;if(n===0)return!0;if(n===1)return og(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!og(a,s))return!1}return!0},og=function(t,r){if(be(t)&&be(r))return!0;if(!be(t)&&!be(r)){var n=t.props||{},i=n.children,a=ng(n,BE),s=r.props||{},l=s.children,c=ng(s,qE);return i&&l?wi(a,c)&&Rd(i,l):!i&&!l?wi(a,c):!1}return!1},lg=function(t,r){var n=[],i={};return Qh(t).forEach(function(a,s){if(VE(a))n.push(a);else if(a){var l=Hr(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,s);n.push(f),i[l]=!0}}}),n},KE=function(t){var r=t&&t.type;return r&&ig[r]?ig[r]:null},XE=function(t,r){return Qh(r).indexOf(t)},YE=["children","width","height","viewBox","className","style","title","desc"];function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dd.apply(this,arguments)}function JE(e,t){if(e==null)return{};var r=QE(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QE(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ld(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,u=JE(e,YE),d=i||{width:r,height:n,x:0,y:0},f=ye("recharts-surface",a);return C.createElement("svg",Dd({},ce(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),C.createElement("title",null,l),C.createElement("desc",null,c),t)}var ZE=["children","className"];function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fd.apply(this,arguments)}function e$(e,t){if(e==null)return{};var r=t$(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ce=C.forwardRef(function(e,t){var r=e.children,n=e.className,i=e$(e,ZE),a=ye("recharts-layer",n);return C.createElement("g",Fd({className:a},ce(i,!0),{ref:t}),r)}),mr=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function r$(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var n$=r$,i$=n$;function a$(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:i$(e,t,r)}var s$=a$,o$="\\ud800-\\udfff",l$="\\u0300-\\u036f",c$="\\ufe20-\\ufe2f",u$="\\u20d0-\\u20ff",d$=l$+c$+u$,f$="\\ufe0e\\ufe0f",h$="\\u200d",m$=RegExp("["+h$+o$+d$+f$+"]");function p$(e){return m$.test(e)}var _w=p$;function g$(e){return e.split("")}var v$=g$,Sw="\\ud800-\\udfff",y$="\\u0300-\\u036f",x$="\\ufe20-\\ufe2f",b$="\\u20d0-\\u20ff",w$=y$+x$+b$,j$="\\ufe0e\\ufe0f",_$="["+Sw+"]",zd="["+w$+"]",Bd="\\ud83c[\\udffb-\\udfff]",S$="(?:"+zd+"|"+Bd+")",Aw="[^"+Sw+"]",Nw="(?:\\ud83c[\\udde6-\\uddff]){2}",Ow="[\\ud800-\\udbff][\\udc00-\\udfff]",A$="\\u200d",Pw=S$+"?",Cw="["+j$+"]?",N$="(?:"+A$+"(?:"+[Aw,Nw,Ow].join("|")+")"+Cw+Pw+")*",O$=Cw+Pw+N$,P$="(?:"+[Aw+zd+"?",zd,Nw,Ow,_$].join("|")+")",C$=RegExp(Bd+"(?="+Bd+")|"+P$+O$,"g");function E$(e){return e.match(C$)||[]}var $$=E$,T$=v$,k$=_w,I$=$$;function M$(e){return k$(e)?I$(e):T$(e)}var R$=M$,D$=s$,L$=_w,F$=R$,z$=vw;function B$(e){return function(t){t=z$(t);var r=L$(t)?F$(t):void 0,n=r?r[0]:t.charAt(0),i=r?D$(r,1).join(""):t.slice(1);return n[e]()+i}}var q$=B$,U$=q$,W$=U$("toUpperCase"),V$=W$;const Vc=$e(V$);function Be(e){return function(){return e}}const Ew=Math.cos,hl=Math.sin,gr=Math.sqrt,ml=Math.PI,Hc=2*ml,qd=Math.PI,Ud=2*qd,An=1e-6,H$=Ud-An;function $w(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function G$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $w;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class K${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$w:G$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=n-t,u=i-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>An)if(!(Math.abs(f*c-u*d)>An)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,p=i-l,g=c*c+u*u,v=m*m+p*p,j=Math.sqrt(g),w=Math.sqrt(h),S=a*Math.tan((qd-Math.acos((g+h-v)/(2*j*w)))/2),x=S/w,y=S/j;Math.abs(x-1)>An&&this._append`L${t+x*d},${r+x*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+y*c},${this._y1=r+y*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>An||Math.abs(this._y1-d)>An)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Ud+Ud),h>H$?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>An&&this._append`A${n},${n},0,${+(h>=qd)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Zh(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new K$(t)}function em(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Tw(e){this._context=e}Tw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Gc(e){return new Tw(e)}function kw(e){return e[0]}function Iw(e){return e[1]}function Mw(e,t){var r=Be(!0),n=null,i=Gc,a=null,s=Zh(l);e=typeof e=="function"?e:e===void 0?kw:Be(e),t=typeof t=="function"?t:t===void 0?Iw:Be(t);function l(c){var u,d=(c=em(c)).length,f,h=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Be(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Be(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Be(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function No(e,t,r){var n=null,i=Be(!0),a=null,s=Gc,l=null,c=Zh(u);e=typeof e=="function"?e:e===void 0?kw:Be(+e),t=typeof t=="function"?t:Be(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Iw:Be(+r);function u(f){var h,m,p,g=(f=em(f)).length,v,j=!1,w,S=new Array(g),x=new Array(g);for(a==null&&(l=s(w=c())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===j)if(j=!j)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(S[p],x[p]);l.lineEnd(),l.areaEnd()}j&&(S[h]=+e(v,h,f),x[h]=+t(v,h,f),l.point(n?+n(v,h,f):S[h],r?+r(v,h,f):x[h]))}if(w)return l=null,w+""||null}function d(){return Mw().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Be(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Be(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Be(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Be(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Be(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Be(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Be(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),u):a},u}class Rw{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function X$(e){return new Rw(e,!0)}function Y$(e){return new Rw(e,!1)}const tm={draw(e,t){const r=gr(t/ml);e.moveTo(r,0),e.arc(0,0,r,0,Hc)}},J$={draw(e,t){const r=gr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Dw=gr(1/3),Q$=Dw*2,Z$={draw(e,t){const r=gr(t/Q$),n=r*Dw;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},eT={draw(e,t){const r=gr(t),n=-r/2;e.rect(n,n,r,r)}},tT=.8908130915292852,Lw=hl(ml/10)/hl(7*ml/10),rT=hl(Hc/10)*Lw,nT=-Ew(Hc/10)*Lw,iT={draw(e,t){const r=gr(t*tT),n=rT*r,i=nT*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=Hc*a/5,l=Ew(s),c=hl(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},Uu=gr(3),aT={draw(e,t){const r=-gr(t/(Uu*3));e.moveTo(0,r*2),e.lineTo(-Uu*r,-r),e.lineTo(Uu*r,-r),e.closePath()}},Xt=-.5,Yt=gr(3)/2,Wd=1/gr(12),sT=(Wd/2+1)*3,oT={draw(e,t){const r=gr(t/sT),n=r/2,i=r*Wd,a=n,s=r*Wd+r,l=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(l,c),e.lineTo(Xt*n-Yt*i,Yt*n+Xt*i),e.lineTo(Xt*a-Yt*s,Yt*a+Xt*s),e.lineTo(Xt*l-Yt*c,Yt*l+Xt*c),e.lineTo(Xt*n+Yt*i,Xt*i-Yt*n),e.lineTo(Xt*a+Yt*s,Xt*s-Yt*a),e.lineTo(Xt*l+Yt*c,Xt*c-Yt*l),e.closePath()}};function lT(e,t){let r=null,n=Zh(i);e=typeof e=="function"?e:Be(e||tm),t=typeof t=="function"?t:Be(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Be(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Be(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function pl(){}function gl(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Fw(e){this._context=e}Fw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cT(e){return new Fw(e)}function zw(e){this._context=e}zw.prototype={areaStart:pl,areaEnd:pl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:gl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uT(e){return new zw(e)}function Bw(e){this._context=e}Bw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:gl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dT(e){return new Bw(e)}function qw(e){this._context=e}qw.prototype={areaStart:pl,areaEnd:pl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function fT(e){return new qw(e)}function cg(e){return e<0?-1:1}function ug(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(cg(a)+cg(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function dg(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Wu(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,s-l*r,a,s)}function vl(e){this._context=e}vl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wu(this,this._t0,dg(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wu(this,dg(this,r=ug(this,e,t)),r);break;default:Wu(this,this._t0,r=ug(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Uw(e){this._context=new Ww(e)}(Uw.prototype=Object.create(vl.prototype)).point=function(e,t){vl.prototype.point.call(this,t,e)};function Ww(e){this._context=e}Ww.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function hT(e){return new vl(e)}function mT(e){return new Uw(e)}function Vw(e){this._context=e}Vw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=fg(e),i=fg(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fg(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function pT(e){return new Vw(e)}function Kc(e,t){this._context=e,this._t=t}Kc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function gT(e){return new Kc(e,.5)}function vT(e){return new Kc(e,0)}function yT(e){return new Kc(e,1)}function Ai(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,l=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Vd(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function xT(e,t){return e[t]}function bT(e){const t=[];return t.key=e,t}function wT(){var e=Be([]),t=Vd,r=Ai,n=xT;function i(a){var s=Array.from(e.apply(this,arguments),bT),l,c=s.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,a)]).data=f;for(l=0,d=em(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Be(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Be(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Vd:typeof a=="function"?a:Be(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Ai,i):r},i}function jT(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Ai(e,t)}}function _T(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,l=0;s<i;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ai(e,t)}}function ST(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var g=e[t[p]],v=g[n][1]||0,j=g[n-1][1]||0;m+=v-j}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Ai(e,t)}}function ms(e){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}var AT=["type","size","sizeType"];function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hd.apply(this,arguments)}function hg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hg(Object(r),!0).forEach(function(n){NT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NT(e,t,r){return t=OT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OT(e){var t=PT(e,"string");return ms(t)=="symbol"?t:t+""}function PT(e,t){if(ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CT(e,t){if(e==null)return{};var r=ET(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ET(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Hw={symbolCircle:tm,symbolCross:J$,symbolDiamond:Z$,symbolSquare:eT,symbolStar:iT,symbolTriangle:aT,symbolWye:oT},$T=Math.PI/180,TT=function(t){var r="symbol".concat(Vc(t));return Hw[r]||tm},kT=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*$T;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},IT=function(t,r){Hw["symbol".concat(Vc(t))]=r},rm=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,s=t.sizeType,l=s===void 0?"area":s,c=CT(t,AT),u=mg(mg({},c),{},{type:n,size:a,sizeType:l}),d=function(){var v=TT(n),j=lT().type(v).size(kT(a,l,n));return j()},f=u.className,h=u.cx,m=u.cy,p=ce(u,!0);return h===+h&&m===+m&&a===+a?C.createElement("path",Hd({},p,{className:ye("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};rm.registerSymbol=IT;function Ni(e){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(e)}function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gd.apply(this,arguments)}function pg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pg(Object(r),!0).forEach(function(n){ps(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kw(n.key),n)}}function LT(e,t,r){return t&&DT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FT(e,t,r){return t=yl(t),zT(e,Gw()?Reflect.construct(t,r||[],yl(e).constructor):t.apply(e,r))}function zT(e,t){if(t&&(Ni(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BT(e)}function BT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gw=function(){return!!e})()}function yl(e){return yl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yl(e)}function qT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kd(e,t)}function Kd(e,t){return Kd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kd(e,t)}function ps(e,t,r){return t=Kw(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kw(e){var t=UT(e,"string");return Ni(t)=="symbol"?t:t+""}function UT(e,t){if(Ni(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ni(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jt=32,nm=function(e){function t(){return RT(this,t),FT(this,t,arguments)}return qT(t,e),LT(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Jt/2,s=Jt/6,l=Jt/3,c=n.inactive?i:n.color;if(n.type==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Jt,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Jt,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return C.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Jt/8,"h").concat(Jt,"v").concat(Jt*3/4,"h").concat(-Jt,"z"),className:"recharts-legend-icon"});if(C.isValidElement(n.legendIcon)){var u=MT({},n);return delete u.legendIcon,C.cloneElement(n.legendIcon,u)}return C.createElement(rm,{fill:c,cx:a,cy:a,size:Jt,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Jt,height:Jt},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,p){var g=m.formatter||c,v=ye(ps(ps({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",m.inactive));if(m.type==="none")return null;var j=he(m.value)?null:m.value;mr(!he(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return C.createElement("li",Gd({className:v,style:f,key:"legend-item-".concat(p)},Un(n.props,m,p)),C.createElement(Ld,{width:s,height:s,viewBox:d,style:h},n.renderIcon(m)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(j,m,p):j))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}($.PureComponent);ps(nm,"displayName","Legend");ps(nm,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var WT=Tc;function VT(){this.__data__=new WT,this.size=0}var HT=VT;function GT(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var KT=GT;function XT(e){return this.__data__.get(e)}var YT=XT;function JT(e){return this.__data__.has(e)}var QT=JT,ZT=Tc,ek=Wh,tk=Vh,rk=200;function nk(e,t){var r=this.__data__;if(r instanceof ZT){var n=r.__data__;if(!ek||n.length<rk-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new tk(n)}return r.set(e,t),this.size=r.size,this}var ik=nk,ak=Tc,sk=HT,ok=KT,lk=YT,ck=QT,uk=ik;function da(e){var t=this.__data__=new ak(e);this.size=t.size}da.prototype.clear=sk;da.prototype.delete=ok;da.prototype.get=lk;da.prototype.has=ck;da.prototype.set=uk;var Xw=da,dk="__lodash_hash_undefined__";function fk(e){return this.__data__.set(e,dk),this}var hk=fk;function mk(e){return this.__data__.has(e)}var pk=mk,gk=Vh,vk=hk,yk=pk;function xl(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new gk;++t<r;)this.add(e[t])}xl.prototype.add=xl.prototype.push=vk;xl.prototype.has=yk;var Yw=xl;function xk(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Jw=xk;function bk(e,t){return e.has(t)}var Qw=bk,wk=Yw,jk=Jw,_k=Qw,Sk=1,Ak=2;function Nk(e,t,r,n,i,a){var s=r&Sk,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&Ak?new wk:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var p=e[f],g=t[f];if(n)var v=s?n(g,p,f,t,e,a):n(p,g,f,e,t,a);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!jk(t,function(j,w){if(!_k(m,w)&&(p===j||i(p,j,r,n,a)))return m.push(w)})){h=!1;break}}else if(!(p===g||i(p,g,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var Zw=Nk,Ok=Pr,Pk=Ok.Uint8Array,Ck=Pk;function Ek(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var $k=Ek;function Tk(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var im=Tk,gg=to,vg=Ck,kk=Uh,Ik=Zw,Mk=$k,Rk=im,Dk=1,Lk=2,Fk="[object Boolean]",zk="[object Date]",Bk="[object Error]",qk="[object Map]",Uk="[object Number]",Wk="[object RegExp]",Vk="[object Set]",Hk="[object String]",Gk="[object Symbol]",Kk="[object ArrayBuffer]",Xk="[object DataView]",yg=gg?gg.prototype:void 0,Vu=yg?yg.valueOf:void 0;function Yk(e,t,r,n,i,a,s){switch(r){case Xk:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Kk:return!(e.byteLength!=t.byteLength||!a(new vg(e),new vg(t)));case Fk:case zk:case Uk:return kk(+e,+t);case Bk:return e.name==t.name&&e.message==t.message;case Wk:case Hk:return e==t+"";case qk:var l=Mk;case Vk:var c=n&Dk;if(l||(l=Rk),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=Lk,s.set(e,t);var d=Ik(l(e),l(t),n,i,a,s);return s.delete(e),d;case Gk:if(Vu)return Vu.call(e)==Vu.call(t)}return!1}var Jk=Yk;function Qk(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var ej=Qk,Zk=ej,eI=Rt;function tI(e,t,r){var n=t(e);return eI(e)?n:Zk(n,r(e))}var rI=tI;function nI(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var iI=nI;function aI(){return[]}var sI=aI,oI=iI,lI=sI,cI=Object.prototype,uI=cI.propertyIsEnumerable,xg=Object.getOwnPropertySymbols,dI=xg?function(e){return e==null?[]:(e=Object(e),oI(xg(e),function(t){return uI.call(e,t)}))}:lI,fI=dI;function hI(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var mI=hI,pI=en,gI=tn,vI="[object Arguments]";function yI(e){return gI(e)&&pI(e)==vI}var xI=yI,bg=xI,bI=tn,tj=Object.prototype,wI=tj.hasOwnProperty,jI=tj.propertyIsEnumerable,_I=bg(function(){return arguments}())?bg:function(e){return bI(e)&&wI.call(e,"callee")&&!jI.call(e,"callee")},am=_I,bl={exports:{}};function SI(){return!1}var AI=SI;bl.exports;(function(e,t){var r=Pr,n=AI,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(bl,bl.exports);var rj=bl.exports,NI=9007199254740991,OI=/^(?:0|[1-9]\d*)$/;function PI(e,t){var r=typeof e;return t=t??NI,!!t&&(r=="number"||r!="symbol"&&OI.test(e))&&e>-1&&e%1==0&&e<t}var sm=PI,CI=9007199254740991;function EI(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=CI}var om=EI,$I=en,TI=om,kI=tn,II="[object Arguments]",MI="[object Array]",RI="[object Boolean]",DI="[object Date]",LI="[object Error]",FI="[object Function]",zI="[object Map]",BI="[object Number]",qI="[object Object]",UI="[object RegExp]",WI="[object Set]",VI="[object String]",HI="[object WeakMap]",GI="[object ArrayBuffer]",KI="[object DataView]",XI="[object Float32Array]",YI="[object Float64Array]",JI="[object Int8Array]",QI="[object Int16Array]",ZI="[object Int32Array]",eM="[object Uint8Array]",tM="[object Uint8ClampedArray]",rM="[object Uint16Array]",nM="[object Uint32Array]",qe={};qe[XI]=qe[YI]=qe[JI]=qe[QI]=qe[ZI]=qe[eM]=qe[tM]=qe[rM]=qe[nM]=!0;qe[II]=qe[MI]=qe[GI]=qe[RI]=qe[KI]=qe[DI]=qe[LI]=qe[FI]=qe[zI]=qe[BI]=qe[qI]=qe[UI]=qe[WI]=qe[VI]=qe[HI]=!1;function iM(e){return kI(e)&&TI(e.length)&&!!qe[$I(e)]}var aM=iM;function sM(e){return function(t){return e(t)}}var nj=sM,wl={exports:{}};wl.exports;(function(e,t){var r=dw,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(wl,wl.exports);var oM=wl.exports,lM=aM,cM=nj,wg=oM,jg=wg&&wg.isTypedArray,uM=jg?cM(jg):lM,ij=uM,dM=mI,fM=am,hM=Rt,mM=rj,pM=sm,gM=ij,vM=Object.prototype,yM=vM.hasOwnProperty;function xM(e,t){var r=hM(e),n=!r&&fM(e),i=!r&&!n&&mM(e),a=!r&&!n&&!i&&gM(e),s=r||n||i||a,l=s?dM(e.length,String):[],c=l.length;for(var u in e)(t||yM.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||pM(u,c)))&&l.push(u);return l}var bM=xM,wM=Object.prototype;function jM(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||wM;return e===r}var _M=jM;function SM(e,t){return function(r){return e(t(r))}}var aj=SM,AM=aj,NM=AM(Object.keys,Object),OM=NM,PM=_M,CM=OM,EM=Object.prototype,$M=EM.hasOwnProperty;function TM(e){if(!PM(e))return CM(e);var t=[];for(var r in Object(e))$M.call(e,r)&&r!="constructor"&&t.push(r);return t}var kM=TM,IM=qh,MM=om;function RM(e){return e!=null&&MM(e.length)&&!IM(e)}var no=RM,DM=bM,LM=kM,FM=no;function zM(e){return FM(e)?DM(e):LM(e)}var Xc=zM,BM=rI,qM=fI,UM=Xc;function WM(e){return BM(e,UM,qM)}var VM=WM,_g=VM,HM=1,GM=Object.prototype,KM=GM.hasOwnProperty;function XM(e,t,r,n,i,a){var s=r&HM,l=_g(e),c=l.length,u=_g(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=l[f];if(!(s?h in t:KM.call(t,h)))return!1}var m=a.get(e),p=a.get(t);if(m&&p)return m==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);for(var v=s;++f<c;){h=l[f];var j=e[h],w=t[h];if(n)var S=s?n(w,j,h,t,e,a):n(j,w,h,e,t,a);if(!(S===void 0?j===w||i(j,w,r,n,a):S)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var x=e.constructor,y=t.constructor;x!=y&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof y=="function"&&y instanceof y)&&(g=!1)}return a.delete(e),a.delete(t),g}var YM=XM,JM=Yn,QM=Pr,ZM=JM(QM,"DataView"),eR=ZM,tR=Yn,rR=Pr,nR=tR(rR,"Promise"),iR=nR,aR=Yn,sR=Pr,oR=aR(sR,"Set"),sj=oR,lR=Yn,cR=Pr,uR=lR(cR,"WeakMap"),dR=uR,Xd=eR,Yd=Wh,Jd=iR,Qd=sj,Zd=dR,oj=en,fa=hw,Sg="[object Map]",fR="[object Object]",Ag="[object Promise]",Ng="[object Set]",Og="[object WeakMap]",Pg="[object DataView]",hR=fa(Xd),mR=fa(Yd),pR=fa(Jd),gR=fa(Qd),vR=fa(Zd),Nn=oj;(Xd&&Nn(new Xd(new ArrayBuffer(1)))!=Pg||Yd&&Nn(new Yd)!=Sg||Jd&&Nn(Jd.resolve())!=Ag||Qd&&Nn(new Qd)!=Ng||Zd&&Nn(new Zd)!=Og)&&(Nn=function(e){var t=oj(e),r=t==fR?e.constructor:void 0,n=r?fa(r):"";if(n)switch(n){case hR:return Pg;case mR:return Sg;case pR:return Ag;case gR:return Ng;case vR:return Og}return t});var yR=Nn,Hu=Xw,xR=Zw,bR=Jk,wR=YM,Cg=yR,Eg=Rt,$g=rj,jR=ij,_R=1,Tg="[object Arguments]",kg="[object Array]",Oo="[object Object]",SR=Object.prototype,Ig=SR.hasOwnProperty;function AR(e,t,r,n,i,a){var s=Eg(e),l=Eg(t),c=s?kg:Cg(e),u=l?kg:Cg(t);c=c==Tg?Oo:c,u=u==Tg?Oo:u;var d=c==Oo,f=u==Oo,h=c==u;if(h&&$g(e)){if(!$g(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Hu),s||jR(e)?xR(e,t,r,n,i,a):bR(e,t,c,r,n,i,a);if(!(r&_R)){var m=d&&Ig.call(e,"__wrapped__"),p=f&&Ig.call(t,"__wrapped__");if(m||p){var g=m?e.value():e,v=p?t.value():t;return a||(a=new Hu),i(g,v,r,n,a)}}return h?(a||(a=new Hu),wR(e,t,r,n,i,a)):!1}var NR=AR,OR=NR,Mg=tn;function lj(e,t,r,n,i){return e===t?!0:e==null||t==null||!Mg(e)&&!Mg(t)?e!==e&&t!==t:OR(e,t,r,n,lj,i)}var lm=lj,PR=Xw,CR=lm,ER=1,$R=2;function TR(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var l=r[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=r[i];var c=l[0],u=e[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new PR;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?CR(d,u,ER|$R,n,f):h))return!1}}return!0}var kR=TR,IR=pn;function MR(e){return e===e&&!IR(e)}var cj=MR,RR=cj,DR=Xc;function LR(e){for(var t=DR(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,RR(i)]}return t}var FR=LR;function zR(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var uj=zR,BR=kR,qR=FR,UR=uj;function WR(e){var t=qR(e);return t.length==1&&t[0][2]?UR(t[0][0],t[0][1]):function(r){return r===e||BR(r,e,t)}}var VR=WR;function HR(e,t){return e!=null&&t in Object(e)}var GR=HR,KR=yw,XR=am,YR=Rt,JR=sm,QR=om,ZR=Ic;function eD(e,t,r){t=KR(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=ZR(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&QR(i)&&JR(s,i)&&(YR(e)||XR(e)))}var tD=eD,rD=GR,nD=tD;function iD(e,t){return e!=null&&nD(e,t,rD)}var aD=iD,sD=lm,oD=xw,lD=aD,cD=Bh,uD=cj,dD=uj,fD=Ic,hD=1,mD=2;function pD(e,t){return cD(e)&&uD(t)?dD(fD(e),t):function(r){var n=oD(r,e);return n===void 0&&n===t?lD(r,e):sD(t,n,hD|mD)}}var gD=pD;function vD(e){return e}var ha=vD;function yD(e){return function(t){return t==null?void 0:t[e]}}var xD=yD,bD=Kh;function wD(e){return function(t){return bD(t,e)}}var jD=wD,_D=xD,SD=jD,AD=Bh,ND=Ic;function OD(e){return AD(e)?_D(ND(e)):SD(e)}var PD=OD,CD=VR,ED=gD,$D=ha,TD=Rt,kD=PD;function ID(e){return typeof e=="function"?e:e==null?$D:typeof e=="object"?TD(e)?ED(e[0],e[1]):CD(e):kD(e)}var Cr=ID;function MD(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var dj=MD;function RD(e){return e!==e}var DD=RD;function LD(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var FD=LD,zD=dj,BD=DD,qD=FD;function UD(e,t,r){return t===t?qD(e,t,r):zD(e,BD,r)}var WD=UD,VD=WD;function HD(e,t){var r=e==null?0:e.length;return!!r&&VD(e,t,0)>-1}var GD=HD;function KD(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var XD=KD;function YD(){}var JD=YD,Gu=sj,QD=JD,ZD=im,eL=1/0,tL=Gu&&1/ZD(new Gu([,-0]))[1]==eL?function(e){return new Gu(e)}:QD,rL=tL,nL=Yw,iL=GD,aL=XD,sL=Qw,oL=rL,lL=im,cL=200;function uL(e,t,r){var n=-1,i=iL,a=e.length,s=!0,l=[],c=l;if(r)s=!1,i=aL;else if(a>=cL){var u=t?null:oL(e);if(u)return lL(u);s=!1,i=sL,c=new nL}else c=t?[]:l;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var dL=uL,fL=Cr,hL=dL;function mL(e,t){return e&&e.length?hL(e,fL(t)):[]}var pL=mL;const Rg=$e(pL);function fj(e,t,r){return t===!0?Rg(e,r):he(t)?Rg(e,t):e}function Oi(e){"@babel/helpers - typeof";return Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(e)}var gL=["ref"];function Dg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dg(Object(r),!0).forEach(function(n){Yc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mj(n.key),n)}}function yL(e,t,r){return t&&Lg(e.prototype,t),r&&Lg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xL(e,t,r){return t=jl(t),bL(e,hj()?Reflect.construct(t,r||[],jl(e).constructor):t.apply(e,r))}function bL(e,t){if(t&&(Oi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wL(e)}function wL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hj=function(){return!!e})()}function jl(e){return jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jl(e)}function jL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ef(e,t)}function ef(e,t){return ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ef(e,t)}function Yc(e,t,r){return t=mj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mj(e){var t=_L(e,"string");return Oi(t)=="symbol"?t:t+""}function _L(e,t){if(Oi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function SL(e,t){if(e==null)return{};var r=AL(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NL(e){return e.value}function OL(e,t){if(C.isValidElement(e))return C.cloneElement(e,t);if(typeof e=="function")return C.createElement(e,t);t.ref;var r=SL(t,gL);return C.createElement(nm,r)}var Fg=1,ji=function(e){function t(){var r;vL(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=xL(this,t,[].concat(i)),Yc(r,"lastBoundingBox",{width:-1,height:-1}),r}return jL(t,e),yL(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Fg||Math.abs(i.height-this.lastBoundingBox.height)>Fg)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Dr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();h={top:((d||0)-p.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Dr(Dr({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Dr(Dr({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return C.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},OL(a,Dr(Dr({},this.props),{},{payload:fj(d,u,NL)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Dr(Dr({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Y(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}($.PureComponent);Yc(ji,"displayName","Legend");Yc(ji,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zg=to,PL=am,CL=Rt,Bg=zg?zg.isConcatSpreadable:void 0;function EL(e){return CL(e)||PL(e)||!!(Bg&&e&&e[Bg])}var $L=EL,TL=ej,kL=$L;function pj(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=kL),i||(i=[]);++a<s;){var l=e[a];t>0&&r(l)?t>1?pj(l,t-1,r,n,i):TL(i,l):n||(i[i.length]=l)}return i}var gj=pj;function IL(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),l=s.length;l--;){var c=s[e?l:++i];if(r(a[c],c,a)===!1)break}return t}}var ML=IL,RL=ML,DL=RL(),LL=DL,FL=LL,zL=Xc;function BL(e,t){return e&&FL(e,t,zL)}var vj=BL,qL=no;function UL(e,t){return function(r,n){if(r==null)return r;if(!qL(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var WL=UL,VL=vj,HL=WL,GL=HL(VL),cm=GL,KL=cm,XL=no;function YL(e,t){var r=-1,n=XL(e)?Array(e.length):[];return KL(e,function(i,a,s){n[++r]=t(i,a,s)}),n}var yj=YL;function JL(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var QL=JL,qg=aa;function ZL(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=qg(e),s=t!==void 0,l=t===null,c=t===t,u=qg(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||n&&s&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||l&&r&&i||!s&&i||!c)return-1}return 0}var e3=ZL,t3=e3;function r3(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,l=r.length;++n<s;){var c=t3(i[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var n3=r3,Ku=Gh,i3=Kh,a3=Cr,s3=yj,o3=QL,l3=nj,c3=n3,u3=ha,d3=Rt;function f3(e,t,r){t.length?t=Ku(t,function(a){return d3(a)?function(s){return i3(s,a.length===1?a[0]:a)}:a}):t=[u3];var n=-1;t=Ku(t,l3(a3));var i=s3(e,function(a,s,l){var c=Ku(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return o3(i,function(a,s){return c3(a,s,r)})}var h3=f3;function m3(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var p3=m3,g3=p3,Ug=Math.max;function v3(e,t,r){return t=Ug(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=Ug(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(s),g3(e,this,l)}}var y3=v3;function x3(e){return function(){return e}}var b3=x3,w3=Yn,j3=function(){try{var e=w3(Object,"defineProperty");return e({},"",{}),e}catch{}}(),xj=j3,_3=b3,Wg=xj,S3=ha,A3=Wg?function(e,t){return Wg(e,"toString",{configurable:!0,enumerable:!1,value:_3(t),writable:!0})}:S3,N3=A3,O3=800,P3=16,C3=Date.now;function E3(e){var t=0,r=0;return function(){var n=C3(),i=P3-(n-r);if(r=n,i>0){if(++t>=O3)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var $3=E3,T3=N3,k3=$3,I3=k3(T3),M3=I3,R3=ha,D3=y3,L3=M3;function F3(e,t){return L3(D3(e,t,R3),e+"")}var z3=F3,B3=Uh,q3=no,U3=sm,W3=pn;function V3(e,t,r){if(!W3(r))return!1;var n=typeof t;return(n=="number"?q3(r)&&U3(t,r.length):n=="string"&&t in r)?B3(r[t],e):!1}var Jc=V3,H3=gj,G3=h3,K3=z3,Vg=Jc,X3=K3(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Vg(e,t[0],t[1])?t=[]:r>2&&Vg(t[0],t[1],t[2])&&(t=[t[0]]),G3(e,H3(t,1),[])}),Y3=X3;const um=$e(Y3);function gs(e){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tf.apply(this,arguments)}function J3(e,t){return t4(e)||e4(e,t)||Z3(e,t)||Q3()}function Q3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z3(e,t){if(e){if(typeof e=="string")return Hg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hg(e,t)}}function Hg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e4(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function t4(e){if(Array.isArray(e))return e}function Gg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gg(Object(r),!0).forEach(function(n){r4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r4(e,t,r){return t=n4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n4(e){var t=i4(e,"string");return gs(t)=="symbol"?t:t+""}function i4(e,t){if(gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a4(e){return Array.isArray(e)&&ct(e[0])&&ct(e[1])?e.join(" ~ "):e}var s4=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,p=t.labelClassName,g=t.label,v=t.labelFormatter,j=t.accessibilityLayer,w=j===void 0?!1:j,S=function(){if(d&&d.length){var P={padding:0,margin:0},E=(h?um(d,h):d).map(function(M,R){if(M.type==="none")return null;var F=Xu({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),D=M.formatter||f||a4,z=M.value,H=M.name,W=z,Z=H;if(D&&W!=null&&Z!=null){var K=D(z,H,M,R,d);if(Array.isArray(K)){var re=J3(K,2);W=re[0],Z=re[1]}else W=K}return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:F},ct(Z)?C.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,ct(Z)?C.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,C.createElement("span",{className:"recharts-tooltip-item-value"},W),C.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:P},E)}return null},x=Xu({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),y=Xu({margin:0},u),b=!be(g),_=b?g:"",A=ye("recharts-default-tooltip",m),O=ye("recharts-tooltip-label",p);b&&v&&d!==void 0&&d!==null&&(_=v(g,d));var T=w?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",tf({className:A,style:x},T),C.createElement("p",{className:O,style:y},C.isValidElement(_)?_:"".concat(_)),S())};function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function Po(e,t,r){return t=o4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o4(e){var t=l4(e,"string");return vs(t)=="symbol"?t:t+""}function l4(e,t){if(vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ca="recharts-tooltip-wrapper",c4={visibility:"hidden"};function u4(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ye(Ca,Po(Po(Po(Po({},"".concat(Ca,"-right"),Y(r)&&t&&Y(t.x)&&r>=t.x),"".concat(Ca,"-left"),Y(r)&&t&&Y(t.x)&&r<t.x),"".concat(Ca,"-bottom"),Y(n)&&t&&Y(t.y)&&n>=t.y),"".concat(Ca,"-top"),Y(n)&&t&&Y(t.y)&&n<t.y))}function Kg(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&Y(a[n]))return a[n];var d=r[n]-l-i,f=r[n]+i;if(t[n])return s[n]?d:f;if(s[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var p=f+l,g=c[n]+u;return p>g?Math.max(d,c[n]):Math.max(f,c[n])}function d4(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function f4(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=Kg({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=Kg({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=d4({translateX:d,translateY:f,useTranslate3d:l})):u=c4,{cssProperties:u,cssClasses:u4({translateX:d,translateY:f,coordinate:r})}}function Pi(e){"@babel/helpers - typeof";return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(e)}function Xg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xg(Object(r),!0).forEach(function(n){nf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wj(n.key),n)}}function p4(e,t,r){return t&&m4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g4(e,t,r){return t=_l(t),v4(e,bj()?Reflect.construct(t,r||[],_l(e).constructor):t.apply(e,r))}function v4(e,t){if(t&&(Pi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y4(e)}function y4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bj=function(){return!!e})()}function _l(e){return _l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_l(e)}function x4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rf(e,t)}function rf(e,t){return rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rf(e,t)}function nf(e,t,r){return t=wj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wj(e){var t=b4(e,"string");return Pi(t)=="symbol"?t:t+""}function b4(e,t){if(Pi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jg=1,w4=function(e){function t(){var r;h4(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=g4(this,t,[].concat(i)),nf(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),nf(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return x4(t,e),p4(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Jg||Math.abs(n.height-this.state.lastBoundingBox.height)>Jg)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,p=i.position,g=i.reverseDirection,v=i.useTranslate3d,j=i.viewBox,w=i.wrapperStyle,S=f4({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:j}),x=S.cssClasses,y=S.cssProperties,b=Yg(Yg({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return C.createElement("div",{tabIndex:-1,className:x,style:b,ref:function(A){n.wrapperNode=A}},u)}}])}($.PureComponent),j4=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gn={isSsr:j4()};function Ci(e){"@babel/helpers - typeof";return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ci(e)}function Qg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qg(Object(r),!0).forEach(function(n){dm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_j(n.key),n)}}function A4(e,t,r){return t&&S4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function N4(e,t,r){return t=Sl(t),O4(e,jj()?Reflect.construct(t,r||[],Sl(e).constructor):t.apply(e,r))}function O4(e,t){if(t&&(Ci(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P4(e)}function P4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jj=function(){return!!e})()}function Sl(e){return Sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sl(e)}function C4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&af(e,t)}function af(e,t){return af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},af(e,t)}function dm(e,t,r){return t=_j(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _j(e){var t=E4(e,"string");return Ci(t)=="symbol"?t:t+""}function E4(e,t){if(Ci(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ci(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $4(e){return e.dataKey}function T4(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(s4,t)}var Ut=function(e){function t(){return _4(this,t),N4(this,t,arguments)}return C4(t,e),A4(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,p=i.payload,g=i.payloadUniqBy,v=i.position,j=i.reverseDirection,w=i.useTranslate3d,S=i.viewBox,x=i.wrapperStyle,y=p??[];f&&y.length&&(y=fj(p.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),g,$4));var b=y.length>0;return C.createElement(w4,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:b,offset:m,position:v,reverseDirection:j,useTranslate3d:w,viewBox:S,wrapperStyle:x},T4(u,Zg(Zg({},this.props),{},{payload:y})))}}])}($.PureComponent);dm(Ut,"displayName","Tooltip");dm(Ut,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var k4=Pr,I4=function(){return k4.Date.now()},M4=I4,R4=/\s/;function D4(e){for(var t=e.length;t--&&R4.test(e.charAt(t)););return t}var L4=D4,F4=L4,z4=/^\s+/;function B4(e){return e&&e.slice(0,F4(e)+1).replace(z4,"")}var q4=B4,U4=q4,ev=pn,W4=aa,tv=NaN,V4=/^[-+]0x[0-9a-f]+$/i,H4=/^0b[01]+$/i,G4=/^0o[0-7]+$/i,K4=parseInt;function X4(e){if(typeof e=="number")return e;if(W4(e))return tv;if(ev(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ev(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=U4(e);var r=H4.test(e);return r||G4.test(e)?K4(e.slice(2),r?2:8):V4.test(e)?tv:+e}var Sj=X4,Y4=pn,Yu=M4,rv=Sj,J4="Expected a function",Q4=Math.max,Z4=Math.min;function eF(e,t,r){var n,i,a,s,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(J4);t=rv(t)||0,Y4(r)&&(d=!!r.leading,f="maxWait"in r,a=f?Q4(rv(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function m(b){var _=n,A=i;return n=i=void 0,u=b,s=e.apply(A,_),s}function p(b){return u=b,l=setTimeout(j,t),d?m(b):s}function g(b){var _=b-c,A=b-u,O=t-_;return f?Z4(O,a-A):O}function v(b){var _=b-c,A=b-u;return c===void 0||_>=t||_<0||f&&A>=a}function j(){var b=Yu();if(v(b))return w(b);l=setTimeout(j,g(b))}function w(b){return l=void 0,h&&n?m(b):(n=i=void 0,s)}function S(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function x(){return l===void 0?s:w(Yu())}function y(){var b=Yu(),_=v(b);if(n=arguments,i=this,c=b,_){if(l===void 0)return p(c);if(f)return clearTimeout(l),l=setTimeout(j,t),m(c)}return l===void 0&&(l=setTimeout(j,t)),s}return y.cancel=S,y.flush=x,y}var tF=eF,rF=tF,nF=pn,iF="Expected a function";function aF(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(iF);return nF(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),rF(e,t,{leading:n,maxWait:t,trailing:i})}var sF=aF;const Aj=$e(sF);function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function nv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nv(Object(r),!0).forEach(function(n){oF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oF(e,t,r){return t=lF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lF(e){var t=cF(e,"string");return ys(t)=="symbol"?t:t+""}function cF(e,t){if(ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uF(e,t){return mF(e)||hF(e,t)||fF(e,t)||dF()}function dF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fF(e,t){if(e){if(typeof e=="string")return iv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iv(e,t)}}function iv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function mF(e){if(Array.isArray(e))return e}var Al=$.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,s=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,p=e.debounce,g=p===void 0?0:p,v=e.id,j=e.className,w=e.onResize,S=e.style,x=S===void 0?{}:S,y=$.useRef(null),b=$.useRef();b.current=w,$.useImperativeHandle(t,function(){return Object.defineProperty(y.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),y.current},configurable:!0})});var _=$.useState({containerWidth:i.width,containerHeight:i.height}),A=uF(_,2),O=A[0],T=A[1],N=$.useCallback(function(E,M){T(function(R){var F=Math.round(E),D=Math.round(M);return R.containerWidth===F&&R.containerHeight===D?R:{containerWidth:F,containerHeight:D}})},[]);$.useEffect(function(){var E=function(H){var W,Z=H[0].contentRect,K=Z.width,re=Z.height;N(K,re),(W=b.current)===null||W===void 0||W.call(b,K,re)};g>0&&(E=Aj(E,g,{trailing:!0,leading:!1}));var M=new ResizeObserver(E),R=y.current.getBoundingClientRect(),F=R.width,D=R.height;return N(F,D),M.observe(y.current),function(){M.disconnect()}},[N,g]);var P=$.useMemo(function(){var E=O.containerWidth,M=O.containerHeight;if(E<0||M<0)return null;mr(Tn(s)||Tn(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),mr(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=Tn(s)?E:s,F=Tn(c)?M:c;r&&r>0&&(R?F=R/r:F&&(R=F*r),h&&F>h&&(F=h)),mr(R>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,F,s,c,d,f,r);var D=!Array.isArray(m)&&Hr(m.type).endsWith("Chart");return C.Children.map(m,function(z){return C.isValidElement(z)?$.cloneElement(z,Co({width:R,height:F},D?{style:Co({height:"100%",width:"100%",maxHeight:F,maxWidth:R},z.props.style)}:{})):z})},[r,m,c,h,f,d,O,s]);return C.createElement("div",{id:v?"".concat(v):void 0,className:ye("recharts-responsive-container",j),style:Co(Co({},x),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:y},P)}),Qc=function(t){return null};Qc.displayName="Cell";function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function av(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?av(Object(r),!0).forEach(function(n){pF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):av(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pF(e,t,r){return t=gF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gF(e){var t=vF(e,"string");return xs(t)=="symbol"?t:t+""}function vF(e,t){if(xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ai={widthCache:{},cacheCount:0},yF=2e3,xF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sv="recharts_measurement_span";function bF(e){var t=sf({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ns=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gn.isSsr)return{width:0,height:0};var n=bF(r),i=JSON.stringify({text:t,copyStyle:n});if(ai.widthCache[i])return ai.widthCache[i];try{var a=document.getElementById(sv);a||(a=document.createElement("span"),a.setAttribute("id",sv),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=sf(sf({},xF),n);Object.assign(a.style,s),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return ai.widthCache[i]=c,++ai.cacheCount>yF&&(ai.cacheCount=0,ai.widthCache={}),c}catch{return{width:0,height:0}}},wF=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function Nl(e,t){return AF(e)||SF(e,t)||_F(e,t)||jF()}function jF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _F(e,t){if(e){if(typeof e=="string")return ov(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ov(e,t)}}function ov(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function AF(e){if(Array.isArray(e))return e}function NF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PF(n.key),n)}}function OF(e,t,r){return t&&lv(e.prototype,t),r&&lv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PF(e){var t=CF(e,"string");return bs(t)=="symbol"?t:t+""}function CF(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$F=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Nj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},TF=Object.keys(Nj),pi="NaN";function kF(e,t){return e*Nj[t]}var Eo=function(){function e(t,r){NF(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!EF.test(r)&&(this.num=NaN,this.unit=""),TF.includes(r)&&(this.num=kF(t,r),this.unit="px")}return OF(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=$F.exec(r))!==null&&n!==void 0?n:[],a=Nl(i,3),s=a[1],l=a[2];return new e(parseFloat(s),l??"")}}])}();function Oj(e){if(e.includes(pi))return pi;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=cv.exec(t))!==null&&r!==void 0?r:[],i=Nl(n,4),a=i[1],s=i[2],l=i[3],c=Eo.parse(a??""),u=Eo.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return pi;t=t.replace(cv,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=uv.exec(t))!==null&&f!==void 0?f:[],m=Nl(h,4),p=m[1],g=m[2],v=m[3],j=Eo.parse(p??""),w=Eo.parse(v??""),S=g==="+"?j.add(w):j.subtract(w);if(S.isNaN())return pi;t=t.replace(uv,S.toString())}return t}var dv=/\(([^()]*)\)/;function IF(e){for(var t=e;t.includes("(");){var r=dv.exec(t),n=Nl(r,2),i=n[1];t=t.replace(dv,Oj(i))}return t}function MF(e){var t=e.replace(/\s+/g,"");return t=IF(t),t=Oj(t),t}function RF(e){try{return MF(e)}catch{return pi}}function Ju(e){var t=RF(e.slice(5,-1));return t===pi?"":t}var DF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],LF=["dx","dy","angle","className","breakAll"];function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(this,arguments)}function fv(e,t){if(e==null)return{};var r=FF(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hv(e,t){return UF(e)||qF(e,t)||BF(e,t)||zF()}function zF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BF(e,t){if(e){if(typeof e=="string")return mv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mv(e,t)}}function mv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function UF(e){if(Array.isArray(e))return e}var Pj=/[ \f\n\r\t\v\u2028\u2029]+/,Cj=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];be(r)||(n?a=r.toString().split(""):a=r.toString().split(Pj));var s=a.map(function(c){return{word:c,width:ns(c,i).width}}),l=n?0:ns(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},WF=function(t,r,n,i,a){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Y(s),f=l,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(F,D){var z=D.word,H=D.width,W=F[F.length-1];if(W&&(i==null||a||W.width+H+n<Number(i)))W.words.push(z),W.width+=H+n;else{var Z={words:[z],width:H};F.push(Z)}return F},[])},m=h(r),p=function(R){return R.reduce(function(F,D){return F.width>D.width?F:D})};if(!d)return m;for(var g="…",v=function(R){var F=f.slice(0,R),D=Cj({breakAll:u,style:c,children:F+g}).wordsWithComputedWidth,z=h(D),H=z.length>s||p(z).width>Number(i);return[H,z]},j=0,w=f.length-1,S=0,x;j<=w&&S<=f.length-1;){var y=Math.floor((j+w)/2),b=y-1,_=v(b),A=hv(_,2),O=A[0],T=A[1],N=v(y),P=hv(N,1),E=P[0];if(!O&&!E&&(j=y+1),O&&E&&(w=y-1),!O&&E){x=T;break}S++}return x||m},pv=function(t){var r=be(t)?[]:t.toString().split(Pj);return[{words:r}]},VF=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!gn.isSsr){var c,u,d=Cj({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return pv(i);return WF({breakAll:s,children:i,maxLines:l,style:a},c,u,r,n)}return pv(i)},gv="#808080",Wn=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,p=t.verticalAnchor,g=p===void 0?"end":p,v=t.fill,j=v===void 0?gv:v,w=fv(t,DF),S=$.useMemo(function(){return VF({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),x=w.dx,y=w.dy,b=w.angle,_=w.className,A=w.breakAll,O=fv(w,LF);if(!ct(n)||!ct(a))return null;var T=n+(Y(x)?x:0),N=a+(Y(y)?y:0),P;switch(g){case"start":P=Ju("calc(".concat(u,")"));break;case"middle":P=Ju("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=Ju("calc(".concat(S.length-1," * -").concat(l,")"));break}var E=[];if(f){var M=S[0].width,R=w.width;E.push("scale(".concat((Y(R)?R/M:1)/M,")"))}return b&&E.push("rotate(".concat(b,", ").concat(T,", ").concat(N,")")),E.length&&(O.transform=E.join(" ")),C.createElement("text",of({},ce(O,!0),{x:T,y:N,className:ye("recharts-text",_),textAnchor:m,fill:j.includes("url")?gv:j}),S.map(function(F,D){var z=F.words.join(A?"":" ");return C.createElement("tspan",{x:T,dy:D===0?P:l,key:"".concat(z,"-").concat(D)},z)}))};function hn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fm(e){let t,r,n;e.length!==2?(t=hn,r=(l,c)=>hn(e(l),c),n=(l,c)=>e(l)-c):(t=e===hn||e===HF?e:GF,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:s,right:a}}function GF(){return 0}function Ej(e){return e===null?NaN:+e}function*KF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const XF=fm(hn),io=XF.right;fm(Ej).center;class vv extends Map{constructor(t,r=QF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(yv(this,t))}has(t){return super.has(yv(this,t))}set(t,r){return super.set(YF(this,t),r)}delete(t){return super.delete(JF(this,t))}}function yv({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function YF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function JF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function QF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ZF(e=hn){if(e===hn)return $j;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function $j(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ez=Math.sqrt(50),tz=Math.sqrt(10),rz=Math.sqrt(2);function Ol(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=ez?10:a>=tz?5:a>=rz?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Ol(e,t,r*2):[l,c,u]}function lf(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?Ol(t,e,r):Ol(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(a-u)/-s;else for(let u=0;u<l;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(i+u)/-s;else for(let u=0;u<l;++u)c[u]=(i+u)*s;return c}function cf(e,t,r){return t=+t,e=+e,r=+r,Ol(e,t,r)[2]}function uf(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?cf(t,e,r):cf(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function xv(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function bv(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Tj(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?$j:ZF(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));Tj(e,t,m,p,i)}const a=e[t];let s=r,l=n;for(Ea(e,r,t),i(e[n],a)>0&&Ea(e,r,n);s<l;){for(Ea(e,s,l),++s,--l;i(e[s],a)<0;)++s;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?Ea(e,r,l):(++l,Ea(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ea(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function nz(e,t,r){if(e=Float64Array.from(KF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return bv(e);if(t>=1)return xv(e);var n,i=(n-1)*t,a=Math.floor(i),s=xv(Tj(e,a).subarray(0,a+1)),l=bv(e.subarray(a+1));return s+(l-s)*(i-a)}}function iz(e,t,r=Ej){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return s+(l-s)*(i-a)}}function az(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function nr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function rn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const df=Symbol("implicit");function hm(){var e=new vv,t=[],r=[],n=df;function i(a){let s=e.get(a);if(s===void 0){if(n!==df)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new vv;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return hm(t,r).unknown(n)},nr.apply(i,arguments),i}function ws(){var e=hm().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,p=m?i:n,g=m?n:i;a=(g-p)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),p+=(g-p-a*(h-c))*d,s=a*(1-c),l&&(p=Math.round(p),s=Math.round(s));var v=az(h).map(function(j){return p+a*j});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return ws(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},nr.apply(f(),arguments)}function kj(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kj(t())},e}function is(){return kj(ws.apply(null,arguments).paddingInner(1))}function mm(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Ij(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ao(){}var js=.7,Pl=1/js,_i="\\s*([+-]?\\d+)\\s*",_s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Sr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sz=/^#([0-9a-f]{3,8})$/,oz=new RegExp(`^rgb\\(${_i},${_i},${_i}\\)$`),lz=new RegExp(`^rgb\\(${Sr},${Sr},${Sr}\\)$`),cz=new RegExp(`^rgba\\(${_i},${_i},${_i},${_s}\\)$`),uz=new RegExp(`^rgba\\(${Sr},${Sr},${Sr},${_s}\\)$`),dz=new RegExp(`^hsl\\(${_s},${Sr},${Sr}\\)$`),fz=new RegExp(`^hsla\\(${_s},${Sr},${Sr},${_s}\\)$`),wv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mm(ao,Vn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jv,formatHex:jv,formatHex8:hz,formatHsl:mz,formatRgb:_v,toString:_v});function jv(){return this.rgb().formatHex()}function hz(){return this.rgb().formatHex8()}function mz(){return Mj(this).formatHsl()}function _v(){return this.rgb().formatRgb()}function Vn(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=sz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Sv(t):r===3?new Mt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?$o(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?$o(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oz.exec(e))?new Mt(t[1],t[2],t[3],1):(t=lz.exec(e))?new Mt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cz.exec(e))?$o(t[1],t[2],t[3],t[4]):(t=uz.exec(e))?$o(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dz.exec(e))?Ov(t[1],t[2]/100,t[3]/100,1):(t=fz.exec(e))?Ov(t[1],t[2]/100,t[3]/100,t[4]):wv.hasOwnProperty(e)?Sv(wv[e]):e==="transparent"?new Mt(NaN,NaN,NaN,0):null}function Sv(e){return new Mt(e>>16&255,e>>8&255,e&255,1)}function $o(e,t,r,n){return n<=0&&(e=t=r=NaN),new Mt(e,t,r,n)}function pz(e){return e instanceof ao||(e=Vn(e)),e?(e=e.rgb(),new Mt(e.r,e.g,e.b,e.opacity)):new Mt}function ff(e,t,r,n){return arguments.length===1?pz(e):new Mt(e,t,r,n??1)}function Mt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}mm(Mt,ff,Ij(ao,{brighter(e){return e=e==null?Pl:Math.pow(Pl,e),new Mt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?js:Math.pow(js,e),new Mt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Mt(Ln(this.r),Ln(this.g),Ln(this.b),Cl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Av,formatHex:Av,formatHex8:gz,formatRgb:Nv,toString:Nv}));function Av(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}`}function gz(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}${kn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nv(){const e=Cl(this.opacity);return`${e===1?"rgb(":"rgba("}${Ln(this.r)}, ${Ln(this.g)}, ${Ln(this.b)}${e===1?")":`, ${e})`}`}function Cl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ln(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kn(e){return e=Ln(e),(e<16?"0":"")+e.toString(16)}function Ov(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ur(e,t,r,n)}function Mj(e){if(e instanceof ur)return new ur(e.h,e.s,e.l,e.opacity);if(e instanceof ao||(e=Vn(e)),!e)return new ur;if(e instanceof ur)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,l=a-i,c=(a+i)/2;return l?(t===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new ur(s,l,c,e.opacity)}function vz(e,t,r,n){return arguments.length===1?Mj(e):new ur(e,t,r,n??1)}function ur(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}mm(ur,vz,Ij(ao,{brighter(e){return e=e==null?Pl:Math.pow(Pl,e),new ur(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?js:Math.pow(js,e),new ur(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Mt(Qu(e>=240?e-240:e+120,i,n),Qu(e,i,n),Qu(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ur(Pv(this.h),To(this.s),To(this.l),Cl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cl(this.opacity);return`${e===1?"hsl(":"hsla("}${Pv(this.h)}, ${To(this.s)*100}%, ${To(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Pv(e){return e=(e||0)%360,e<0?e+360:e}function To(e){return Math.max(0,Math.min(1,e||0))}function Qu(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const pm=e=>()=>e;function yz(e,t){return function(r){return e+r*t}}function xz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function bz(e){return(e=+e)==1?Rj:function(t,r){return r-t?xz(t,r,e):pm(isNaN(t)?r:t)}}function Rj(e,t){var r=t-e;return r?yz(e,r):pm(isNaN(e)?t:e)}const El=function e(t){var r=bz(t);function n(i,a){var s=r((i=ff(i)).r,(a=ff(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=Rj(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function wz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function jz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _z(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=ma(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function Sz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function lr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Az(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=ma(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var hf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zu=new RegExp(hf.source,"g");function Nz(e){return function(){return e}}function Oz(e){return function(t){return e(t)+""}}function Dj(e,t){var r=hf.lastIndex=Zu.lastIndex=0,n,i,a,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=hf.exec(e))&&(i=Zu.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:lr(n,i)})),r=Zu.lastIndex;return r<t.length&&(a=t.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?Oz(c[0].x):Nz(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function ma(e,t){var r=typeof t,n;return t==null||r==="boolean"?pm(t):(r==="number"?lr:r==="string"?(n=Vn(t))?(t=n,El):Dj:t instanceof Vn?El:t instanceof Date?Sz:jz(t)?wz:Array.isArray(t)?_z:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Az:lr)(e,t)}function gm(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Cv=180/Math.PI,mf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Lj(e,t,r,n,i,a){var s,l,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,c/=l),e*n<t*r&&(e=-e,t=-t,c=-c,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Cv,skewX:Math.atan(c)*Cv,scaleX:s,scaleY:l}}var ko;function Pz(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?mf:Lj(t.a,t.b,t.c,t.d,t.e,t.f)}function Cz(e){return e==null||(ko||(ko=document.createElementNS("http://www.w3.org/2000/svg","g")),ko.setAttribute("transform",e),!(e=ko.transform.baseVal.consolidate()))?mf:(e=e.matrix,Lj(e.a,e.b,e.c,e.d,e.e,e.f))}function Fj(e,t,r,n){function i(u){return u.length?u.pop()+" ":""}function a(u,d,f,h,m,p){if(u!==f||d!==h){var g=m.push("translate(",null,t,null,r);p.push({i:g-4,x:lr(u,f)},{i:g-2,x:lr(d,h)})}else(f||h)&&m.push("translate("+f+t+h+r)}function s(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,n)-2,x:lr(u,d)})):d&&f.push(i(f)+"rotate("+d+n)}function l(u,d,f,h){u!==d?h.push({i:f.push(i(f)+"skewX(",null,n)-2,x:lr(u,d)}):d&&f.push(i(f)+"skewX("+d+n)}function c(u,d,f,h,m,p){if(u!==f||d!==h){var g=m.push(i(m)+"scale(",null,",",null,")");p.push({i:g-4,x:lr(u,f)},{i:g-2,x:lr(d,h)})}else(f!==1||h!==1)&&m.push(i(m)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),a(u.translateX,u.translateY,d.translateX,d.translateY,f,h),s(u.rotate,d.rotate,f,h),l(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(m){for(var p=-1,g=h.length,v;++p<g;)f[(v=h[p]).i]=v.x(m);return f.join("")}}}var Ez=Fj(Pz,"px, ","px)","deg)"),$z=Fj(Cz,", ",")",")");function Tz(e,t){t===void 0&&(t=e,e=ma);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function kz(e){return function(){return e}}function $l(e){return+e}var Ev=[0,1];function Et(e){return e}function pf(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:kz(isNaN(t)?NaN:.5)}function Iz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Mz(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=pf(i,n),a=r(s,a)):(n=pf(n,i),a=r(a,s)),function(l){return a(n(l))}}function Rz(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=pf(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(l){var c=io(e,l,1,n)-1;return a[c](i[c](l))}}function so(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zc(){var e=Ev,t=Ev,r=ma,n,i,a,s=Et,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Et&&(s=Iz(e[0],e[h-1])),l=h>2?Rz:Mz,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=l(t,e.map(n),lr)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,$l),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=gm,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Et,d()):s!==Et},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function vm(){return Zc()(Et,Et)}function Dz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Tl(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ei(e){return e=Tl(Math.abs(e)),e?e[1]:NaN}function Lz(e,t){return function(r,n){for(var i=r.length,a=[],s=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Fz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var zz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ss(e){if(!(t=zz.exec(e)))throw new Error("invalid format: "+e);var t;return new ym({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ss.prototype=ym.prototype;function ym(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ym.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bz(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var zj;function qz(e,t){var r=Tl(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(zj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Tl(e,Math.max(0,t+a-1))[0]}function $v(e,t){var r=Tl(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Tv={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Dz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$v(e*100,t),r:$v,s:qz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kv(e){return e}var Iv=Array.prototype.map,Mv=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Uz(e){var t=e.grouping===void 0||e.thousands===void 0?kv:Lz(Iv.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?kv:Fz(Iv.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ss(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,v=f.zero,j=f.width,w=f.comma,S=f.precision,x=f.trim,y=f.type;y==="n"?(w=!0,y="g"):Tv[y]||(S===void 0&&(S=12),x=!0,y="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var b=g==="$"?r:g==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_=g==="$"?n:/[%p]/.test(y)?s:"",A=Tv[y],O=/[defgprs%]/.test(y);S=S===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function T(N){var P=b,E=_,M,R,F;if(y==="c")E=A(N)+E,N="";else{N=+N;var D=N<0||1/N<0;if(N=isNaN(N)?c:A(Math.abs(N),S),x&&(N=Bz(N)),D&&+N==0&&p!=="+"&&(D=!1),P=(D?p==="("?p:l:p==="-"||p==="("?"":p)+P,E=(y==="s"?Mv[8+zj/3]:"")+E+(D&&p==="("?")":""),O){for(M=-1,R=N.length;++M<R;)if(F=N.charCodeAt(M),48>F||F>57){E=(F===46?i+N.slice(M+1):N.slice(M))+E,N=N.slice(0,M);break}}}w&&!v&&(N=t(N,1/0));var z=P.length+N.length+E.length,H=z<j?new Array(j-z+1).join(h):"";switch(w&&v&&(N=t(H+N,H.length?j-E.length:1/0),H=""),m){case"<":N=P+N+E+H;break;case"=":N=P+H+N+E;break;case"^":N=H.slice(0,z=H.length>>1)+P+N+E+H.slice(z);break;default:N=H+P+N+E;break}return a(N)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=Ss(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Ei(h)/3)))*3,g=Math.pow(10,-p),v=Mv[8+p/3];return function(j){return m(g*j)+v}}return{format:u,formatPrefix:d}}var Io,xm,Bj;Wz({thousands:",",grouping:[3],currency:["$",""]});function Wz(e){return Io=Uz(e),xm=Io.format,Bj=Io.formatPrefix,Io}function Vz(e){return Math.max(0,-Ei(Math.abs(e)))}function Hz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ei(t)/3)))*3-Ei(Math.abs(e)))}function Gz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ei(t)-Ei(e))+1}function qj(e,t,r,n){var i=uf(e,t,r),a;switch(n=Ss(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Hz(i,s))&&(n.precision=a),Bj(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Gz(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Vz(i))&&(n.precision=a-(n.type==="%")*2);break}}return xm(n)}function vn(e){var t=e.domain;return e.ticks=function(r){var n=t();return lf(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return qj(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],l=n[a],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=cf(s,l,r),u===c)return n[i]=s,n[a]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function kl(){var e=vm();return e.copy=function(){return so(e,kl())},nr.apply(e,arguments),vn(e)}function Uj(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,$l),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Uj(e).unknown(t)},e=arguments.length?Array.from(e,$l):[0,1],vn(r)}function Wj(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Rv(e){return Math.log(e)}function Dv(e){return Math.exp(e)}function Kz(e){return-Math.log(-e)}function Xz(e){return-Math.exp(-e)}function Yz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Jz(e){return e===10?Yz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Qz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Lv(e){return(t,r)=>-e(-t,r)}function bm(e){const t=e(Rv,Dv),r=t.domain;let n=10,i,a;function s(){return i=Qz(n),a=Jz(n),r()[0]<0?(i=Lv(i),a=Lv(a),e(Kz,Xz)):e(Rv,Dv),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,g;const v=l==null?10:+l;let j=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/a(-h):p*a(h),!(g<u)){if(g>d)break;j.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/a(-h):p*a(h),!(g<u)){if(g>d)break;j.push(g)}j.length*2<v&&(j=lf(u,d,v))}else j=lf(h,m,Math.min(m-h,v)).map(a);return f?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ss(c)).precision==null&&(c.trim=!0),c=xm(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(Wj(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function Vj(){const e=bm(Zc()).domain([1,10]);return e.copy=()=>so(e,Vj()).base(e.base()),nr.apply(e,arguments),e}function Fv(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function zv(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wm(e){var t=1,r=e(Fv(t),zv(t));return r.constant=function(n){return arguments.length?e(Fv(t=+n),zv(t)):t},vn(r)}function Hj(){var e=wm(Zc());return e.copy=function(){return so(e,Hj()).constant(e.constant())},nr.apply(e,arguments)}function Bv(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Zz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function eB(e){return e<0?-e*e:e*e}function jm(e){var t=e(Et,Et),r=1;function n(){return r===1?e(Et,Et):r===.5?e(Zz,eB):e(Bv(r),Bv(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},vn(t)}function _m(){var e=jm(Zc());return e.copy=function(){return so(e,_m()).exponent(e.exponent())},nr.apply(e,arguments),e}function tB(){return _m.apply(null,arguments).exponent(.5)}function qv(e){return Math.sign(e)*e*e}function rB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Gj(){var e=vm(),t=[0,1],r=!1,n;function i(a){var s=rB(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(qv(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,$l)).map(qv)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Gj(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},nr.apply(i,arguments),vn(i)}function Kj(){var e=[],t=[],r=[],n;function i(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=iz(e,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:t[io(r,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(hn),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Kj().domain(e).range(t).unknown(n)},nr.apply(a,arguments)}function Xj(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[io(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return Xj().domain([e,t]).range(i).unknown(a)},nr.apply(vn(s),arguments)}function Yj(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[io(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Yj().domain(e).range(t).unknown(r)},nr.apply(i,arguments)}const ed=new Date,td=new Date;function ut(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<s);return c},i.filter=a=>ut(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(ed.setTime(+a),td.setTime(+s),e(ed),e(td),Math.floor(r(ed,td))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Il=ut(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Il.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ut(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Il);Il.range;const Ur=1e3,er=Ur*60,Wr=er*60,Kr=Wr*24,Sm=Kr*7,Uv=Kr*30,rd=Kr*365,In=ut(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ur)},(e,t)=>(t-e)/Ur,e=>e.getUTCSeconds());In.range;const Am=ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ur)},(e,t)=>{e.setTime(+e+t*er)},(e,t)=>(t-e)/er,e=>e.getMinutes());Am.range;const Nm=ut(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*er)},(e,t)=>(t-e)/er,e=>e.getUTCMinutes());Nm.range;const Om=ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ur-e.getMinutes()*er)},(e,t)=>{e.setTime(+e+t*Wr)},(e,t)=>(t-e)/Wr,e=>e.getHours());Om.range;const Pm=ut(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Wr)},(e,t)=>(t-e)/Wr,e=>e.getUTCHours());Pm.range;const oo=ut(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*er)/Kr,e=>e.getDate()-1);oo.range;const eu=ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Kr,e=>e.getUTCDate()-1);eu.range;const Jj=ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Kr,e=>Math.floor(e/Kr));Jj.range;function Jn(e){return ut(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*er)/Sm)}const tu=Jn(0),Ml=Jn(1),nB=Jn(2),iB=Jn(3),$i=Jn(4),aB=Jn(5),sB=Jn(6);tu.range;Ml.range;nB.range;iB.range;$i.range;aB.range;sB.range;function Qn(e){return ut(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Sm)}const ru=Qn(0),Rl=Qn(1),oB=Qn(2),lB=Qn(3),Ti=Qn(4),cB=Qn(5),uB=Qn(6);ru.range;Rl.range;oB.range;lB.range;Ti.range;cB.range;uB.range;const Cm=ut(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Cm.range;const Em=ut(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Em.range;const Xr=ut(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Xr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ut(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Xr.range;const Yr=ut(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Yr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ut(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Yr.range;function Qj(e,t,r,n,i,a){const s=[[In,1,Ur],[In,5,5*Ur],[In,15,15*Ur],[In,30,30*Ur],[a,1,er],[a,5,5*er],[a,15,15*er],[a,30,30*er],[i,1,Wr],[i,3,3*Wr],[i,6,6*Wr],[i,12,12*Wr],[n,1,Kr],[n,2,2*Kr],[r,1,Sm],[t,1,Uv],[t,3,3*Uv],[e,1,rd]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=fm(([,,v])=>v).right(s,h);if(m===s.length)return e.every(uf(u/rd,d/rd,f));if(m===0)return Il.every(Math.max(uf(u,d,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[l,c]}const[dB,fB]=Qj(Yr,Em,ru,Jj,Pm,Nm),[hB,mB]=Qj(Xr,Cm,tu,oo,Om,Am);function nd(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function id(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $a(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function pB(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=Ta(i),d=ka(i),f=Ta(a),h=ka(a),m=Ta(s),p=ka(s),g=Ta(l),v=ka(l),j=Ta(c),w=ka(c),S={a:D,A:z,b:H,B:W,c:null,d:Xv,e:Xv,f:LB,g:KB,G:YB,H:MB,I:RB,j:DB,L:Zj,m:FB,M:zB,p:Z,q:K,Q:Qv,s:Zv,S:BB,u:qB,U:UB,V:WB,w:VB,W:HB,x:null,X:null,y:GB,Y:XB,Z:JB,"%":Jv},x={a:re,A:X,b:le,B:_e,c:null,d:Yv,e:Yv,f:t5,g:d5,G:h5,H:QB,I:ZB,j:e5,L:t_,m:r5,M:n5,p:Ne,q:Le,Q:Qv,s:Zv,S:i5,u:a5,U:s5,V:o5,w:l5,W:c5,x:null,X:null,y:u5,Y:f5,Z:m5,"%":Jv},y={a:T,A:N,b:P,B:E,c:M,d:Gv,e:Gv,f:$B,g:Hv,G:Vv,H:Kv,I:Kv,j:OB,L:EB,m:NB,M:PB,p:O,q:AB,Q:kB,s:IB,S:CB,u:bB,U:wB,V:jB,w:xB,W:_B,x:R,X:F,y:Hv,Y:Vv,Z:SB,"%":TB};S.x=b(r,S),S.X=b(n,S),S.c=b(t,S),x.x=b(r,x),x.X=b(n,x),x.c=b(t,x);function b(Q,me){return function(we){var V=[],We=-1,Pe=0,Ke=Q.length,Ye,wt,$r;for(we instanceof Date||(we=new Date(+we));++We<Ke;)Q.charCodeAt(We)===37&&(V.push(Q.slice(Pe,We)),(wt=Wv[Ye=Q.charAt(++We)])!=null?Ye=Q.charAt(++We):wt=Ye==="e"?" ":"0",($r=me[Ye])&&(Ye=$r(we,wt)),V.push(Ye),Pe=We+1);return V.push(Q.slice(Pe,We)),V.join("")}}function _(Q,me){return function(we){var V=$a(1900,void 0,1),We=A(V,Q,we+="",0),Pe,Ke;if(We!=we.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(me&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(Pe=id($a(V.y,0,1)),Ke=Pe.getUTCDay(),Pe=Ke>4||Ke===0?Rl.ceil(Pe):Rl(Pe),Pe=eu.offset(Pe,(V.V-1)*7),V.y=Pe.getUTCFullYear(),V.m=Pe.getUTCMonth(),V.d=Pe.getUTCDate()+(V.w+6)%7):(Pe=nd($a(V.y,0,1)),Ke=Pe.getDay(),Pe=Ke>4||Ke===0?Ml.ceil(Pe):Ml(Pe),Pe=oo.offset(Pe,(V.V-1)*7),V.y=Pe.getFullYear(),V.m=Pe.getMonth(),V.d=Pe.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),Ke="Z"in V?id($a(V.y,0,1)).getUTCDay():nd($a(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(Ke+5)%7:V.w+V.U*7-(Ke+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,id(V)):nd(V)}}function A(Q,me,we,V){for(var We=0,Pe=me.length,Ke=we.length,Ye,wt;We<Pe;){if(V>=Ke)return-1;if(Ye=me.charCodeAt(We++),Ye===37){if(Ye=me.charAt(We++),wt=y[Ye in Wv?me.charAt(We++):Ye],!wt||(V=wt(Q,we,V))<0)return-1}else if(Ye!=we.charCodeAt(V++))return-1}return V}function O(Q,me,we){var V=u.exec(me.slice(we));return V?(Q.p=d.get(V[0].toLowerCase()),we+V[0].length):-1}function T(Q,me,we){var V=m.exec(me.slice(we));return V?(Q.w=p.get(V[0].toLowerCase()),we+V[0].length):-1}function N(Q,me,we){var V=f.exec(me.slice(we));return V?(Q.w=h.get(V[0].toLowerCase()),we+V[0].length):-1}function P(Q,me,we){var V=j.exec(me.slice(we));return V?(Q.m=w.get(V[0].toLowerCase()),we+V[0].length):-1}function E(Q,me,we){var V=g.exec(me.slice(we));return V?(Q.m=v.get(V[0].toLowerCase()),we+V[0].length):-1}function M(Q,me,we){return A(Q,t,me,we)}function R(Q,me,we){return A(Q,r,me,we)}function F(Q,me,we){return A(Q,n,me,we)}function D(Q){return s[Q.getDay()]}function z(Q){return a[Q.getDay()]}function H(Q){return c[Q.getMonth()]}function W(Q){return l[Q.getMonth()]}function Z(Q){return i[+(Q.getHours()>=12)]}function K(Q){return 1+~~(Q.getMonth()/3)}function re(Q){return s[Q.getUTCDay()]}function X(Q){return a[Q.getUTCDay()]}function le(Q){return c[Q.getUTCMonth()]}function _e(Q){return l[Q.getUTCMonth()]}function Ne(Q){return i[+(Q.getUTCHours()>=12)]}function Le(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var me=b(Q+="",S);return me.toString=function(){return Q},me},parse:function(Q){var me=_(Q+="",!1);return me.toString=function(){return Q},me},utcFormat:function(Q){var me=b(Q+="",x);return me.toString=function(){return Q},me},utcParse:function(Q){var me=_(Q+="",!0);return me.toString=function(){return Q},me}}}var Wv={"-":"",_:" ",0:"0"},pt=/^\s*\d+/,gB=/^%/,vB=/[\\^$*+?|[\]().{}]/g;function Ee(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function yB(e){return e.replace(vB,"\\$&")}function Ta(e){return new RegExp("^(?:"+e.map(yB).join("|")+")","i")}function ka(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function xB(e,t,r){var n=pt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function bB(e,t,r){var n=pt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function wB(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function jB(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function _B(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Vv(e,t,r){var n=pt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Hv(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function SB(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function AB(e,t,r){var n=pt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function NB(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Gv(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function OB(e,t,r){var n=pt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Kv(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function PB(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function CB(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function EB(e,t,r){var n=pt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $B(e,t,r){var n=pt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function TB(e,t,r){var n=gB.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function kB(e,t,r){var n=pt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function IB(e,t,r){var n=pt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Xv(e,t){return Ee(e.getDate(),t,2)}function MB(e,t){return Ee(e.getHours(),t,2)}function RB(e,t){return Ee(e.getHours()%12||12,t,2)}function DB(e,t){return Ee(1+oo.count(Xr(e),e),t,3)}function Zj(e,t){return Ee(e.getMilliseconds(),t,3)}function LB(e,t){return Zj(e,t)+"000"}function FB(e,t){return Ee(e.getMonth()+1,t,2)}function zB(e,t){return Ee(e.getMinutes(),t,2)}function BB(e,t){return Ee(e.getSeconds(),t,2)}function qB(e){var t=e.getDay();return t===0?7:t}function UB(e,t){return Ee(tu.count(Xr(e)-1,e),t,2)}function e_(e){var t=e.getDay();return t>=4||t===0?$i(e):$i.ceil(e)}function WB(e,t){return e=e_(e),Ee($i.count(Xr(e),e)+(Xr(e).getDay()===4),t,2)}function VB(e){return e.getDay()}function HB(e,t){return Ee(Ml.count(Xr(e)-1,e),t,2)}function GB(e,t){return Ee(e.getFullYear()%100,t,2)}function KB(e,t){return e=e_(e),Ee(e.getFullYear()%100,t,2)}function XB(e,t){return Ee(e.getFullYear()%1e4,t,4)}function YB(e,t){var r=e.getDay();return e=r>=4||r===0?$i(e):$i.ceil(e),Ee(e.getFullYear()%1e4,t,4)}function JB(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ee(t/60|0,"0",2)+Ee(t%60,"0",2)}function Yv(e,t){return Ee(e.getUTCDate(),t,2)}function QB(e,t){return Ee(e.getUTCHours(),t,2)}function ZB(e,t){return Ee(e.getUTCHours()%12||12,t,2)}function e5(e,t){return Ee(1+eu.count(Yr(e),e),t,3)}function t_(e,t){return Ee(e.getUTCMilliseconds(),t,3)}function t5(e,t){return t_(e,t)+"000"}function r5(e,t){return Ee(e.getUTCMonth()+1,t,2)}function n5(e,t){return Ee(e.getUTCMinutes(),t,2)}function i5(e,t){return Ee(e.getUTCSeconds(),t,2)}function a5(e){var t=e.getUTCDay();return t===0?7:t}function s5(e,t){return Ee(ru.count(Yr(e)-1,e),t,2)}function r_(e){var t=e.getUTCDay();return t>=4||t===0?Ti(e):Ti.ceil(e)}function o5(e,t){return e=r_(e),Ee(Ti.count(Yr(e),e)+(Yr(e).getUTCDay()===4),t,2)}function l5(e){return e.getUTCDay()}function c5(e,t){return Ee(Rl.count(Yr(e)-1,e),t,2)}function u5(e,t){return Ee(e.getUTCFullYear()%100,t,2)}function d5(e,t){return e=r_(e),Ee(e.getUTCFullYear()%100,t,2)}function f5(e,t){return Ee(e.getUTCFullYear()%1e4,t,4)}function h5(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ti(e):Ti.ceil(e),Ee(e.getUTCFullYear()%1e4,t,4)}function m5(){return"+0000"}function Jv(){return"%"}function Qv(e){return+e}function Zv(e){return Math.floor(+e/1e3)}var si,n_,i_;p5({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function p5(e){return si=pB(e),n_=si.format,si.parse,i_=si.utcFormat,si.utcParse,si}function g5(e){return new Date(e)}function v5(e){return e instanceof Date?+e:+new Date(+e)}function $m(e,t,r,n,i,a,s,l,c,u){var d=vm(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("%I %p"),j=u("%a %d"),w=u("%b %d"),S=u("%B"),x=u("%Y");function y(b){return(c(b)<b?m:l(b)<b?p:s(b)<b?g:a(b)<b?v:n(b)<b?i(b)<b?j:w:r(b)<b?S:x)(b)}return d.invert=function(b){return new Date(f(b))},d.domain=function(b){return arguments.length?h(Array.from(b,v5)):h().map(g5)},d.ticks=function(b){var _=h();return e(_[0],_[_.length-1],b??10)},d.tickFormat=function(b,_){return _==null?y:u(_)},d.nice=function(b){var _=h();return(!b||typeof b.range!="function")&&(b=t(_[0],_[_.length-1],b??10)),b?h(Wj(_,b)):d},d.copy=function(){return so(d,$m(e,t,r,n,i,a,s,l,c,u))},d}function y5(){return nr.apply($m(hB,mB,Xr,Cm,tu,oo,Om,Am,In,n_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function x5(){return nr.apply($m(dB,fB,Yr,Em,ru,eu,Pm,Nm,In,i_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nu(){var e=0,t=1,r,n,i,a,s=Et,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),u):[s(0),s(1)]}}return u.range=d(ma),u.rangeRound=d(gm),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function yn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function a_(){var e=vn(nu()(Et));return e.copy=function(){return yn(e,a_())},rn.apply(e,arguments)}function s_(){var e=bm(nu()).domain([1,10]);return e.copy=function(){return yn(e,s_()).base(e.base())},rn.apply(e,arguments)}function o_(){var e=wm(nu());return e.copy=function(){return yn(e,o_()).constant(e.constant())},rn.apply(e,arguments)}function Tm(){var e=jm(nu());return e.copy=function(){return yn(e,Tm()).exponent(e.exponent())},rn.apply(e,arguments)}function b5(){return Tm.apply(null,arguments).exponent(.5)}function l_(){var e=[],t=Et;function r(n){if(n!=null&&!isNaN(n=+n))return t((io(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(hn),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>nz(e,a/n))},r.copy=function(){return l_(t).domain(e)},rn.apply(r,arguments)}function iu(){var e=0,t=.5,r=1,n=1,i,a,s,l,c,u=Et,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(n*g<n*a?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,i=d(e=+e),a=d(t=+t),s=d(r=+r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(v){var j,w,S;return arguments.length?([j,w,S]=v,u=Tz(g,[j,w,S]),m):[u(0),u(.5),u(1)]}}return m.range=p(ma),m.rangeRound=p(gm),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(e),a=g(t),s=g(r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function c_(){var e=vn(iu()(Et));return e.copy=function(){return yn(e,c_())},rn.apply(e,arguments)}function u_(){var e=bm(iu()).domain([.1,1,10]);return e.copy=function(){return yn(e,u_()).base(e.base())},rn.apply(e,arguments)}function d_(){var e=wm(iu());return e.copy=function(){return yn(e,d_()).constant(e.constant())},rn.apply(e,arguments)}function km(){var e=jm(iu());return e.copy=function(){return yn(e,km()).exponent(e.exponent())},rn.apply(e,arguments)}function w5(){return km.apply(null,arguments).exponent(.5)}const ey=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ws,scaleDiverging:c_,scaleDivergingLog:u_,scaleDivergingPow:km,scaleDivergingSqrt:w5,scaleDivergingSymlog:d_,scaleIdentity:Uj,scaleImplicit:df,scaleLinear:kl,scaleLog:Vj,scaleOrdinal:hm,scalePoint:is,scalePow:_m,scaleQuantile:Kj,scaleQuantize:Xj,scaleRadial:Gj,scaleSequential:a_,scaleSequentialLog:s_,scaleSequentialPow:Tm,scaleSequentialQuantile:l_,scaleSequentialSqrt:b5,scaleSequentialSymlog:o_,scaleSqrt:tB,scaleSymlog:Hj,scaleThreshold:Yj,scaleTime:y5,scaleUtc:x5,tickFormat:qj},Symbol.toStringTag,{value:"Module"}));var j5=aa;function _5(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(l===void 0?s===s&&!j5(s):r(s,l)))var l=s,c=a}return c}var au=_5;function S5(e,t){return e>t}var f_=S5,A5=au,N5=f_,O5=ha;function P5(e){return e&&e.length?A5(e,O5,N5):void 0}var C5=P5;const su=$e(C5);function E5(e,t){return e<t}var h_=E5,$5=au,T5=h_,k5=ha;function I5(e){return e&&e.length?$5(e,k5,T5):void 0}var M5=I5;const ou=$e(M5);var R5=Gh,D5=Cr,L5=yj,F5=Rt;function z5(e,t){var r=F5(e)?R5:L5;return r(e,D5(t))}var B5=z5,q5=gj,U5=B5;function W5(e,t){return q5(U5(e,t),1)}var V5=W5;const H5=$e(V5);var G5=lm;function K5(e,t){return G5(e,t)}var X5=K5;const pa=$e(X5);var ga=1e9,Y5={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Mm,Ge=!0,tr="[DecimalError] ",Fn=tr+"Invalid argument: ",Im=tr+"Exponent out of range: ",va=Math.floor,On=Math.pow,J5=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wt,ht=1e7,Ue=7,m_=9007199254740991,Dl=va(m_/Ue),ie={};ie.absoluteValue=ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ie.comparedTo=ie.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ue;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ie.dividedBy=ie.div=function(e){return Gr(this,new this.constructor(e))};ie.dividedToIntegerBy=ie.idiv=function(e){var t=this,r=t.constructor;return De(Gr(t,new r(e),0,1),r.precision)};ie.equals=ie.eq=function(e){return!this.cmp(e)};ie.exponent=function(){return rt(this)};ie.greaterThan=ie.gt=function(e){return this.cmp(e)>0};ie.greaterThanOrEqualTo=ie.gte=function(e){return this.cmp(e)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(e){return this.cmp(e)<0};ie.lessThanOrEqualTo=ie.lte=function(e){return this.cmp(e)<1};ie.logarithm=ie.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Wt))throw Error(tr+"NaN");if(r.s<1)throw Error(tr+(r.s?"NaN":"-Infinity"));return r.eq(Wt)?new n(0):(Ge=!1,t=Gr(As(r,a),As(e,a),a),Ge=!0,De(t,i))};ie.minus=ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v_(t,e):p_(t,(e.s=-e.s,e))};ie.modulo=ie.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(tr+"NaN");return r.s?(Ge=!1,t=Gr(r,e,0,1).times(e),Ge=!0,r.minus(t)):De(new n(r),i)};ie.naturalExponential=ie.exp=function(){return g_(this)};ie.naturalLogarithm=ie.ln=function(){return As(this)};ie.negated=ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ie.plus=ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?p_(t,e):v_(t,(e.s=-e.s,e))};ie.precision=ie.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Fn+e);if(t=rt(i)+1,n=i.d.length-1,r=n*Ue+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ie.squareRoot=ie.sqrt=function(){var e,t,r,n,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(tr+"NaN")}for(e=rt(l),Ge=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=jr(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=va((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Gr(l,a,s+2)).times(.5),jr(a.d).slice(0,s)===(t=jr(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(De(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;s+=4}return Ge=!0,De(n,r)};ie.times=ie.mul=function(e){var t,r,n,i,a,s,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+m[n]*h[i-n-1]+t,a[i--]=l%ht|0,t=l/ht|0;a[i]=(a[i]+t)%ht|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ge?De(e,f.precision):e};ie.toDecimalPlaces=ie.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Or(e,0,ga),t===void 0?t=n.rounding:Or(t,0,8),De(r,e+rt(r)+1,t))};ie.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Hn(n,!0):(Or(e,0,ga),t===void 0?t=i.rounding:Or(t,0,8),n=De(new i(n),e+1,t),r=Hn(n,!0,e+1)),r};ie.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Hn(i):(Or(e,0,ga),t===void 0?t=a.rounding:Or(t,0,8),n=De(new a(i),e+rt(i)+1,t),r=Hn(n.abs(),!1,e+rt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ie.toInteger=ie.toint=function(){var e=this,t=e.constructor;return De(new t(e),rt(e)+1,t.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(e){var t,r,n,i,a,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Wt);if(l=new c(l),!l.s){if(e.s<1)throw Error(tr+"Infinity");return l}if(l.eq(Wt))return l;if(n=c.precision,e.eq(Wt))return De(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=l.s,s){if((r=d<0?-d:d)<=m_){for(i=new c(Wt),t=Math.ceil(n/Ue+4),Ge=!1;r%2&&(i=i.times(l),ry(i.d,t)),r=va(r/2),r!==0;)l=l.times(l),ry(l.d,t);return Ge=!0,e.s<0?new c(Wt).div(i):De(i,n)}}else if(a<0)throw Error(tr+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ge=!1,i=e.times(As(l,n+u)),Ge=!0,i=g_(i),i.s=a,i};ie.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=rt(i),n=Hn(i,r<=a.toExpNeg||r>=a.toExpPos)):(Or(e,1,ga),t===void 0?t=a.rounding:Or(t,0,8),i=De(new a(i),e,t),r=rt(i),n=Hn(i,e<=r||r<=a.toExpNeg,e)),n};ie.toSignificantDigits=ie.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Or(e,1,ga),t===void 0?t=n.rounding:Or(t,0,8)),De(new n(r),e,t)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rt(e),r=e.constructor;return Hn(e,t<=r.toExpNeg||t>=r.toExpPos)};function p_(e,t){var r,n,i,a,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ge?De(t,f):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=s,l=c.length),s=Math.ceil(f/Ue),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/ht|0,c[a]%=ht;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Ge?De(t,f):t}function Or(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Fn+e)}function jr(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Ue-n.length,r&&(a+=cn(r)),a+=n;s=e[t],n=s+"",r=Ue-n.length,r&&(a+=cn(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Gr=function(){function e(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%ht|0,s=a/ht|0;return s&&n.unshift(s),n}function t(n,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*ht+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,c,u,d,f,h,m,p,g,v,j,w,S,x,y,b,_,A,O=n.constructor,T=n.s==i.s?1:-1,N=n.d,P=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(tr+"Division by zero");for(c=n.e-i.e,_=P.length,y=N.length,m=new O(T),p=m.d=[],u=0;P[u]==(N[u]||0);)++u;if(P[u]>(N[u]||0)&&--c,a==null?w=a=O.precision:s?w=a+(rt(n)-rt(i))+1:w=a,w<0)return new O(0);if(w=w/Ue+2|0,u=0,_==1)for(d=0,P=P[0],w++;(u<y||d)&&w--;u++)S=d*ht+(N[u]||0),p[u]=S/P|0,d=S%P|0;else{for(d=ht/(P[0]+1)|0,d>1&&(P=e(P,d),N=e(N,d),_=P.length,y=N.length),x=_,g=N.slice(0,_),v=g.length;v<_;)g[v++]=0;A=P.slice(),A.unshift(0),b=P[0],P[1]>=ht/2&&++b;do d=0,l=t(P,g,_,v),l<0?(j=g[0],_!=v&&(j=j*ht+(g[1]||0)),d=j/b|0,d>1?(d>=ht&&(d=ht-1),f=e(P,d),h=f.length,v=g.length,l=t(f,g,h,v),l==1&&(d--,r(f,_<h?A:P,h))):(d==0&&(l=d=1),f=P.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),l==-1&&(v=g.length,l=t(P,g,_,v),l<1&&(d++,r(g,_<v?A:P,v))),v=g.length):l===0&&(d++,g=[0]),p[u++]=d,l&&g[0]?g[v++]=N[x]||0:(g=[N[x]],v=1);while((x++<y||g[0]!==void 0)&&w--)}return p[0]||p.shift(),m.e=c,De(m,s?a+rt(m)+1:a)}}();function g_(e,t){var r,n,i,a,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(rt(e)>16)throw Error(Im+rt(e));if(!e.s)return new d(Wt);for(Ge=!1,l=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(On(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new d(Wt),d.precision=l;;){if(i=De(i.times(e),l),r=r.times(++c),s=a.plus(Gr(i,r,l)),jr(s.d).slice(0,l)===jr(a.d).slice(0,l)){for(;u--;)a=De(a.times(a),l);return d.precision=f,t==null?(Ge=!0,De(a,f)):a}a=s}}function rt(e){for(var t=e.e*Ue,r=e.d[0];r>=10;r/=10)t++;return t}function ad(e,t,r){if(t>e.LN10.sd())throw Ge=!0,r&&(e.precision=r),Error(tr+"LN10 precision limit exceeded");return De(new e(e.LN10),t)}function cn(e){for(var t="";e--;)t+="0";return t}function As(e,t){var r,n,i,a,s,l,c,u,d,f=1,h=10,m=e,p=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(tr+(m.s?"NaN":"-Infinity"));if(m.eq(Wt))return new g(0);if(t==null?(Ge=!1,u=v):u=t,m.eq(10))return t==null&&(Ge=!0),ad(g,u);if(u+=h,g.precision=u,r=jr(p),n=r.charAt(0),a=rt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=jr(m.d),n=r.charAt(0),f++;a=rt(m),n>1?(m=new g("0."+r),a++):m=new g(n+"."+r.slice(1))}else return c=ad(g,u+2,v).times(a+""),m=As(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=v,t==null?(Ge=!0,De(m,v)):m;for(l=s=m=Gr(m.minus(Wt),m.plus(Wt),u),d=De(m.times(m),u),i=3;;){if(s=De(s.times(d),u),c=l.plus(Gr(s,new g(i),u)),jr(c.d).slice(0,u)===jr(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(ad(g,u+2,v).times(a+""))),l=Gr(l,new g(f),u),g.precision=v,t==null?(Ge=!0,De(l,v)):l;l=c,i+=2}}function ty(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=va(r/Ue),e.d=[],n=(r+1)%Ue,r<0&&(n+=Ue),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ue;n<i;)e.d.push(+t.slice(n,n+=Ue));t=t.slice(n),n=Ue-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ge&&(e.e>Dl||e.e<-Dl))throw Error(Im+r)}else e.s=0,e.e=0,e.d=[0];return e}function De(e,t,r){var n,i,a,s,l,c,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Ue,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ue),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=Ue,i=n-Ue+s}if(r!==void 0&&(a=On(10,s-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/On(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=rt(e),f.length=1,t=t-a-1,f[0]=On(10,(Ue-t%Ue)%Ue),e.e=va(-t/Ue)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=On(10,Ue-n),f[d]=i>0?(u/On(10,s-i)%On(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==ht&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=ht)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Ge&&(e.e>Dl||e.e<-Dl))throw Error(Im+rt(e));return e}function v_(e,t){var r,n,i,a,s,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ge?De(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(m/Ue),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=ht-1;--c[a],c[i]+=ht}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ge?De(t,m):t):new h(0)}function Hn(e,t,r){var n,i=rt(e),a=jr(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+cn(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+cn(-i-1)+a,r&&(n=r-s)>0&&(a+=cn(n))):i>=s?(a+=cn(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+cn(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=cn(n))),e.s<0?"-"+a:a}function ry(e,t){if(e.length>t)return e.length=t,!0}function y_(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Fn+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return ty(s,a.toString())}else if(typeof a!="string")throw Error(Fn+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,J5.test(a))ty(s,a);else throw Error(Fn+a)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=y_,i.config=i.set=Q5,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Q5(e){if(!e||typeof e!="object")throw Error(tr+"Object expected");var t,r,n,i=["precision",1,ga,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(va(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Fn+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Fn+r+": "+n);return this}var Mm=y_(Y5);Wt=new Mm(1);const Re=Mm;function Z5(e){return n6(e)||r6(e)||t6(e)||e6()}function e6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t6(e,t){if(e){if(typeof e=="string")return gf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gf(e,t)}}function r6(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function n6(e){if(Array.isArray(e))return gf(e)}function gf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i6=function(t){return t},x_={},b_=function(t){return t===x_},ny=function(t){return function r(){return arguments.length===0||arguments.length===1&&b_(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},a6=function e(t,r){return t===1?r:ny(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==x_}).length;return s>=t?r.apply(void 0,i):e(t-s,ny(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return b_(f)?c.shift():f});return r.apply(void 0,Z5(d).concat(c))}))})},lu=function(t){return a6(t.length,t)},vf=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},s6=lu(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),o6=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return i6;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},yf=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},w_=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function l6(e){var t;return e===0?t=1:t=Math.floor(new Re(e).abs().log(10).toNumber())+1,t}function c6(e,t,r){for(var n=new Re(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var u6=lu(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),d6=lu(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),f6=lu(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const cu={rangeStep:c6,getDigitCount:l6,interpolateNumber:u6,uninterpolateNumber:d6,uninterpolateTruncation:f6};function xf(e){return p6(e)||m6(e)||j_(e)||h6()}function h6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m6(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function p6(e){if(Array.isArray(e))return bf(e)}function Ns(e,t){return y6(e)||v6(e,t)||j_(e,t)||g6()}function g6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j_(e,t){if(e){if(typeof e=="string")return bf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bf(e,t)}}function bf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v6(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function y6(e){if(Array.isArray(e))return e}function __(e){var t=Ns(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function S_(e,t,r){if(e.lte(0))return new Re(0);var n=cu.getDigitCount(e.toNumber()),i=new Re(10).pow(n),a=e.div(i),s=n!==1?.05:.1,l=new Re(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=l.mul(i);return t?c:new Re(Math.ceil(c))}function x6(e,t,r){var n=1,i=new Re(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Re(10).pow(cu.getDigitCount(e)-1),i=new Re(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Re(Math.floor(e)))}else e===0?i=new Re(Math.floor((t-1)/2)):r||(i=new Re(Math.floor(e)));var s=Math.floor((t-1)/2),l=o6(s6(function(c){return i.add(new Re(c-s).mul(n)).toNumber()}),vf);return l(0,t)}function A_(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Re(0),tickMin:new Re(0),tickMax:new Re(0)};var a=S_(new Re(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new Re(0):(s=new Re(e).add(t).div(2),s=s.sub(new Re(s).mod(a)));var l=Math.ceil(s.sub(e).div(a).toNumber()),c=Math.ceil(new Re(t).sub(s).div(a).toNumber()),u=l+c+1;return u>r?A_(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:a,tickMin:s.sub(new Re(l).mul(a)),tickMax:s.add(new Re(c).mul(a))})}function b6(e){var t=Ns(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=__([r,n]),c=Ns(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(xf(vf(0,i-1).map(function(){return 1/0}))):[].concat(xf(vf(0,i-1).map(function(){return-1/0})),[d]);return r>n?yf(f):f}if(u===d)return x6(u,i,a);var h=A_(u,d,s,a),m=h.step,p=h.tickMin,g=h.tickMax,v=cu.rangeStep(p,g.add(new Re(.1).mul(m)),m);return r>n?yf(v):v}function w6(e,t){var r=Ns(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=__([n,i]),l=Ns(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(t,2),f=S_(new Re(u).sub(c).div(d-1),a,0),h=[].concat(xf(cu.rangeStep(new Re(c),new Re(u).sub(new Re(.99).mul(f)),f)),[u]);return n>i?yf(h):h}var j6=w_(b6),_6=w_(w6),S6="Invariant failed";function Gn(e,t){throw new Error(S6)}var A6=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ki(e){"@babel/helpers - typeof";return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(e)}function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(this,arguments)}function N6(e,t){return E6(e)||C6(e,t)||P6(e,t)||O6()}function O6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P6(e,t){if(e){if(typeof e=="string")return iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iy(e,t)}}function iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C6(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function E6(e){if(Array.isArray(e))return e}function $6(e,t){if(e==null)return{};var r=T6(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P_(n.key),n)}}function M6(e,t,r){return t&&I6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R6(e,t,r){return t=Fl(t),D6(e,N_()?Reflect.construct(t,r||[],Fl(e).constructor):t.apply(e,r))}function D6(e,t){if(t&&(ki(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L6(e)}function L6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N_=function(){return!!e})()}function Fl(e){return Fl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fl(e)}function F6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wf(e,t)}function wf(e,t){return wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wf(e,t)}function O_(e,t,r){return t=P_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P_(e){var t=z6(e,"string");return ki(t)=="symbol"?t:t+""}function z6(e,t){if(ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lo=function(e){function t(){return k6(this,t),R6(this,t,arguments)}return F6(t,e),M6(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=$6(n,A6),m=ce(h,!1);this.props.direction==="x"&&d.type!=="number"&&Gn();var p=c.map(function(g){var v=u(g,l),j=v.x,w=v.y,S=v.value,x=v.errorVal;if(!x)return null;var y=[],b,_;if(Array.isArray(x)){var A=N6(x,2);b=A[0],_=A[1]}else b=_=x;if(a==="vertical"){var O=d.scale,T=w+i,N=T+s,P=T-s,E=O(S-b),M=O(S+_);y.push({x1:M,y1:N,x2:M,y2:P}),y.push({x1:E,y1:T,x2:M,y2:T}),y.push({x1:E,y1:N,x2:E,y2:P})}else if(a==="horizontal"){var R=f.scale,F=j+i,D=F-s,z=F+s,H=R(S-b),W=R(S+_);y.push({x1:D,y1:W,x2:z,y2:W}),y.push({x1:F,y1:H,x2:F,y2:W}),y.push({x1:D,y1:H,x2:z,y2:H})}return C.createElement(Ce,Ll({className:"recharts-errorBar",key:"bar-".concat(y.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},m),y.map(function(Z){return C.createElement("line",Ll({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return C.createElement(Ce,{className:"recharts-errorBars"},p)}}])}(C.Component);O_(lo,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});O_(lo,"displayName","ErrorBar");function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function ay(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ay(Object(r),!0).forEach(function(n){B6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ay(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B6(e,t,r){return t=q6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q6(e){var t=U6(e,"string");return Os(t)=="symbol"?t:t+""}function U6(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C_=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=qt(r,ji);if(!s)return null;var l=ji.defaultProps,c=l!==void 0?wn(wn({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,p=m.sectors||m.data||[];return d.concat(p.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?wn(wn({},h),f.props):{},p=m.dataKey,g=m.name,v=m.legendType,j=m.hide;return{inactive:j,dataKey:p,type:c.iconType||v||"square",color:Rm(f),value:g||p,payload:m}}),wn(wn(wn({},c),ji.getWithHeight(s,i)),{},{payload:u,item:s})};function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function sy(e){return G6(e)||H6(e)||V6(e)||W6()}function W6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V6(e,t){if(e){if(typeof e=="string")return jf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jf(e,t)}}function H6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G6(e){if(Array.isArray(e))return jf(e)}function jf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oy(Object(r),!0).forEach(function(n){Si(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Si(e,t,r){return t=K6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K6(e){var t=X6(e,"string");return Ps(t)=="symbol"?t:t+""}function X6(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Je(e,t,r){return be(e)||be(t)?r:ct(t)?Vt(e,t,r):he(t)?t(e):r}function as(e,t,r,n){var i=H5(e,function(l){return Je(l,t)});if(r==="number"){var a=i.filter(function(l){return Y(l)||parseFloat(l)});return a.length?[ou(a),su(a)]:[1/0,-1/0]}var s=n?i.filter(function(l){return!be(l)}):i;return s.map(function(l){return ct(l)||l instanceof Date?l:""})}var Y6=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Pt(f-d)!==Pt(h-f)){var p=[];if(Pt(h-f)===Pt(c[1]-c[0])){m=h;var g=f+c[1]-c[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+c[1]-c[0];p[0]=Math.min(f,(v+f)/2),p[1]=Math.max(f,(v+f)/2)}var j=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>j[0]&&t<=j[1]||t>=p[0]&&t<=p[1]){s=i[u].index;break}}else{var w=Math.min(d,h),S=Math.max(d,h);if(t>(w+f)/2&&t<=(S+f)/2){s=i[u].index;break}}}else for(var x=0;x<l;x++)if(x===0&&t<=(n[x].coordinate+n[x+1].coordinate)/2||x>0&&x<l-1&&t>(n[x].coordinate+n[x-1].coordinate)/2&&t<=(n[x].coordinate+n[x+1].coordinate)/2||x===l-1&&t>(n[x].coordinate+n[x-1].coordinate)/2){s=n[x].index;break}return s},Rm=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Xe(Xe({},t.type.defaultProps),t.props):t.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},J6=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var p=d[f[h]],g=p.items,v=p.cateAxisId,j=g.filter(function(_){return Hr(_.type).indexOf("Bar")>=0});if(j&&j.length){var w=j[0].type.defaultProps,S=w!==void 0?Xe(Xe({},w),j[0].props):j[0].props,x=S.barSize,y=S[v];s[y]||(s[y]=[]);var b=be(x)?r:x;s[y].push({item:j[0],stackList:j.slice(1),barSize:be(b)?void 0:Ct(b,n,0)})}}return s},Q6=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=Ct(r,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=i/c,p=s.reduce(function(x,y){return x+y.barSize||0},0);p+=(c-1)*u,p>=i&&(p-=(c-1)*u,u=0),p>=i&&m>0&&(h=!0,m*=.9,p=c*m);var g=(i-p)/2>>0,v={offset:g-u,size:0};d=s.reduce(function(x,y){var b={item:y.item,position:{offset:v.offset+v.size+u,size:h?m:y.barSize}},_=[].concat(sy(x),[b]);return v=_[_.length-1].position,y.stackList&&y.stackList.length&&y.stackList.forEach(function(A){_.push({item:A,position:v})}),_},f)}else{var j=Ct(n,i,0,!0);i-2*j-(c-1)*u<=0&&(u=0);var w=(i-2*j-(c-1)*u)/c;w>1&&(w>>=0);var S=l===+l?Math.min(w,l):w;d=s.reduce(function(x,y,b){var _=[].concat(sy(x),[{item:y.item,position:{offset:j+(w+u)*b+(w-S)/2,size:S}}]);return y.stackList&&y.stackList.length&&y.stackList.forEach(function(A){_.push({item:A,position:_[_.length-1].position})}),_},f)}return d},Z6=function(t,r,n,i){var a=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=C_({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&m!=="center"&&Y(t[m]))return Xe(Xe({},t),{},Si({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&p!=="middle"&&Y(t[p]))return Xe(Xe({},t),{},Si({},p,t[p]+(h||0)))}return t},eq=function(t,r,n){return be(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},E_=function(t,r,n,i,a){var s=r.props.children,l=Ht(s,lo).filter(function(u){return eq(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Je(d,n);if(be(f))return u;var h=Array.isArray(f)?[ou(f),su(f)]:[f,f],m=c.reduce(function(p,g){var v=Je(d,g,0),j=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(j,p[0]),Math.max(w,p[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},tq=function(t,r,n,i,a){var s=r.map(function(l){return E_(t,l,n,a,i)}).filter(function(l){return!be(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},$_=function(t,r,n,i,a){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&E_(t,c,u,i)||as(t,u,n,a)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},T_=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},k_=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var a,s,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||l.push(r),s||l.push(n),l},Vr=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Pt(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!ro(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},sd=new WeakMap,Mo=function(t,r){if(typeof r!="function")return t;sd.has(t)||sd.set(t,new WeakMap);var n=sd.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},I_=function(t,r,n){var i=t.scale,a=t.type,s=t.layout,l=t.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:ws(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:kl(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:is(),realScaleType:"point"}:a==="category"?{scale:ws(),realScaleType:"band"}:{scale:kl(),realScaleType:"linear"};if(qn(i)){var c="scale".concat(Vc(i));return{scale:(ey[c]||is)(),realScaleType:ey[c]?c:"point"}}return he(i)?{scale:i}:{scale:is(),realScaleType:"point"}},ly=1e-4,M_=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-ly,s=Math.max(i[0],i[1])+ly,l=t(r[0]),c=t(r[n-1]);(l<a||l>s||c<a||c>s)&&t.domain([r[0],r[n-1]])}},rq=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},nq=function(t,r){if(!r||r.length!==2||!Y(r[0])||!Y(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!Y(t[0])||t[0]<n)&&(a[0]=n),(!Y(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},iq=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0,l=0;l<r;++l){var c=ro(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},aq=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var l=ro(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},sq={sign:iq,expand:jT,none:Ai,silhouette:_T,wiggle:ST,positive:aq},oq=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),a=sq[n],s=wT().keys(i).value(function(l,c){return+Je(l,c,0)}).order(Vd).offset(a);return s(t)},lq=function(t,r,n,i,a,s){if(!t)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,h){var m,p=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Xe(Xe({},h.type.defaultProps),h.props):h.props,g=p.stackId,v=p.hide;if(v)return f;var j=p[n],w=f[j]||{hasStack:!1,stackGroups:{}};if(ct(g)){var S=w.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};S.items.push(h),w.hasStack=!0,w.stackGroups[g]=S}else w.stackGroups[ua("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Xe(Xe({},f),{},Si({},j,w))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var p={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var j=m.stackGroups[v];return Xe(Xe({},g),{},Si({},v,{numericAxisId:n,cateAxisId:i,items:j.items,stackedData:oq(t,j.items,a)}))},p)}return Xe(Xe({},f),{},Si({},h,m))},d)},R_=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=j6(u,a,l);return t.domain([ou(d),su(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),h=_6(f,a,l);return{niceTicks:h}}return null};function cy(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!be(i[t.dataKey])){var l=dl(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Je(i,be(s)?t.dataKey:s);return be(c)?null:t.scale(c)}var uy=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Je(s,r.dataKey,r.domain[l]);return be(c)?null:r.scale(c)-a/2+i},cq=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},uq=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Xe(Xe({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(ct(a)){var s=r[a];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},dq=function(t){return t.reduce(function(r,n){return[ou(n.concat([r[0]]).filter(Y)),su(n.concat([r[1]]).filter(Y))]},[1/0,-1/0])},D_=function(t,r,n){return Object.keys(t).reduce(function(i,a){var s=t[a],l=s.stackedData,c=l.reduce(function(u,d){var f=dq(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},dy=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fy=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_f=function(t,r,n){if(he(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Y(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(dy.test(t[0])){var a=+dy.exec(t[0])[1];i[0]=r[0]-a}else he(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Y(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(fy.test(t[1])){var s=+fy.exec(t[1])[1];i[1]=r[1]+s}else he(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},zl=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=um(r,function(f){return f.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},hy=function(t,r,n){return!t||!t.length||pa(t,Vt(n,"type.defaultProps.domain"))?r:t},L_=function(t,r){var n=t.type.defaultProps?Xe(Xe({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Xe(Xe({},ce(t,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:Rm(t),value:Je(r,i),type:c,payload:r,chartType:u,hide:d})};function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function my(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?my(Object(r),!0).forEach(function(n){F_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):my(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F_(e,t,r){return t=fq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fq(e){var t=hq(e,"string");return Cs(t)=="symbol"?t:t+""}function hq(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mq(e,t){return yq(e)||vq(e,t)||gq(e,t)||pq()}function pq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gq(e,t){if(e){if(typeof e=="string")return py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return py(e,t)}}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function yq(e){if(Array.isArray(e))return e}var Bl=Math.PI/180,xq=function(t){return t*180/Math.PI},Te=function(t,r,n,i){return{x:t+Math.cos(-Bl*i)*n,y:r+Math.sin(-Bl*i)*n}},z_=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},B_=function(t,r,n,i,a){var s=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Ct(t.cx,s,s/2),f=Ct(t.cy,l,l/2),h=z_(s,l,n),m=Ct(t.innerRadius,h,0),p=Ct(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(v,j){var w=r[j],S=w.domain,x=w.reversed,y;if(be(w.range))i==="angleAxis"?y=[c,u]:i==="radiusAxis"&&(y=[m,p]),x&&(y=[y[1],y[0]]);else{y=w.range;var b=y,_=mq(b,2);c=_[0],u=_[1]}var A=I_(w,a),O=A.realScaleType,T=A.scale;T.domain(S).range(y),M_(T);var N=R_(T,Br(Br({},w),{},{realScaleType:O})),P=Br(Br(Br({},w),N),{},{range:y,radius:p,realScaleType:O,scale:T,cx:d,cy:f,innerRadius:m,outerRadius:p,startAngle:c,endAngle:u});return Br(Br({},v),{},F_({},j,P))},{})},bq=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},wq=function(t,r){var n=t.x,i=t.y,a=r.cx,s=r.cy,l=bq({x:n,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:l,angle:xq(u),angleInRadian:u}},jq=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},_q=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),l=Math.min(a,s);return t+l*360},gy=function(t,r){var n=t.x,i=t.y,a=wq({x:n,y:i},r),s=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=jq(r),f=d.startAngle,h=d.endAngle,m=l,p;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}return p?Br(Br({},r),{},{radius:s,angle:_q(m,r)}):null},q_=function(t){return!$.isValidElement(t)&&!he(t)&&typeof t!="boolean"?t.className:""};function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}var Sq=["offset"];function Aq(e){return Cq(e)||Pq(e)||Oq(e)||Nq()}function Nq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oq(e,t){if(e){if(typeof e=="string")return Sf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sf(e,t)}}function Pq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cq(e){if(Array.isArray(e))return Sf(e)}function Sf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eq(e,t){if(e==null)return{};var r=$q(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $q(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vy(Object(r),!0).forEach(function(n){Tq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tq(e,t,r){return t=kq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kq(e){var t=Iq(e,"string");return Es(t)=="symbol"?t:t+""}function Iq(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$s.apply(this,arguments)}var Mq=function(t){var r=t.value,n=t.formatter,i=be(t.children)?r:t.children;return he(n)?n(i):i},Rq=function(t,r){var n=Pt(r-t),i=Math.min(Math.abs(r-t),360);return n*i},Dq=function(t,r,n){var i=t.position,a=t.viewBox,s=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,p=c.endAngle,g=c.clockWise,v=(f+h)/2,j=Rq(m,p),w=j>=0?1:-1,S,x;i==="insideStart"?(S=m+w*s,x=g):i==="insideEnd"?(S=p-w*s,x=!g):i==="end"&&(S=p+w*s,x=g),x=j<=0?x:!x;var y=Te(u,d,v,S),b=Te(u,d,v,S+(x?1:-1)*359),_="M".concat(y.x,",").concat(y.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(x?0:1,`,
    `).concat(b.x,",").concat(b.y),A=be(t.id)?ua("recharts-radial-line-"):t.id;return C.createElement("text",$s({},n,{dominantBaseline:"central",className:ye("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:A,d:_})),C.createElement("textPath",{xlinkHref:"#".concat(A)},r))},Lq=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,s=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var m=Te(s,l,u+n,h),p=m.x,g=m.y;return{x:p,y:g,textAnchor:p>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,j=Te(s,l,v,h),w=j.x,S=j.y;return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Fq=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",p=f>0?"start":"end",g=u>=0?1:-1,v=g*i,j=g>0?"end":"start",w=g>0?"start":"end";if(a==="top"){var S={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:m};return ot(ot({},S),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var x={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:p};return ot(ot({},x),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var y={x:l-v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return ot(ot({},y),n?{width:Math.max(y.x-n.x,0),height:d}:{})}if(a==="right"){var b={x:l+u+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return ot(ot({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:d}:{})}var _=n?{width:u,height:d}:{};return a==="insideLeft"?ot({x:l+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},_):a==="insideRight"?ot({x:l+u-v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},_):a==="insideTop"?ot({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:p},_):a==="insideBottom"?ot({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},_):a==="insideTopLeft"?ot({x:l+v,y:c+h,textAnchor:w,verticalAnchor:p},_):a==="insideTopRight"?ot({x:l+u-v,y:c+h,textAnchor:j,verticalAnchor:p},_):a==="insideBottomLeft"?ot({x:l+v,y:c+d-h,textAnchor:w,verticalAnchor:m},_):a==="insideBottomRight"?ot({x:l+u-v,y:c+d-h,textAnchor:j,verticalAnchor:m},_):sa(a)&&(Y(a.x)||Tn(a.x))&&(Y(a.y)||Tn(a.y))?ot({x:l+Ct(a.x,u),y:c+Ct(a.y,d),textAnchor:"end",verticalAnchor:"end"},_):ot({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},zq=function(t){return"cx"in t&&Y(t.cx)};function mt(e){var t=e.offset,r=t===void 0?5:t,n=Eq(e,Sq),i=ot({offset:r},n),a=i.viewBox,s=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||be(l)&&be(c)&&!$.isValidElement(u)&&!he(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var m;if(he(u)){if(m=$.createElement(u,i),$.isValidElement(m))return m}else m=Mq(i);var p=zq(a),g=ce(i,!0);if(p&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Dq(i,m,g);var v=p?Lq(i):Fq(i);return C.createElement(Wn,$s({className:ye("recharts-label",f)},g,v,{breakAll:h}),m)}mt.displayName="Label";var U_=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,p=t.left,g=t.width,v=t.height,j=t.clockWise,w=t.labelViewBox;if(w)return w;if(Y(g)&&Y(v)){if(Y(f)&&Y(h))return{x:f,y:h,width:g,height:v};if(Y(m)&&Y(p))return{x:m,y:p,width:g,height:v}}return Y(f)&&Y(h)?{x:f,y:h,width:0,height:0}:Y(r)&&Y(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},Bq=function(t,r){return t?t===!0?C.createElement(mt,{key:"label-implicit",viewBox:r}):ct(t)?C.createElement(mt,{key:"label-implicit",viewBox:r,value:t}):$.isValidElement(t)?t.type===mt?$.cloneElement(t,{key:"label-implicit",viewBox:r}):C.createElement(mt,{key:"label-implicit",content:t,viewBox:r}):he(t)?C.createElement(mt,{key:"label-implicit",content:t,viewBox:r}):sa(t)?C.createElement(mt,$s({viewBox:r},t,{key:"label-implicit"})):null:null},qq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=U_(t),s=Ht(i,mt).map(function(c,u){return $.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var l=Bq(t.label,r||a);return[l].concat(Aq(s))};mt.parseViewBox=U_;mt.renderCallByParent=qq;function Uq(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Wq=Uq;const W_=$e(Wq);function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}var Vq=["valueAccessor"],Hq=["data","dataKey","clockWise","id","textBreakAll"];function Gq(e){return Jq(e)||Yq(e)||Xq(e)||Kq()}function Kq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xq(e,t){if(e){if(typeof e=="string")return Af(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Af(e,t)}}function Yq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jq(e){if(Array.isArray(e))return Af(e)}function Af(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ql.apply(this,arguments)}function yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yy(Object(r),!0).forEach(function(n){Qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qq(e,t,r){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=e8(e,"string");return Ts(t)=="symbol"?t:t+""}function e8(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function by(e,t){if(e==null)return{};var r=t8(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var r8=function(t){return Array.isArray(t.value)?W_(t.value):t.value};function Ar(e){var t=e.valueAccessor,r=t===void 0?r8:t,n=by(e,Vq),i=n.data,a=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=by(n,Hq);return!i||!i.length?null:C.createElement(Ce,{className:"recharts-label-list"},i.map(function(d,f){var h=be(a)?r(d,f):Je(d&&d.payload,a),m=be(l)?{}:{id:"".concat(l,"-").concat(f)};return C.createElement(mt,ql({},ce(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:mt.parseViewBox(be(s)?d:xy(xy({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Ar.displayName="LabelList";function n8(e,t){return e?e===!0?C.createElement(Ar,{key:"labelList-implicit",data:t}):C.isValidElement(e)||he(e)?C.createElement(Ar,{key:"labelList-implicit",data:t,content:e}):sa(e)?C.createElement(Ar,ql({data:t},e,{key:"labelList-implicit"})):null:null}function i8(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Ht(n,Ar).map(function(s,l){return $.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var a=n8(e.label,t);return[a].concat(Gq(i))}Ar.renderCallByParent=i8;function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nf.apply(this,arguments)}function wy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wy(Object(r),!0).forEach(function(n){a8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a8(e,t,r){return t=s8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s8(e){var t=o8(e,"string");return ks(t)=="symbol"?t:t+""}function o8(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l8=function(t,r){var n=Pt(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Ro=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/Bl,h=u?a:a+s*f,m=Te(r,n,d,h),p=Te(r,n,i,h),g=u?a-s*f:a,v=Te(r,n,d*Math.cos(f*Bl),g);return{center:m,circleTangency:p,lineTangency:v,theta:f}},V_=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,l=t.endAngle,c=l8(s,l),u=s+c,d=Te(r,n,a,s),f=Te(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Te(r,n,i,s),p=Te(r,n,i,u);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},c8=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Pt(d-u),h=Ro({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),m=h.circleTangency,p=h.lineTangency,g=h.theta,v=Ro({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),j=v.circleTangency,w=v.lineTangency,S=v.theta,x=c?Math.abs(u-d):Math.abs(u-d)-g-S;if(x<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):V_({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var y="M ".concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var b=Ro({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),_=b.circleTangency,A=b.lineTangency,O=b.theta,T=Ro({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),N=T.circleTangency,P=T.lineTangency,E=T.theta,M=c?Math.abs(u-d):Math.abs(u-d)-O-E;if(M<0&&s===0)return"".concat(y,"L").concat(r,",").concat(n,"Z");y+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else y+="L".concat(r,",").concat(n,"Z");return y},u8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},H_=function(t){var r=jy(jy({},u8),t),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<a||d===f)return null;var m=ye("recharts-sector",h),p=s-a,g=Ct(l,p,0,!0),v;return g>0&&Math.abs(d-f)<360?v=c8({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=V_({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),C.createElement("path",Nf({},ce(r,!0),{className:m,d:v,role:"img"}))};function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Of.apply(this,arguments)}function _y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_y(Object(r),!0).forEach(function(n){d8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_y(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d8(e,t,r){return t=f8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f8(e){var t=h8(e,"string");return Is(t)=="symbol"?t:t+""}function h8(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ay={curveBasisClosed:uT,curveBasisOpen:dT,curveBasis:cT,curveBumpX:X$,curveBumpY:Y$,curveLinearClosed:fT,curveLinear:Gc,curveMonotoneX:hT,curveMonotoneY:mT,curveNatural:pT,curveStep:gT,curveStepAfter:yT,curveStepBefore:vT},Do=function(t){return t.x===+t.x&&t.y===+t.y},Ia=function(t){return t.x},Ma=function(t){return t.y},m8=function(t,r){if(he(t))return t;var n="curve".concat(Vc(t));return(n==="curveMonotone"||n==="curveBump")&&r?Ay["".concat(n).concat(r==="vertical"?"Y":"X")]:Ay[n]||Gc},p8=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=m8(n,l),f=u?a.filter(function(g){return Do(g)}):a,h;if(Array.isArray(s)){var m=u?s.filter(function(g){return Do(g)}):s,p=f.map(function(g,v){return Sy(Sy({},g),{},{base:m[v]})});return l==="vertical"?h=No().y(Ma).x1(Ia).x0(function(g){return g.base.x}):h=No().x(Ia).y1(Ma).y0(function(g){return g.base.y}),h.defined(Do).curve(d),h(p)}return l==="vertical"&&Y(s)?h=No().y(Ma).x1(Ia).x0(s):Y(s)?h=No().x(Ia).y1(Ma).y0(s):h=Mw().x(Ia).y(Ma),h.defined(Do).curve(d),h(f)},Ul=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?p8(t):i;return $.createElement("path",Of({},ce(t,!1),fl(t),{className:ye("recharts-curve",r),d:s,ref:a}))},g8=Object.getOwnPropertyNames,v8=Object.getOwnPropertySymbols,y8=Object.prototype.hasOwnProperty;function Ny(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function Lo(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,s=a.get(r),l=a.get(n);if(s&&l)return s===n&&l===r;a.set(r,n),a.set(n,r);var c=e(r,n,i);return a.delete(r),a.delete(n),c}}function Oy(e){return g8(e).concat(v8(e))}var x8=Object.hasOwn||function(e,t){return y8.call(e,t)};function Zn(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var b8="__v",w8="__o",j8="_owner",Py=Object.getOwnPropertyDescriptor,Cy=Object.keys;function _8(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function S8(e,t){return Zn(e.getTime(),t.getTime())}function A8(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function N8(e,t){return e===t}function Ey(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),s,l,c=0;(s=a.next())&&!s.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var h=s.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var O8=Zn;function P8(e,t,r){var n=Cy(e),i=n.length;if(Cy(t).length!==i)return!1;for(;i-- >0;)if(!G_(e,t,r,n[i]))return!1;return!0}function Ra(e,t,r){var n=Oy(e),i=n.length;if(Oy(t).length!==i)return!1;for(var a,s,l;i-- >0;)if(a=n[i],!G_(e,t,r,a)||(s=Py(e,a),l=Py(t,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function C8(e,t){return Zn(e.valueOf(),t.valueOf())}function E8(e,t){return e.source===t.source&&e.flags===t.flags}function $y(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),s,l;(s=a.next())&&!s.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function $8(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function T8(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function G_(e,t,r,n){return(n===j8||n===w8||n===b8)&&(e.$$typeof||t.$$typeof)?!0:x8(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var k8="[object Arguments]",I8="[object Boolean]",M8="[object Date]",R8="[object Error]",D8="[object Map]",L8="[object Number]",F8="[object Object]",z8="[object RegExp]",B8="[object Set]",q8="[object String]",U8="[object URL]",W8=Array.isArray,Ty=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,ky=Object.assign,V8=Object.prototype.toString.call.bind(Object.prototype.toString);function H8(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,s=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(p,g,v){if(p===g)return!0;if(p==null||g==null)return!1;var j=typeof p;if(j!==typeof g)return!1;if(j!=="object")return j==="number"?s(p,g,v):j==="function"?i(p,g,v):!1;var w=p.constructor;if(w!==g.constructor)return!1;if(w===Object)return l(p,g,v);if(W8(p))return t(p,g,v);if(Ty!=null&&Ty(p))return f(p,g,v);if(w===Date)return r(p,g,v);if(w===RegExp)return u(p,g,v);if(w===Map)return a(p,g,v);if(w===Set)return d(p,g,v);var S=V8(p);return S===M8?r(p,g,v):S===z8?u(p,g,v):S===D8?a(p,g,v):S===B8?d(p,g,v):S===F8?typeof p.then!="function"&&typeof g.then!="function"&&l(p,g,v):S===U8?h(p,g,v):S===R8?n(p,g,v):S===k8?l(p,g,v):S===I8||S===L8||S===q8?c(p,g,v):!1}}function G8(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Ra:_8,areDatesEqual:S8,areErrorsEqual:A8,areFunctionsEqual:N8,areMapsEqual:n?Ny(Ey,Ra):Ey,areNumbersEqual:O8,areObjectsEqual:n?Ra:P8,arePrimitiveWrappersEqual:C8,areRegExpsEqual:E8,areSetsEqual:n?Ny($y,Ra):$y,areTypedArraysEqual:n?Ra:$8,areUrlsEqual:T8};if(r&&(i=ky({},i,r(i))),t){var a=Lo(i.areArraysEqual),s=Lo(i.areMapsEqual),l=Lo(i.areObjectsEqual),c=Lo(i.areSetsEqual);i=ky({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function K8(e){return function(t,r,n,i,a,s,l){return e(t,r,l)}}function X8(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:i,meta:m,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return r(c,u,s)}}var Y8=xn();xn({strict:!0});xn({circular:!0});xn({circular:!0,strict:!0});xn({createInternalComparator:function(){return Zn}});xn({strict:!0,createInternalComparator:function(){return Zn}});xn({circular:!0,createInternalComparator:function(){return Zn}});xn({circular:!0,createInternalComparator:function(){return Zn},strict:!0});function xn(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,s=a===void 0?!1:a,l=G8(e),c=H8(l),u=n?n(c):K8(c);return X8({circular:r,comparator:c,createState:i,equals:u,strict:s})}function J8(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Iy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):J8(i)};requestAnimationFrame(n)}function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function Q8(e){return rU(e)||tU(e)||eU(e)||Z8()}function Z8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eU(e,t){if(e){if(typeof e=="string")return My(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return My(e,t)}}function My(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rU(e){if(Array.isArray(e))return e}function nU(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,l=Q8(s),c=l[0],u=l.slice(1);if(typeof c=="number"){Iy(i.bind(null,u),c);return}i(c),Iy(i.bind(null,u));return}Pf(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function Ry(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ry(Object(r),!0).forEach(function(n){K_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ry(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K_(e,t,r){return t=iU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iU(e){var t=aU(e,"string");return Ms(t)==="symbol"?t:String(t)}function aU(e,t){if(Ms(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sU=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},oU=function(t){return t},lU=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ss=function(t,r){return Object.keys(r).reduce(function(n,i){return Dy(Dy({},n),{},K_({},i,t(i,r[i])))},{})},Ly=function(t,r,n){return t.map(function(i){return"".concat(lU(i)," ").concat(r,"ms ").concat(n)}).join(",")};function cU(e,t){return fU(e)||dU(e,t)||X_(e,t)||uU()}function uU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function fU(e){if(Array.isArray(e))return e}function hU(e){return gU(e)||pU(e)||X_(e)||mU()}function mU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X_(e,t){if(e){if(typeof e=="string")return Cf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cf(e,t)}}function pU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gU(e){if(Array.isArray(e))return Cf(e)}function Cf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wl=1e-4,Y_=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},J_=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Fy=function(t,r){return function(n){var i=Y_(t,r);return J_(i,n)}},vU=function(t,r){return function(n){var i=Y_(t,r),a=[].concat(hU(i.map(function(s,l){return s*l}).slice(1)),[0]);return J_(a,n)}},zy=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=cU(u,4);i=d[0],a=d[1],s=d[2],l=d[3]}}}var f=Fy(i,s),h=Fy(a,l),m=vU(i,s),p=function(j){return j>1?1:j<0?0:j},g=function(j){for(var w=j>1?1:j,S=w,x=0;x<8;++x){var y=f(S)-w,b=m(S);if(Math.abs(y-w)<Wl||b<Wl)return h(S);S=p(S-y/b)}return h(S)};return g.isStepper=!1,g},yU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,s=t.dt,l=s===void 0?17:s,c=function(d,f,h){var m=-(d-f)*n,p=h*a,g=h+(m-p)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Wl&&Math.abs(g)<Wl?[f,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},xU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zy(i);case"spring":return yU();default:if(i.split("(")[0]==="cubic-bezier")return zy(i)}return typeof i=="function"?i:null};function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function By(e){return jU(e)||wU(e)||Q_(e)||bU()}function bU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jU(e){if(Array.isArray(e))return $f(e)}function qy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qy(Object(r),!0).forEach(function(n){Ef(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ef(e,t,r){return t=_U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _U(e){var t=SU(e,"string");return Rs(t)==="symbol"?t:String(t)}function SU(e,t){if(Rs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AU(e,t){return PU(e)||OU(e,t)||Q_(e,t)||NU()}function NU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q_(e,t){if(e){if(typeof e=="string")return $f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $f(e,t)}}function $f(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function PU(e){if(Array.isArray(e))return e}var Vl=function(t,r,n){return t+(r-t)*n},Tf=function(t){var r=t.from,n=t.to;return r!==n},CU=function e(t,r,n){var i=ss(function(a,s){if(Tf(s)){var l=t(s.from,s.to,s.velocity),c=AU(l,2),u=c[0],d=c[1];return gt(gt({},s),{},{from:u,velocity:d})}return s},r);return n<1?ss(function(a,s){return Tf(s)?gt(gt({},s),{},{velocity:Vl(s.velocity,i[a].velocity,n),from:Vl(s.from,i[a].from,n)}):s},r):e(t,i,n-1)};const EU=function(e,t,r,n,i){var a=sU(e,t),s=a.reduce(function(v,j){return gt(gt({},v),{},Ef({},j,[e[j],t[j]]))},{}),l=a.reduce(function(v,j){return gt(gt({},v),{},Ef({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return ss(function(j,w){return w.from},l)},m=function(){return!Object.values(l).filter(Tf).length},p=function(j){u||(u=j);var w=j-u,S=w/r.dt;l=CU(r,l,S),i(gt(gt(gt({},e),t),h())),u=j,m()||(c=requestAnimationFrame(f))},g=function(j){d||(d=j);var w=(j-d)/n,S=ss(function(y,b){return Vl.apply(void 0,By(b).concat([r(w)]))},s);if(i(gt(gt(gt({},e),t),S)),w<1)c=requestAnimationFrame(f);else{var x=ss(function(y,b){return Vl.apply(void 0,By(b).concat([r(1)]))},s);i(gt(gt(gt({},e),t),x))}};return f=r.isStepper?p:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ii(e){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(e)}var $U=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function TU(e,t){if(e==null)return{};var r=kU(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kU(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function od(e){return DU(e)||RU(e)||MU(e)||IU()}function IU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MU(e,t){if(e){if(typeof e=="string")return kf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kf(e,t)}}function RU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DU(e){if(Array.isArray(e))return kf(e)}function kf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uy(Object(r),!0).forEach(function(n){Ya(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ya(e,t,r){return t=Z_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z_(n.key),n)}}function zU(e,t,r){return t&&FU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z_(e){var t=BU(e,"string");return Ii(t)==="symbol"?t:String(t)}function BU(e,t){if(Ii(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ii(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&If(e,t)}function If(e,t){return If=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},If(e,t)}function UU(e){var t=WU();return function(){var n=Hl(e),i;if(t){var a=Hl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Mf(this,i)}}function Mf(e,t){if(t&&(Ii(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rf(e)}function Rf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hl(e){return Hl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hl(e)}var pr=function(e){qU(r,e);var t=UU(r);function r(n,i){var a;LU(this,r),a=t.call(this,n,i);var s=a.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Rf(a)),a.changeStyle=a.changeStyle.bind(Rf(a)),!l||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),Mf(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Mf(a);a.state={style:c?Ya({},c,u):u}}else a.state={style:{}};return a}return zU(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!s){var m={style:c?Ya({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(Y8(i.to,d)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?f:i.to;if(this.state&&h){var v={style:c?Ya({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(v)}this.runAnimation(ir(ir({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=EU(s,l,xU(u),c,this.changeStyle),p=function(){a.stopJSAnimation=m()};this.manager.start([h,d,p,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,v,j){if(j===0)return g;var w=v.duration,S=v.easing,x=S===void 0?"ease":S,y=v.style,b=v.properties,_=v.onAnimationEnd,A=j>0?s[j-1]:v,O=b||Object.keys(y);if(typeof x=="function"||x==="spring")return[].concat(od(g),[a.runJSAnimation.bind(a,{from:A.style,to:y,duration:w,easing:x}),w]);var T=Ly(O,w,x),N=ir(ir(ir({},A.style),y),{},{transition:T});return[].concat(od(g),[N,w,_]).filter(oU)};return this.manager.start([c].concat(od(s.reduce(m,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=nU());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=l?Ya({},l,c):c,v=Ly(Object.keys(g),s,u);p.start([d,a,ir(ir({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=TU(i,$U),u=$.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||s<=0)return a;var f=function(m){var p=m.props,g=p.style,v=g===void 0?{}:g,j=p.className,w=$.cloneElement(m,ir(ir({},c),{},{style:ir(ir({},v),d),className:j}));return w};return u===1?f($.Children.only(a)):C.createElement("div",null,$.Children.map(a,function(h){return f(h)}))}}]),r}($.PureComponent);pr.displayName="Animate";pr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pr.propTypes={from:de.oneOfType([de.object,de.string]),to:de.oneOfType([de.object,de.string]),attributeName:de.string,duration:de.number,begin:de.number,easing:de.oneOfType([de.string,de.func]),steps:de.arrayOf(de.shape({duration:de.number.isRequired,style:de.object.isRequired,easing:de.oneOfType([de.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),de.func]),properties:de.arrayOf("string"),onAnimationEnd:de.func})),children:de.oneOfType([de.node,de.func]),isActive:de.bool,canBegin:de.bool,onAnimationEnd:de.func,shouldReAnimate:de.bool,onAnimationStart:de.func,onAnimationReStart:de.func};function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gl.apply(this,arguments)}function VU(e,t){return XU(e)||KU(e,t)||GU(e,t)||HU()}function HU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GU(e,t){if(e){if(typeof e=="string")return Wy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wy(e,t)}}function Wy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function XU(e){if(Array.isArray(e))return e}function Vy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vy(Object(r),!0).forEach(function(n){YU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YU(e,t,r){return t=JU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JU(e){var t=QU(e,"string");return Ds(t)=="symbol"?t:t+""}function QU(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gy=function(t,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>s?s:a[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+i)),d+="L ".concat(t+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);d="M ".concat(t,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+c*p,",").concat(r,`
            L `).concat(t+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*p,`
            L `).concat(t+n,",").concat(r+i-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n-c*p,",").concat(r+i,`
            L `).concat(t+c*p,",").concat(r+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*p," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},ZU=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},eW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dm=function(t){var r=Hy(Hy({},eW),t),n=$.useRef(),i=$.useState(-1),a=VU(i,2),s=a[0],l=a[1];$.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&l(x)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,j=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=ye("recharts-rectangle",m);return w?C.createElement(pr,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:p,isActive:w},function(x){var y=x.width,b=x.height,_=x.x,A=x.y;return C.createElement(pr,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:j,easing:p},C.createElement("path",Gl({},ce(r,!0),{className:S,d:Gy(_,A,y,b,h),ref:n})))}):C.createElement("path",Gl({},ce(r,!0),{className:S,d:Gy(c,u,d,f,h)}))},tW=["points","className","baseLinePoints","connectNulls"];function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gi.apply(this,arguments)}function rW(e,t){if(e==null)return{};var r=nW(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ky(e){return oW(e)||sW(e)||aW(e)||iW()}function iW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aW(e,t){if(e){if(typeof e=="string")return Df(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Df(e,t)}}function sW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oW(e){if(Array.isArray(e))return Df(e)}function Df(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xy=function(t){return t&&t.x===+t.x&&t.y===+t.y},lW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Xy(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Xy(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},os=function(t,r){var n=lW(t);r&&(n=[n.reduce(function(a,s){return[].concat(Ky(a),Ky(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},cW=function(t,r,n){var i=os(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(os(r.reverse(),n).slice(1))},e1=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,s=rW(t,tW);if(!r||!r.length)return null;var l=ye("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=cW(r,i,a);return C.createElement("g",{className:l},C.createElement("path",gi({},ce(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?C.createElement("path",gi({},ce(s,!0),{fill:"none",d:os(r,a)})):null,c?C.createElement("path",gi({},ce(s,!0),{fill:"none",d:os(i,a)})):null)}var d=os(r,a);return C.createElement("path",gi({},ce(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lf.apply(this,arguments)}var co=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,s=ye("recharts-dot",a);return r===+r&&n===+n&&i===+i?$.createElement("circle",Lf({},ce(t,!1),fl(t),{className:s,cx:r,cy:n,r:i})):null};function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}var uW=["x","y","top","left","width","height","className"];function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ff.apply(this,arguments)}function Yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yy(Object(r),!0).forEach(function(n){fW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fW(e,t,r){return t=hW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hW(e){var t=mW(e,"string");return Ls(t)=="symbol"?t:t+""}function mW(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pW(e,t){if(e==null)return{};var r=gW(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vW=function(t,r,n,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},yW=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,p=t.className,g=pW(t,uW),v=dW({x:n,y:a,top:l,left:u,width:f,height:m},g);return!Y(n)||!Y(a)||!Y(f)||!Y(m)||!Y(l)||!Y(u)?null:C.createElement("path",Ff({},ce(v,!0),{className:ye("recharts-cross",p),d:vW(n,a,f,m,l,u)}))},xW=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function bW(e,t){if(e==null)return{};var r=wW(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jr.apply(this,arguments)}function Jy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jy(Object(r),!0).forEach(function(n){jW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jW(e,t,r){return t=_W(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _W(e){var t=SW(e,"string");return Fs(t)=="symbol"?t:t+""}function SW(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AW=function(t,r,n,i){var a="";return i.forEach(function(s,l){var c=Te(r,n,t,s);l?a+="L ".concat(c.x,",").concat(c.y):a+="M ".concat(c.x,",").concat(c.y)}),a+="Z",a},NW=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.polarAngles,l=t.radialLines;if(!s||!s.length||!l)return null;var c=zs({stroke:"#ccc"},ce(t,!1));return C.createElement("g",{className:"recharts-polar-grid-angle"},s.map(function(u){var d=Te(r,n,i,u),f=Te(r,n,a,u);return C.createElement("line",Jr({},c,{key:"line-".concat(u),x1:d.x,y1:d.y,x2:f.x,y2:f.y}))}))},OW=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.index,s=zs(zs({stroke:"#ccc"},ce(t,!1)),{},{fill:"none"});return C.createElement("circle",Jr({},s,{className:ye("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(a),cx:r,cy:n,r:i}))},PW=function(t){var r=t.radius,n=t.index,i=zs(zs({stroke:"#ccc"},ce(t,!1)),{},{fill:"none"});return C.createElement("path",Jr({},i,{className:ye("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(n),d:AW(r,t.cx,t.cy,t.polarAngles)}))},CW=function(t){var r=t.polarRadius,n=t.gridType;return!r||!r.length?null:C.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(i,a){var s=a;return n==="circle"?C.createElement(OW,Jr({key:s},t,{radius:i,index:a})):C.createElement(PW,Jr({key:s},t,{radius:i,index:a}))}))},t1=function(t){var r=t.cx,n=r===void 0?0:r,i=t.cy,a=i===void 0?0:i,s=t.innerRadius,l=s===void 0?0:s,c=t.outerRadius,u=c===void 0?0:c,d=t.gridType,f=d===void 0?"polygon":d,h=t.radialLines,m=h===void 0?!0:h,p=bW(t,xW);return u<=0?null:C.createElement("g",{className:"recharts-polar-grid"},C.createElement(NW,Jr({cx:n,cy:a,innerRadius:l,outerRadius:u,gridType:f,radialLines:m},p)),C.createElement(CW,Jr({cx:n,cy:a,innerRadius:l,outerRadius:u,gridType:f,radialLines:m},p)))};t1.displayName="PolarGrid";var EW=au,$W=f_,TW=Cr;function kW(e,t){return e&&e.length?EW(e,TW(t),$W):void 0}var IW=kW;const MW=$e(IW);var RW=au,DW=Cr,LW=h_;function FW(e,t){return e&&e.length?RW(e,DW(t),LW):void 0}var zW=FW;const BW=$e(zW);var qW=["cx","cy","angle","ticks","axisLine"],UW=["ticks","tick","angle","tickFormatter","stroke"];function Mi(e){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(e)}function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ls.apply(this,arguments)}function Qy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qy(Object(r),!0).forEach(function(n){uu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zy(e,t){if(e==null)return{};var r=WW(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ex(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n1(n.key),n)}}function HW(e,t,r){return t&&ex(e.prototype,t),r&&ex(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GW(e,t,r){return t=Kl(t),KW(e,r1()?Reflect.construct(t,r||[],Kl(e).constructor):t.apply(e,r))}function KW(e,t){if(t&&(Mi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XW(e)}function XW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r1=function(){return!!e})()}function Kl(e){return Kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kl(e)}function YW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zf(e,t)}function zf(e,t){return zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zf(e,t)}function uu(e,t,r){return t=n1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n1(e){var t=JW(e,"string");return Mi(t)=="symbol"?t:t+""}function JW(e,t){if(Mi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ya=function(e){function t(){return VW(this,t),GW(this,t,arguments)}return YW(t,e),HW(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,l=a.cx,c=a.cy;return Te(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,c=MW(l,function(d){return d.coordinate||0}),u=BW(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=Zy(n,qW),d=l.reduce(function(p,g){return[Math.min(p[0],g.coordinate),Math.max(p[1],g.coordinate)]},[1/0,-1/0]),f=Te(i,a,d[0],s),h=Te(i,a,d[1],s),m=jn(jn(jn({},ce(u,!1)),{},{fill:"none"},ce(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return C.createElement("line",ls({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=Zy(i,UW),f=this.getTickTextAnchor(),h=ce(d,!1),m=ce(s,!1),p=a.map(function(g,v){var j=n.getTickValueCoord(g),w=jn(jn(jn(jn({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},j),{},{payload:g});return C.createElement(Ce,ls({className:ye("recharts-polar-radius-axis-tick",q_(s)),key:"tick-".concat(g.coordinate)},Un(n.props,g,v)),t.renderTickItem(s,w,c?c(g.value,v):g.value))});return C.createElement(Ce,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:C.createElement(Ce,{className:ye("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),mt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return C.isValidElement(n)?s=C.cloneElement(n,i):he(n)?s=n(i):s=C.createElement(Wn,ls({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}($.PureComponent);uu(ya,"displayName","PolarRadiusAxis");uu(ya,"axisType","radiusAxis");uu(ya,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cn.apply(this,arguments)}function tx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tx(Object(r),!0).forEach(function(n){du(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a1(n.key),n)}}function ZW(e,t,r){return t&&rx(e.prototype,t),r&&rx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eV(e,t,r){return t=Xl(t),tV(e,i1()?Reflect.construct(t,r||[],Xl(e).constructor):t.apply(e,r))}function tV(e,t){if(t&&(Ri(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rV(e)}function rV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i1=function(){return!!e})()}function Xl(e){return Xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xl(e)}function nV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bf(e,t)}function Bf(e,t){return Bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bf(e,t)}function du(e,t,r){return t=a1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a1(e){var t=iV(e,"string");return Ri(t)=="symbol"?t:t+""}function iV(e,t){if(Ri(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ri(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aV=Math.PI/180,nx=1e-5,xa=function(e){function t(){return QW(this,t),eV(this,t,arguments)}return nV(t,e),ZW(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=Te(a,s,l,n.coordinate),h=Te(a,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*aV),s;return a>nx?s=i==="outer"?"start":"end":a<-nx?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=_n(_n({},ce(this.props,!1)),{},{fill:"none"},ce(l,!1));if(c==="circle")return C.createElement(co,Cn({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return Te(i,a,s,h.coordinate)});return C.createElement(e1,Cn({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=ce(this.props,!1),f=ce(s,!1),h=_n(_n({},d),{},{fill:"none"},ce(l,!1)),m=a.map(function(p,g){var v=n.getTickLineCoord(p),j=n.getTickTextAnchor(p),w=_n(_n(_n({textAnchor:j},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:p,x:v.x2,y:v.y2});return C.createElement(Ce,Cn({className:ye("recharts-polar-angle-axis-tick",q_(s)),key:"tick-".concat(p.coordinate)},Un(n.props,p,g)),l&&C.createElement("line",Cn({className:"recharts-polar-angle-axis-tick-line"},h,v)),s&&t.renderTickItem(s,w,c?c(p.value,g):p.value))});return C.createElement(Ce,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:C.createElement(Ce,{className:ye("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return C.isValidElement(n)?s=C.cloneElement(n,i):he(n)?s=n(i):s=C.createElement(Wn,Cn({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}($.PureComponent);du(xa,"displayName","PolarAngleAxis");du(xa,"axisType","angleAxis");du(xa,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var sV=aj,oV=sV(Object.getPrototypeOf,Object),lV=oV,cV=en,uV=lV,dV=tn,fV="[object Object]",hV=Function.prototype,mV=Object.prototype,s1=hV.toString,pV=mV.hasOwnProperty,gV=s1.call(Object);function vV(e){if(!dV(e)||cV(e)!=fV)return!1;var t=uV(e);if(t===null)return!0;var r=pV.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&s1.call(r)==gV}var yV=vV;const xV=$e(yV);var bV=en,wV=tn,jV="[object Boolean]";function _V(e){return e===!0||e===!1||wV(e)&&bV(e)==jV}var SV=_V;const AV=$e(SV);function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(this,arguments)}function NV(e,t){return EV(e)||CV(e,t)||PV(e,t)||OV()}function OV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PV(e,t){if(e){if(typeof e=="string")return ix(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ix(e,t)}}function ix(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function EV(e){if(Array.isArray(e))return e}function ax(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ax(Object(r),!0).forEach(function(n){$V(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ax(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $V(e,t,r){return t=TV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TV(e){var t=kV(e,"string");return Bs(t)=="symbol"?t:t+""}function kV(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ox=function(t,r,n,i,a){var s=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+a),l+="L ".concat(t+n-s/2-i,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},IV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MV=function(t){var r=sx(sx({},IV),t),n=$.useRef(),i=$.useState(-1),a=NV(i,2),s=a[0],l=a[1];$.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=ye("recharts-trapezoid",m);return j?C.createElement(pr,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:p,isActive:j},function(S){var x=S.upperWidth,y=S.lowerWidth,b=S.height,_=S.x,A=S.y;return C.createElement(pr,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:p},C.createElement("path",Yl({},ce(r,!0),{className:w,d:ox(_,A,x,y,b),ref:n})))}):C.createElement("g",null,C.createElement("path",Yl({},ce(r,!0),{className:w,d:ox(c,u,d,f,h)})))},RV=["option","shapeType","propTransformer","activeClassName","isActive"];function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function DV(e,t){if(e==null)return{};var r=LV(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lx(Object(r),!0).forEach(function(n){FV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FV(e,t,r){return t=zV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zV(e){var t=BV(e,"string");return qs(t)=="symbol"?t:t+""}function BV(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qV(e,t){return Jl(Jl({},t),e)}function UV(e,t){return e==="symbols"}function cx(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return C.createElement(Dm,r);case"trapezoid":return C.createElement(MV,r);case"sector":return C.createElement(H_,r);case"symbols":if(UV(t))return C.createElement(rm,r);break;default:return null}}function WV(e){return $.isValidElement(e)?e.props:e}function o1(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?qV:n,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,l=e.isActive,c=DV(e,RV),u;if($.isValidElement(t))u=$.cloneElement(t,Jl(Jl({},c),WV(t)));else if(he(t))u=t(c);else if(xV(t)&&!AV(t)){var d=i(t,c);u=C.createElement(cx,{shapeType:r,elementProps:d})}else{var f=c;u=C.createElement(cx,{shapeType:r,elementProps:f})}return l?C.createElement(Ce,{className:s},u):u}function fu(e,t){return t!=null&&"trapezoids"in e.props}function hu(e,t){return t!=null&&"sectors"in e.props}function Us(e,t){return t!=null&&"points"in e.props}function VV(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function HV(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function GV(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function KV(e,t){var r;return fu(e,t)?r=VV:hu(e,t)?r=HV:Us(e,t)&&(r=GV),r}function XV(e,t){var r;return fu(e,t)?r="trapezoids":hu(e,t)?r="sectors":Us(e,t)&&(r="points"),r}function YV(e,t){if(fu(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(hu(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Us(e,t)?t.payload:{}}function JV(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=XV(r,t),a=YV(r,t),s=n.filter(function(c,u){var d=pa(a,c),f=r.props[i].filter(function(p){var g=KV(r,t);return g(p,t)}),h=r.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(s[s.length-1]);return l}var Jo;function Di(e){"@babel/helpers - typeof";return Di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(e)}function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vi.apply(this,arguments)}function ux(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ux(Object(r),!0).forEach(function(n){Qt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ux(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c1(n.key),n)}}function ZV(e,t,r){return t&&dx(e.prototype,t),r&&dx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eH(e,t,r){return t=Ql(t),tH(e,l1()?Reflect.construct(t,r||[],Ql(e).constructor):t.apply(e,r))}function tH(e,t){if(t&&(Di(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rH(e)}function rH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l1=function(){return!!e})()}function Ql(e){return Ql=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ql(e)}function nH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qf(e,t)}function qf(e,t){return qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qf(e,t)}function Qt(e,t,r){return t=c1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c1(e){var t=iH(e,"string");return Di(t)=="symbol"?t:t+""}function iH(e,t){if(Di(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Di(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nn=function(e){function t(r){var n;return QV(this,t),n=eH(this,t,[r]),Qt(n,"pieRef",null),Qt(n,"sectorRefs",[]),Qt(n,"id",ua("recharts-pie-")),Qt(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),he(i)&&i()}),Qt(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),he(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return nH(t,e),ZV(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=ce(this.props,!1),f=ce(s,!1),h=ce(l,!1),m=s&&s.offsetRadius||20,p=n.map(function(g,v){var j=(g.startAngle+g.endAngle)/2,w=Te(g.cx,g.cy,g.outerRadius+m,j),S=ze(ze(ze(ze({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(w.x,g.cx)},w),x=ze(ze(ze(ze({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[Te(g.cx,g.cy,g.outerRadius,j),w]}),y=c;return be(c)&&be(u)?y="value":be(c)&&(y=u),C.createElement(Ce,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,x,"line"),t.renderLabelItem(s,S,Je(g,y)))});return C.createElement(Ce,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,m=f?s:h,p=ze(ze({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return C.createElement(Ce,vi({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Un(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),C.createElement(o1,vi({option:m,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return C.createElement(pr,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var g=p.t,v=[],j=a&&a[0],w=j.startAngle;return a.forEach(function(S,x){var y=h&&h[x],b=x>0?Vt(S,"paddingAngle",0):0;if(y){var _=xt(y.endAngle-y.startAngle,S.endAngle-S.startAngle),A=ze(ze({},S),{},{startAngle:w+b,endAngle:w+_(g)+b});v.push(A),w=A.endAngle}else{var O=S.endAngle,T=S.startAngle,N=xt(0,O-T),P=N(g),E=ze(ze({},S),{},{startAngle:w+b,endAngle:w+P+b});v.push(E),w=E.endAngle}}),C.createElement(Ce,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!pa(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,p=this.state.isAnimationFinished;if(a||!s||!s.length||!Y(u)||!Y(d)||!Y(f)||!Y(h))return null;var g=ye("recharts-pie",l);return C.createElement(Ce,{tabIndex:this.props.rootTabIndex,className:g,ref:function(j){n.pieRef=j}},this.renderSectors(),c&&this.renderLabels(s),mt.renderCallByParent(this.props,null,!1),(!m||p)&&Ar.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(C.isValidElement(n))return C.cloneElement(n,i);if(he(n))return n(i);var s=ye("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return C.createElement(Ul,vi({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(C.isValidElement(n))return C.cloneElement(n,i);var s=a;if(he(n)&&(s=n(i),C.isValidElement(s)))return s;var l=ye("recharts-pie-label-text",typeof n!="boolean"&&!he(n)?n.className:"");return C.createElement(Wn,vi({},i,{alignmentBaseline:"middle",className:l}),s)}}])}($.PureComponent);Jo=nn;Qt(nn,"displayName","Pie");Qt(nn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gn.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Qt(nn,"parseDeltaAngle",function(e,t){var r=Pt(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Qt(nn,"getRealPieData",function(e){var t=e.data,r=e.children,n=ce(e,!1),i=Ht(r,Qc);return t&&t.length?t.map(function(a,s){return ze(ze(ze({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return ze(ze({},n),a.props)}):[]});Qt(nn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,s=z_(i,a),l=n+Ct(e.cx,i,i/2),c=r+Ct(e.cy,a,a/2),u=Ct(e.innerRadius,s,0),d=Ct(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Qt(nn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?ze(ze({},t.type.defaultProps),t.props):t.props,i=Jo.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),p=Jo.parseCoordinateOfPie(n,r),g=Jo.parseDeltaAngle(s,l),v=Math.abs(g),j=u;be(u)&&be(f)?(mr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):be(u)&&(mr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=f);var w=i.filter(function(A){return Je(A,j,0)!==0}).length,S=(v>=360?w:w-1)*c,x=v-w*m-S,y=i.reduce(function(A,O){var T=Je(O,j,0);return A+(Y(T)?T:0)},0),b;if(y>0){var _;b=i.map(function(A,O){var T=Je(A,j,0),N=Je(A,d,O),P=(Y(T)?T:0)/y,E;O?E=_.endAngle+Pt(g)*c*(T!==0?1:0):E=s;var M=E+Pt(g)*((T!==0?m:0)+P*x),R=(E+M)/2,F=(p.innerRadius+p.outerRadius)/2,D=[{name:N,value:T,payload:A,dataKey:j,type:h}],z=Te(p.cx,p.cy,F,R);return _=ze(ze(ze({percent:P,cornerRadius:a,name:N,tooltipPayload:D,midAngle:R,middleRadius:F,tooltipPosition:z},A),p),{},{value:Je(A,j),startAngle:E,endAngle:M,payload:A,paddingAngle:Pt(g)*c}),_})}return ze(ze({},p),{},{sectors:b,data:i})});function aH(e){return e&&e.length?e[0]:void 0}var sH=aH,oH=sH;const lH=$e(oH);var cH=["key"];function Li(e){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(e)}function uH(e,t){if(e==null)return{};var r=dH(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zl.apply(this,arguments)}function fx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fx(Object(r),!0).forEach(function(n){qr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d1(n.key),n)}}function hH(e,t,r){return t&&hx(e.prototype,t),r&&hx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mH(e,t,r){return t=ec(t),pH(e,u1()?Reflect.construct(t,r||[],ec(e).constructor):t.apply(e,r))}function pH(e,t){if(t&&(Li(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gH(e)}function gH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u1=function(){return!!e})()}function ec(e){return ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ec(e)}function vH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uf(e,t)}function Uf(e,t){return Uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Uf(e,t)}function qr(e,t,r){return t=d1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d1(e){var t=yH(e,"string");return Li(t)=="symbol"?t:t+""}function yH(e,t){if(Li(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Li(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zn=function(e){function t(){var r;fH(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=mH(this,t,[].concat(i)),qr(r,"state",{isAnimationFinished:!1}),qr(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),he(s)&&s()}),qr(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),he(s)&&s()}),qr(r,"handleMouseEnter",function(s){var l=r.props.onMouseEnter;l&&l(r.props,s)}),qr(r,"handleMouseLeave",function(s){var l=r.props.onMouseLeave;l&&l(r.props,s)}),r}return vH(t,e),hH(t,[{key:"renderDots",value:function(n){var i=this.props,a=i.dot,s=i.dataKey,l=ce(this.props,!1),c=ce(a,!0),u=n.map(function(d,f){var h=Nt(Nt(Nt({key:"dot-".concat(f),r:3},l),c),{},{dataKey:s,cx:d.x,cy:d.y,index:f,payload:d});return t.renderDotItem(a,h)});return C.createElement(Ce,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(n){var i=this.props,a=i.shape,s=i.dot,l=i.isRange,c=i.baseLinePoints,u=i.connectNulls,d;return C.isValidElement(a)?d=C.cloneElement(a,Nt(Nt({},this.props),{},{points:n})):he(a)?d=a(Nt(Nt({},this.props),{},{points:n})):d=C.createElement(e1,Zl({},ce(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:l?c:null,connectNulls:u})),C.createElement(Ce,{className:"recharts-radar-polygon"},d,s?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,i=this.props,a=i.points,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevPoints;return C.createElement(pr,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,p=f&&f.length/a.length,g=a.map(function(v,j){var w=f&&f[Math.floor(j*p)];if(w){var S=xt(w.x,v.x),x=xt(w.y,v.y);return Nt(Nt({},v),{},{x:S(m),y:x(m)})}var y=xt(v.cx,v.x),b=xt(v.cy,v.y);return Nt(Nt({},v),{},{x:y(m),y:b(m)})});return n.renderPolygonStatically(g)})}},{key:"renderPolygon",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,s=n.isRange,l=this.state.prevPoints;return a&&i&&i.length&&!s&&(!l||!pa(l,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.className,s=n.points,l=n.isAnimationActive;if(i||!s||!s.length)return null;var c=this.state.isAnimationFinished,u=ye("recharts-radar",a);return C.createElement(Ce,{className:u},this.renderPolygon(),(!l||c)&&Ar.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,i){var a;if(C.isValidElement(n))a=C.cloneElement(n,i);else if(he(n))a=n(i);else{var s=i.key,l=uH(i,cH);a=C.createElement(co,Zl({},l,{key:s,className:ye("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return a}}])}($.PureComponent);qr(zn,"displayName","Radar");qr(zn,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!gn.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});qr(zn,"getComposedData",function(e){var t=e.radiusAxis,r=e.angleAxis,n=e.displayedData,i=e.dataKey,a=e.bandSize,s=r.cx,l=r.cy,c=!1,u=[],d=r.type!=="number"?a??0:0;n.forEach(function(h,m){var p=Je(h,r.dataKey,m),g=Je(h,i),v=r.scale(p)+d,j=Array.isArray(g)?W_(g):g,w=be(j)?void 0:t.scale(j);Array.isArray(g)&&g.length>=2&&(c=!0),u.push(Nt(Nt({},Te(s,l,w,v)),{},{name:p,value:g,cx:s,cy:l,radius:w,angle:v,payload:h}))});var f=[];return c&&u.forEach(function(h){if(Array.isArray(h.value)){var m=lH(h.value),p=be(m)?void 0:t.scale(m);f.push(Nt(Nt({},h),{},{radius:p},Te(s,l,p,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}});var xH=Math.ceil,bH=Math.max;function wH(e,t,r,n){for(var i=-1,a=bH(xH((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}var jH=wH,_H=Sj,mx=1/0,SH=17976931348623157e292;function AH(e){if(!e)return e===0?e:0;if(e=_H(e),e===mx||e===-mx){var t=e<0?-1:1;return t*SH}return e===e?e:0}var f1=AH,NH=jH,OH=Jc,ld=f1;function PH(e){return function(t,r,n){return n&&typeof n!="number"&&OH(t,r,n)&&(r=n=void 0),t=ld(t),r===void 0?(r=t,t=0):r=ld(r),n=n===void 0?t<r?1:-1:ld(n),NH(t,r,n,e)}}var CH=PH,EH=CH,$H=EH(),TH=$H;const tc=$e(TH);function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function px(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?px(Object(r),!0).forEach(function(n){h1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):px(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h1(e,t,r){return t=kH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kH(e){var t=IH(e,"string");return Ws(t)=="symbol"?t:t+""}function IH(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MH=["Webkit","Moz","O","ms"],RH=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=MH.reduce(function(a,s){return gx(gx({},a),{},h1({},s+n,r))},{});return i[t]=r,i};function Fi(e){"@babel/helpers - typeof";return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}function vx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vx(Object(r),!0).forEach(function(n){Bt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p1(n.key),n)}}function LH(e,t,r){return t&&yx(e.prototype,t),r&&yx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FH(e,t,r){return t=nc(t),zH(e,m1()?Reflect.construct(t,r||[],nc(e).constructor):t.apply(e,r))}function zH(e,t){if(t&&(Fi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BH(e)}function BH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m1=function(){return!!e})()}function nc(e){return nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nc(e)}function qH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wf(e,t)}function Wf(e,t){return Wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wf(e,t)}function Bt(e,t,r){return t=p1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p1(e){var t=UH(e,"string");return Fi(t)=="symbol"?t:t+""}function UH(e,t){if(Fi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WH=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=is().domain(tc(0,c)).range([a,a+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},xx=function(t){return t.changedTouches&&!!t.changedTouches.length},zi=function(e){function t(r){var n;return DH(this,t),n=FH(this,t,[r]),Bt(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Bt(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Bt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Bt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Bt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Bt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Bt(n,"handleSlideDragStart",function(i){var a=xx(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return qH(t,e),LH(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),m=t.getIndexInRange(s,f),p=t.getIndexInRange(s,h);return{startIndex:m-m%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=Je(a[n],l,n);return he(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,p=c.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+d-f-l,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-l));var v=this.getIndex({startX:s+g,endX:l+g});(v.startIndex!==h||v.endIndex!==m)&&p&&p(v),this.setState({startX:s+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=xx(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,p=d.onChange,g=d.gap,v=d.data,j={startX:this.state.startX,endX:this.state.endX},w=n.pageX-a;w>0?w=Math.min(w,f+h-m-u):w<0&&(w=Math.max(w,f-u)),j[s]=u+w;var S=this.getIndex(j),x=S.startIndex,y=S.endIndex,b=function(){var A=v.length-1;return s==="startX"&&(l>c?x%g===0:y%g===0)||l<c&&y===A||s==="endX"&&(l>c?y%g===0:x%g===0)||l>c&&y===A};this.setState(Bt(Bt({},s,u+w),"brushMoveStartX",n.pageX),function(){p&&b()&&p(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(Bt({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return C.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=$.Children.only(u);return f?C.cloneElement(f,{x:i,y:a,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,p=c.data,g=c.startIndex,v=c.endIndex,j=Math.max(n,this.props.x),w=cd(cd({},ce(this.props,!1)),{},{x:j,y:u,width:d,height:f}),S=m||"Min value: ".concat((a=p[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=p[v])===null||s===void 0?void 0:s.name);return C.createElement(Ce,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(y){["ArrowLeft","ArrowRight"].includes(y.key)&&(y.preventDefault(),y.stopPropagation(),l.handleTravellerMoveKeyboard(y.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return C.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,p={pointerEvents:"none",fill:u};return C.createElement(Ce,{className:"recharts-brush-texts"},C.createElement(Wn,rc({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+l/2},p),this.getTextOfTick(i)),C.createElement(Wn,rc({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:s+l/2},p),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,p=h.endX,g=h.isTextActive,v=h.isSlideMoving,j=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!Y(l)||!Y(c)||!Y(u)||!Y(d)||u<=0||d<=0)return null;var S=ye("recharts-brush",a),x=C.Children.count(s)===1,y=RH("userSelect","none");return C.createElement(Ce,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:y},this.renderBackground(),x&&this.renderPanorama(),this.renderSlide(m,p),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(p,"endX"),(g||v||j||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return C.createElement(C.Fragment,null,C.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),C.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),C.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return C.isValidElement(n)?a=C.cloneElement(n,i):he(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return cd({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},a&&a.length?WH({data:a,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>i?l=c:s=c}return i>=n[l]?l:s}}])}($.PureComponent);Bt(zi,"displayName","Brush");Bt(zi,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var VH=cm;function HH(e,t){var r;return VH(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var GH=HH,KH=Jw,XH=Cr,YH=GH,JH=Rt,QH=Jc;function ZH(e,t,r){var n=JH(e)?KH:YH;return r&&QH(e,t,r)&&(t=void 0),n(e,XH(t))}var eG=ZH;const tG=$e(eG);var Nr=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},bx=xj;function rG(e,t,r){t=="__proto__"&&bx?bx(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var nG=rG,iG=nG,aG=vj,sG=Cr;function oG(e,t){var r={};return t=sG(t),aG(e,function(n,i,a){iG(r,i,t(n,i,a))}),r}var lG=oG;const cG=$e(lG);function uG(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var dG=uG,fG=cm;function hG(e,t){var r=!0;return fG(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var mG=hG,pG=dG,gG=mG,vG=Cr,yG=Rt,xG=Jc;function bG(e,t,r){var n=yG(e)?pG:gG;return r&&xG(e,t,r)&&(t=void 0),n(e,vG(t))}var wG=bG;const g1=$e(wG);var jG=["x","y"];function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.apply(this,arguments)}function wx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wx(Object(r),!0).forEach(function(n){_G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _G(e,t,r){return t=SG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SG(e){var t=AG(e,"string");return Vs(t)=="symbol"?t:t+""}function AG(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NG(e,t){if(e==null)return{};var r=OG(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PG(e,t){var r=e.x,n=e.y,i=NG(e,jG),a="".concat(r),s=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Da(Da(Da(Da(Da({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function jx(e){return C.createElement(o1,Vf({shapeType:"rectangle",propTransformer:PG,activeClassName:"recharts-active-bar"},e))}var CG=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=Y(n)||IE(n);return a?t(n,i):(a||Gn(),r)}},EG=["value","background"],v1;function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function $G(e,t){if(e==null)return{};var r=TG(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ic.apply(this,arguments)}function _x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_x(Object(r),!0).forEach(function(n){fn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_x(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x1(n.key),n)}}function IG(e,t,r){return t&&Sx(e.prototype,t),r&&Sx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MG(e,t,r){return t=ac(t),RG(e,y1()?Reflect.construct(t,r||[],ac(e).constructor):t.apply(e,r))}function RG(e,t){if(t&&(Bi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DG(e)}function DG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y1=function(){return!!e})()}function ac(e){return ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ac(e)}function LG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hf(e,t)}function Hf(e,t){return Hf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hf(e,t)}function fn(e,t,r){return t=x1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x1(e){var t=FG(e,"string");return Bi(t)=="symbol"?t:t+""}function FG(e,t){if(Bi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mn=function(e){function t(){var r;kG(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=MG(this,t,[].concat(i)),fn(r,"state",{isAnimationFinished:!1}),fn(r,"id",ua("recharts-bar-")),fn(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),fn(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return LG(t,e),IG(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=ce(this.props,!1);return n&&n.map(function(f,h){var m=h===c,p=m?u:s,g=et(et(et({},d),f),{},{isActive:m,option:p,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return C.createElement(Ce,ic({className:"recharts-bar-rectangle"},Un(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),C.createElement(jx,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return C.createElement(pr,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var p=m.t,g=a.map(function(v,j){var w=h&&h[j];if(w){var S=xt(w.x,v.x),x=xt(w.y,v.y),y=xt(w.width,v.width),b=xt(w.height,v.height);return et(et({},v),{},{x:S(p),y:x(p),width:y(p),height:b(p)})}if(s==="horizontal"){var _=xt(0,v.height),A=_(p);return et(et({},v),{},{y:v.y+v.height-A,height:A})}var O=xt(0,v.width),T=O(p);return et(et({},v),{},{width:T})});return C.createElement(Ce,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!pa(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=ce(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=$G(u,EG);if(!f)return null;var m=et(et(et(et(et({},h),{},{fill:"#eee"},f),c),Un(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return C.createElement(jx,ic({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ht(d,lo);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,m=function(v,j){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Je(v,j)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return C.createElement(Ce,p,f.map(function(g){return C.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,p=n.background,g=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,j=ye("recharts-bar",s),w=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,x=w||S,y=be(g)?this.id:g;return C.createElement(Ce,{className:j},w||S?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(y)},C.createElement("rect",{x:w?u:u-f/2,y:S?d:d-h/2,width:w?f:f*2,height:S?h:h*2}))):null,C.createElement(Ce,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(y,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(x,y),(!m||v)&&Ar.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}($.PureComponent);v1=mn;fn(mn,"displayName","Bar");fn(mn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fn(mn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=rq(n,r);if(!m)return null;var p=t.layout,g=r.type.defaultProps,v=g!==void 0?et(et({},g),r.props):r.props,j=v.dataKey,w=v.children,S=v.minPointSize,x=p==="horizontal"?s:a,y=u?x.scale.domain():null,b=cq({numericAxis:x}),_=Ht(w,Qc),A=f.map(function(O,T){var N,P,E,M,R,F;u?N=nq(u[d+T],y):(N=Je(O,j),Array.isArray(N)||(N=[b,N]));var D=CG(S,v1.defaultProps.minPointSize)(N[1],T);if(p==="horizontal"){var z,H=[s.scale(N[0]),s.scale(N[1])],W=H[0],Z=H[1];P=uy({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:O,index:T}),E=(z=Z??W)!==null&&z!==void 0?z:void 0,M=m.size;var K=W-Z;if(R=Number.isNaN(K)?0:K,F={x:P,y:s.y,width:M,height:s.height},Math.abs(D)>0&&Math.abs(R)<Math.abs(D)){var re=Pt(R||D)*(Math.abs(D)-Math.abs(R));E-=re,R+=re}}else{var X=[a.scale(N[0]),a.scale(N[1])],le=X[0],_e=X[1];if(P=le,E=uy({axis:s,ticks:c,bandSize:i,offset:m.offset,entry:O,index:T}),M=_e-le,R=m.size,F={x:a.x,y:E,width:a.width,height:R},Math.abs(D)>0&&Math.abs(M)<Math.abs(D)){var Ne=Pt(M||D)*(Math.abs(D)-Math.abs(M));M+=Ne}}return et(et(et({},O),{},{x:P,y:E,width:M,height:R,value:u?N:N[1],payload:O,background:F},_&&_[T]&&_[T].props),{},{tooltipPayload:[L_(r,O)],tooltipPosition:{x:P+M/2,y:E+R/2}})});return et({data:A,layout:p},h)});function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function zG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ax(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b1(n.key),n)}}function BG(e,t,r){return t&&Ax(e.prototype,t),r&&Ax(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nx(Object(r),!0).forEach(function(n){mu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mu(e,t,r){return t=b1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b1(e){var t=qG(e,"string");return Hs(t)=="symbol"?t:t+""}function qG(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w1=function(t,r,n,i,a){var s=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!qt(u,mn);return d.reduce(function(m,p){var g=r[p],v=g.orientation,j=g.domain,w=g.padding,S=w===void 0?{}:w,x=g.mirror,y=g.reversed,b="".concat(v).concat(x?"Mirror":""),_,A,O,T,N;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=j[1]-j[0],E=1/0,M=g.categoricalDomain.sort(DE);if(M.forEach(function(X,le){le>0&&(E=Math.min((X||0)-(M[le-1]||0),E))}),Number.isFinite(E)){var R=E/P,F=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(_=R*F/2),g.padding==="no-gap"){var D=Ct(t.barCategoryGap,R*F),z=R*F/2;_=z-D-(z-D)/F*D}}}i==="xAxis"?A=[n.left+(S.left||0)+(_||0),n.left+n.width-(S.right||0)-(_||0)]:i==="yAxis"?A=c==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(_||0),n.top+n.height-(S.bottom||0)-(_||0)]:A=g.range,y&&(A=[A[1],A[0]]);var H=I_(g,a,h),W=H.scale,Z=H.realScaleType;W.domain(j).range(A),M_(W);var K=R_(W,sr(sr({},g),{},{realScaleType:Z}));i==="xAxis"?(N=v==="top"&&!x||v==="bottom"&&x,O=n.left,T=f[b]-N*g.height):i==="yAxis"&&(N=v==="left"&&!x||v==="right"&&x,O=f[b]-N*g.width,T=n.top);var re=sr(sr(sr({},g),K),{},{realScaleType:Z,x:O,y:T,scale:W,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return re.bandSize=zl(re,K),!g.hide&&i==="xAxis"?f[b]+=(N?-1:1)*re.height:g.hide||(f[b]+=(N?-1:1)*re.width),sr(sr({},m),{},mu({},p,re))},{})},j1=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},UG=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return j1({x:r,y:n},{x:i,y:a})},_1=function(){function e(t){zG(this,e),this.scale=t}return BG(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();mu(_1,"EPS",1e-4);var Lm=function(t){var r=Object.keys(t).reduce(function(n,i){return sr(sr({},n),{},mu({},i,_1.create(t[i])))},{});return sr(sr({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return cG(i,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return g1(i,function(a,s){return r[s].isInRange(a)})}})};function WG(e){return(e%180+180)%180}var VG=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=WG(i),s=a*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},HG=Cr,GG=no,KG=Xc;function XG(e){return function(t,r,n){var i=Object(t);if(!GG(t)){var a=HG(r);t=KG(t),r=function(l){return a(i[l],l,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:void 0}}var YG=XG,JG=f1;function QG(e){var t=JG(e),r=t%1;return t===t?r?t-r:t:0}var ZG=QG,e9=dj,t9=Cr,r9=ZG,n9=Math.max;function i9(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:r9(r);return i<0&&(i=n9(n+i,0)),e9(e,t9(t),i)}var a9=i9,s9=YG,o9=a9,l9=s9(o9),c9=l9;const u9=$e(c9);var d9=z2(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Fm=$.createContext(void 0),zm=$.createContext(void 0),S1=$.createContext(void 0),A1=$.createContext({}),N1=$.createContext(void 0),O1=$.createContext(0),P1=$.createContext(0),Ox=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,d=d9(a);return C.createElement(Fm.Provider,{value:n},C.createElement(zm.Provider,{value:i},C.createElement(A1.Provider,{value:a},C.createElement(S1.Provider,{value:d},C.createElement(N1.Provider,{value:s},C.createElement(O1.Provider,{value:u},C.createElement(P1.Provider,{value:c},l)))))))},f9=function(){return $.useContext(N1)},C1=function(t){var r=$.useContext(Fm);r==null&&Gn();var n=r[t];return n==null&&Gn(),n},h9=function(){var t=$.useContext(Fm);return un(t)},m9=function(){var t=$.useContext(zm),r=u9(t,function(n){return g1(n.domain,Number.isFinite)});return r||un(t)},E1=function(t){var r=$.useContext(zm);r==null&&Gn();var n=r[t];return n==null&&Gn(),n},p9=function(){var t=$.useContext(S1);return t},g9=function(){return $.useContext(A1)},Bm=function(){return $.useContext(P1)},qm=function(){return $.useContext(O1)};function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}function v9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T1(n.key),n)}}function x9(e,t,r){return t&&y9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b9(e,t,r){return t=sc(t),w9(e,$1()?Reflect.construct(t,r||[],sc(e).constructor):t.apply(e,r))}function w9(e,t){if(t&&(qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j9(e)}function j9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($1=function(){return!!e})()}function sc(e){return sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sc(e)}function _9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gf(e,t)}function Gf(e,t){return Gf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gf(e,t)}function Px(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Px(Object(r),!0).forEach(function(n){Um(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Px(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Um(e,t,r){return t=T1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T1(e){var t=S9(e,"string");return qi(t)=="symbol"?t:t+""}function S9(e,t){if(qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function A9(e,t){return C9(e)||P9(e,t)||O9(e,t)||N9()}function N9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O9(e,t){if(e){if(typeof e=="string")return Ex(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ex(e,t)}}function Ex(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function C9(e){if(Array.isArray(e))return e}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kf.apply(this,arguments)}var E9=function(t,r){var n;return C.isValidElement(t)?n=C.cloneElement(t,r):he(t)?n=t(r):n=C.createElement("line",Kf({},r,{className:"recharts-reference-line-line"})),n},$9=function(t,r,n,i,a,s,l,c,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(n){var p=u.y,g=t.y.apply(p,{position:s});if(Nr(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var j=u.x,w=t.x.apply(j,{position:s});if(Nr(u,"discard")&&!t.x.isInRange(w))return null;var S=[{x:w,y:f+m},{x:w,y:f}];return l==="top"?S.reverse():S}if(i){var x=u.segment,y=x.map(function(b){return t.apply(b,{position:s})});return Nr(u,"discard")&&tG(y,function(b){return!t.isInRange(b)})?null:y}return null};function T9(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=f9(),d=C1(i),f=E1(a),h=p9();if(!u||!h)return null;mr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Lm({x:d.scale,y:f.scale}),p=ct(t),g=ct(r),v=n&&n.length===2,j=$9(m,p,g,v,h,e.position,d.orientation,f.orientation,e);if(!j)return null;var w=A9(j,2),S=w[0],x=S.x,y=S.y,b=w[1],_=b.x,A=b.y,O=Nr(e,"hidden")?"url(#".concat(u,")"):void 0,T=Cx(Cx({clipPath:O},ce(e,!0)),{},{x1:x,y1:y,x2:_,y2:A});return C.createElement(Ce,{className:ye("recharts-reference-line",l)},E9(s,T),mt.renderCallByParent(e,UG({x1:x,y1:y,x2:_,y2:A})))}var Wm=function(e){function t(){return v9(this,t),b9(this,t,arguments)}return _9(t,e),x9(t,[{key:"render",value:function(){return C.createElement(T9,this.props)}}])}(C.Component);Um(Wm,"displayName","ReferenceLine");Um(Wm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xf.apply(this,arguments)}function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}function $x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$x(Object(r),!0).forEach(function(n){pu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$x(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I1(n.key),n)}}function M9(e,t,r){return t&&I9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R9(e,t,r){return t=oc(t),D9(e,k1()?Reflect.construct(t,r||[],oc(e).constructor):t.apply(e,r))}function D9(e,t){if(t&&(Ui(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L9(e)}function L9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k1=function(){return!!e})()}function oc(e){return oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oc(e)}function F9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yf(e,t)}function Yf(e,t){return Yf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yf(e,t)}function pu(e,t,r){return t=I1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I1(e){var t=z9(e,"string");return Ui(t)=="symbol"?t:t+""}function z9(e,t){if(Ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var B9=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,s=Lm({x:i.scale,y:a.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return Nr(t,"discard")&&!s.isInRange(l)?null:l},gu=function(e){function t(){return k9(this,t),R9(this,t,arguments)}return F9(t,e),M9(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=ct(i),d=ct(a);if(mr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=B9(this.props);if(!f)return null;var h=f.x,m=f.y,p=this.props,g=p.shape,v=p.className,j=Nr(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=Tx(Tx({clipPath:j},ce(this.props,!0)),{},{cx:h,cy:m});return C.createElement(Ce,{className:ye("recharts-reference-dot",v)},t.renderDot(g,w),mt.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(C.Component);pu(gu,"displayName","ReferenceDot");pu(gu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});pu(gu,"renderDot",function(e,t){var r;return C.isValidElement(e)?r=C.cloneElement(e,t):he(e)?r=e(t):r=C.createElement(co,Xf({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jf.apply(this,arguments)}function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function kx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ix(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kx(Object(r),!0).forEach(function(n){vu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R1(n.key),n)}}function W9(e,t,r){return t&&U9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V9(e,t,r){return t=lc(t),H9(e,M1()?Reflect.construct(t,r||[],lc(e).constructor):t.apply(e,r))}function H9(e,t){if(t&&(Wi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G9(e)}function G9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M1=function(){return!!e})()}function lc(e){return lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lc(e)}function K9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qf(e,t)}function Qf(e,t){return Qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qf(e,t)}function vu(e,t,r){return t=R1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R1(e){var t=X9(e,"string");return Wi(t)=="symbol"?t:t+""}function X9(e,t){if(Wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Y9=function(t,r,n,i,a){var s=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=Lm({x:d.scale,y:f.scale}),m={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},p={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Nr(a,"discard")&&(!h.isInRange(m)||!h.isInRange(p))?null:j1(m,p)},yu=function(e){function t(){return q9(this,t),V9(this,t,arguments)}return K9(t,e),W9(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;mr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ct(i),h=ct(a),m=ct(s),p=ct(l),g=this.props.shape;if(!f&&!h&&!m&&!p&&!g)return null;var v=Y9(f,h,m,p,this.props);if(!v&&!g)return null;var j=Nr(this.props,"hidden")?"url(#".concat(d,")"):void 0;return C.createElement(Ce,{className:ye("recharts-reference-area",c)},t.renderRect(g,Ix(Ix({clipPath:j},ce(this.props,!0)),v)),mt.renderCallByParent(this.props,v))}}])}(C.Component);vu(yu,"displayName","ReferenceArea");vu(yu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});vu(yu,"renderRect",function(e,t){var r;return C.isValidElement(e)?r=C.cloneElement(e,t):he(e)?r=e(t):r=C.createElement(Dm,Jf({},t,{className:"recharts-reference-area-rect"})),r});function D1(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function J9(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return VG(n,r)}function Q9(e,t,r){var n=r==="width",i=e.x,a=e.y,s=e.width,l=e.height;return t===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function cc(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Z9(e,t){return D1(e,t+1)}function eK(e,t,r,n,i){for(var a=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:D1(n,u)};var g=c,v,j=function(){return v===void 0&&(v=r(p,g)),v},w=p.coordinate,S=c===0||cc(e,w,j,d,l);S||(c=0,d=s,u+=1),S&&(d=w+e*(j()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function Mx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mx(Object(r),!0).forEach(function(n){tK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tK(e,t,r){return t=rK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rK(e){var t=nK(e,"string");return Gs(t)=="symbol"?t:t+""}function nK(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iK(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,l=t.start,c=t.end,u=function(h){var m=a[h],p,g=function(){return p===void 0&&(p=r(m,h)),p};if(h===s-1){var v=e*(m.coordinate+e*g()/2-c);a[h]=m=jt(jt({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else a[h]=m=jt(jt({},m),{},{tickCoord:m.coordinate});var j=cc(e,m.tickCoord,g,l,c);j&&(c=m.tickCoord-e*(g()/2+i),a[h]=jt(jt({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function aK(e,t,r,n,i,a){var s=(n||[]).slice(),l=s.length,c=t.start,u=t.end;if(a){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);s[l-1]=d=jt(jt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=cc(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+i),s[l-1]=jt(jt({},d),{},{isShow:!0}))}for(var p=a?l-1:l,g=function(w){var S=s[w],x,y=function(){return x===void 0&&(x=r(S,w)),x};if(w===0){var b=e*(S.coordinate-e*y()/2-c);s[w]=S=jt(jt({},S),{},{tickCoord:b<0?S.coordinate-b*e:S.coordinate})}else s[w]=S=jt(jt({},S),{},{tickCoord:S.coordinate});var _=cc(e,S.tickCoord,y,c,u);_&&(c=S.tickCoord+e*(y()/2+i),s[w]=jt(jt({},S),{},{isShow:!0}))},v=0;v<p;v++)g(v);return s}function Vm(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(Y(c)||gn.isSsr)return Z9(i,typeof c=="number"&&Y(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",p=d&&m==="width"?ns(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(S,x){var y=he(u)?u(S.value,x):S.value;return m==="width"?J9(ns(y,{fontSize:t,letterSpacing:r}),p,f):ns(y,{fontSize:t,letterSpacing:r})[m]},v=i.length>=2?Pt(i[1].coordinate-i[0].coordinate):1,j=Q9(a,v,m);return c==="equidistantPreserveStart"?eK(v,j,g,i,s):(c==="preserveStart"||c==="preserveStartEnd"?h=aK(v,j,g,i,s,c==="preserveStartEnd"):h=iK(v,j,g,i,s),h.filter(function(w){return w.isShow}))}var sK=["viewBox"],oK=["viewBox"],lK=["ticks"];function Vi(e){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(e)}function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yi.apply(this,arguments)}function Rx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rx(Object(r),!0).forEach(function(n){Hm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ud(e,t){if(e==null)return{};var r=cK(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F1(n.key),n)}}function dK(e,t,r){return t&&Dx(e.prototype,t),r&&Dx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fK(e,t,r){return t=uc(t),hK(e,L1()?Reflect.construct(t,r||[],uc(e).constructor):t.apply(e,r))}function hK(e,t){if(t&&(Vi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mK(e)}function mK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L1=function(){return!!e})()}function uc(e){return uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uc(e)}function pK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zf(e,t)}function Zf(e,t){return Zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zf(e,t)}function Hm(e,t,r){return t=F1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F1(e){var t=gK(e,"string");return Vi(t)=="symbol"?t:t+""}function gK(e,t){if(Vi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ba=function(e){function t(r){var n;return uK(this,t),n=fK(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return pK(t,e),dK(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=ud(n,sK),l=this.props,c=l.viewBox,u=ud(l,oK);return!wi(a,c)||!wi(s,u)||!wi(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,p,g,v,j,w,S=f?-1:1,x=n.tickSize||d,y=Y(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=p=n.coordinate,v=s+ +!f*c,g=v-S*x,w=g-S*h,j=y;break;case"left":g=v=n.coordinate,p=a+ +!f*l,m=p-S*x,j=m-S*h,w=y;break;case"right":g=v=n.coordinate,p=a+ +f*l,m=p+S*x,j=m+S*h,w=y;break;default:m=p=n.coordinate,v=s+ +f*c,g=v+S*x,w=g+S*h,j=y;break}return{line:{x1:m,y1:g,x2:p,y2:v},tick:{x:j,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=st(st(st({},ce(this.props,!1)),ce(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=st(st({},f),{},{x1:i,y1:a+h*l,x2:i+s,y2:a+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=st(st({},f),{},{x1:i+m*s,y1:a,x2:i+m*s,y2:a+l})}return C.createElement("line",yi({},f,{className:ye("recharts-cartesian-axis-line",Vt(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=Vm(st(st({},this.props),{},{ticks:n}),i,a),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=ce(this.props,!1),j=ce(d,!1),w=st(st({},v),{},{fill:"none"},ce(c,!1)),S=m.map(function(x,y){var b=s.getTickLineCoord(x),_=b.line,A=b.tick,O=st(st(st(st({textAnchor:p,verticalAnchor:g},v),{},{stroke:"none",fill:u},j),A),{},{index:y,payload:x,visibleTicksCount:m.length,tickFormatter:f});return C.createElement(Ce,yi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},Un(s.props,x,y)),c&&C.createElement("line",yi({},w,_,{className:ye("recharts-cartesian-axis-tick-line",Vt(c,"className"))})),d&&t.renderTickItem(d,O,"".concat(he(f)?f(x.value,y):x.value).concat(h||"")))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=ud(f,lK),p=h;return he(c)&&(p=h&&h.length>0?c(this.props):c(m)),s<=0||l<=0||!p||!p.length?null:C.createElement(Ce,{className:ye("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),mt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,l=ye(i.className,"recharts-cartesian-axis-tick-value");return C.isValidElement(n)?s=C.cloneElement(n,st(st({},i),{},{className:l})):he(n)?s=n(st(st({},i),{},{className:l})):s=C.createElement(Wn,yi({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}($.Component);Hm(ba,"displayName","CartesianAxis");Hm(ba,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vK=["x1","y1","x2","y2","key"],yK=["offset"];function Kn(e){"@babel/helpers - typeof";return Kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kn(e)}function Lx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lx(Object(r),!0).forEach(function(n){xK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xK(e,t,r){return t=bK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bK(e){var t=wK(e,"string");return Kn(t)=="symbol"?t:t+""}function wK(e,t){if(Kn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mn.apply(this,arguments)}function Fx(e,t){if(e==null)return{};var r=jK(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _K=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,s=t.width,l=t.height,c=t.ry;return C.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function z1(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(he(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,s=t.y2,l=t.key,c=Fx(t,vK),u=ce(c,!1);u.offset;var d=Fx(u,yK);r=C.createElement("line",Mn({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:l}))}return r}function SK(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=_t(_t({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return z1(i,u)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function AK(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=_t(_t({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return z1(i,u)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function NK(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?i+s-h:d[m+1]-h;if(g<=0)return null;var v=m%t.length;return C.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function OK(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?a+l-h:d[m+1]-h;if(g<=0)return null;var v=m%n.length;return C.createElement("rect",{key:"react-".concat(m),x:h,y:s,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var PK=function(t,r){var n=t.xAxis,i=t.width,a=t.height,s=t.offset;return k_(Vm(_t(_t(_t({},ba.defaultProps),n),{},{ticks:Vr(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},CK=function(t,r){var n=t.yAxis,i=t.width,a=t.height,s=t.offset;return k_(Vm(_t(_t(_t({},ba.defaultProps),n),{},{ticks:Vr(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},oi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Gm(e){var t,r,n,i,a,s,l=Bm(),c=qm(),u=g9(),d=_t(_t({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:oi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:oi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:oi.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:oi.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:oi.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:oi.verticalFill,x:Y(e.x)?e.x:u.left,y:Y(e.y)?e.y:u.top,width:Y(e.width)?e.width:u.width,height:Y(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,p=d.height,g=d.syncWithTicks,v=d.horizontalValues,j=d.verticalValues,w=h9(),S=m9();if(!Y(m)||m<=0||!Y(p)||p<=0||!Y(f)||f!==+f||!Y(h)||h!==+h)return null;var x=d.verticalCoordinatesGenerator||PK,y=d.horizontalCoordinatesGenerator||CK,b=d.horizontalPoints,_=d.verticalPoints;if((!b||!b.length)&&he(y)){var A=v&&v.length,O=y({yAxis:S?_t(_t({},S),{},{ticks:A?v:S.ticks}):void 0,width:l,height:c,offset:u},A?!0:g);mr(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Kn(O),"]")),Array.isArray(O)&&(b=O)}if((!_||!_.length)&&he(x)){var T=j&&j.length,N=x({xAxis:w?_t(_t({},w),{},{ticks:T?j:w.ticks}):void 0,width:l,height:c,offset:u},T?!0:g);mr(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Kn(N),"]")),Array.isArray(N)&&(_=N)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(_K,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),C.createElement(SK,Mn({},d,{offset:u,horizontalPoints:b,xAxis:w,yAxis:S})),C.createElement(AK,Mn({},d,{offset:u,verticalPoints:_,xAxis:w,yAxis:S})),C.createElement(NK,Mn({},d,{horizontalPoints:b})),C.createElement(OK,Mn({},d,{verticalPoints:_})))}Gm.displayName="CartesianGrid";var EK=["type","layout","connectNulls","ref"],$K=["key"];function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function zx(e,t){if(e==null)return{};var r=TK(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cs.apply(this,arguments)}function Bx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bx(Object(r),!0).forEach(function(n){or(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function li(e){return RK(e)||MK(e)||IK(e)||kK()}function kK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IK(e,t){if(e){if(typeof e=="string")return eh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eh(e,t)}}function MK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RK(e){if(Array.isArray(e))return eh(e)}function eh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q1(n.key),n)}}function LK(e,t,r){return t&&qx(e.prototype,t),r&&qx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FK(e,t,r){return t=dc(t),zK(e,B1()?Reflect.construct(t,r||[],dc(e).constructor):t.apply(e,r))}function zK(e,t){if(t&&(Hi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BK(e)}function BK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B1=function(){return!!e})()}function dc(e){return dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dc(e)}function qK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&th(e,t)}function th(e,t){return th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},th(e,t)}function or(e,t,r){return t=q1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q1(e){var t=UK(e,"string");return Hi(t)=="symbol"?t:t+""}function UK(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uo=function(e){function t(){var r;DK(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=FK(this,t,[].concat(i)),or(r,"state",{isAnimationFinished:!0,totalLength:0}),or(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),or(r,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(j,w){return j+w});if(!u)return r.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),f=s%u,h=l-s,m=[],p=0,g=0;p<c.length;g+=c[p],++p)if(g+c[p]>f){m=[].concat(li(c.slice(0,p)),[f-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(li(t.repeat(c,d)),li(m),v).map(function(j){return"".concat(j,"px")}).join(", ")}),or(r,"id",ua("recharts-line-")),or(r,"pathRef",function(s){r.mainCurve=s}),or(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),or(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return qK(t,e),LK(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ht(d,lo);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Je(g.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return C.createElement(Ce,m,f.map(function(p){return C.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ce(this.props,!1),h=ce(c,!0),m=u.map(function(g,v){var j=Ft(Ft(Ft({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,j)}),p={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return C.createElement(Ce,cs({className:"recharts-line-dots",key:"dots"},p),m)}},{key:"renderCurveStatically",value:function(n,i,a,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=zx(l,EK),h=Ft(Ft(Ft({},ce(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:d});return C.createElement(Ul,cs({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,p=s.animateNewValues,g=s.width,v=s.height,j=this.state,w=j.prevPoints,S=j.totalLength;return C.createElement(pr,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var y=x.t;if(w){var b=w.length/l.length,_=l.map(function(P,E){var M=Math.floor(E*b);if(w[M]){var R=w[M],F=xt(R.x,P.x),D=xt(R.y,P.y);return Ft(Ft({},P),{},{x:F(y),y:D(y)})}if(p){var z=xt(g*2,P.x),H=xt(v/2,P.y);return Ft(Ft({},P),{},{x:z(y),y:H(y)})}return Ft(Ft({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(_,n,i)}var A=xt(0,S),O=A(y),T;if(c){var N="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});T=a.getStrokeDasharray(O,S,N)}else T=a.generateSimpleStrokeDasharray(S,O);return a.renderCurveStatically(l,n,i,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!pa(u,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,p=i.height,g=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var j=this.state.isAnimationFinished,w=l.length===1,S=ye("recharts-line",c),x=u&&u.allowDataOverflow,y=d&&d.allowDataOverflow,b=x||y,_=be(v)?this.id:v,A=(n=ce(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=A.r,T=O===void 0?3:O,N=A.strokeWidth,P=N===void 0?2:N,E=HE(s)?s:{},M=E.clipDot,R=M===void 0?!0:M,F=T*2+P;return C.createElement(Ce,{className:S},x||y?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(_)},C.createElement("rect",{x:x?h:h-m/2,y:y?f:f-p/2,width:x?m:m*2,height:y?p:p*2})),!R&&C.createElement("clipPath",{id:"clipPath-dots-".concat(_)},C.createElement("rect",{x:h-F/2,y:f-F/2,width:m+F,height:p+F}))):null,!w&&this.renderCurve(b,_),this.renderErrorBar(b,_),(w||s)&&this.renderDots(b,R,_),(!g||j)&&Ar.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(li(n),[0]):n,s=[],l=0;l<i;++l)s=[].concat(li(s),li(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(C.isValidElement(n))a=C.cloneElement(n,i);else if(he(n))a=n(i);else{var s=i.key,l=zx(i,$K),c=ye("recharts-line-dot",typeof n!="boolean"?n.className:"");a=C.createElement(co,cs({key:s},l,{className:c}))}return a}}])}($.PureComponent);or(uo,"displayName","Line");or(uo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});or(uo,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,s=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var p=Je(h,s);return d==="horizontal"?{x:cy({axis:r,ticks:i,bandSize:l,entry:h,index:m}),y:be(p)?null:n.scale(p),value:p,payload:h}:{x:be(p)?null:r.scale(p),y:cy({axis:n,ticks:a,bandSize:l,entry:h,index:m}),value:p,payload:h}});return Ft({points:f,layout:d},u)});function Gi(e){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(e)}function WK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V1(n.key),n)}}function HK(e,t,r){return t&&VK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GK(e,t,r){return t=fc(t),KK(e,U1()?Reflect.construct(t,r||[],fc(e).constructor):t.apply(e,r))}function KK(e,t){if(t&&(Gi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XK(e)}function XK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U1=function(){return!!e})()}function fc(e){return fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fc(e)}function YK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rh(e,t)}function rh(e,t){return rh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rh(e,t)}function W1(e,t,r){return t=V1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V1(e){var t=JK(e,"string");return Gi(t)=="symbol"?t:t+""}function JK(e,t){if(Gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nh.apply(this,arguments)}function QK(e){var t=e.xAxisId,r=Bm(),n=qm(),i=C1(t);return i==null?null:$.createElement(ba,nh({},i,{className:ye("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Vr(s,!0)}}))}var wa=function(e){function t(){return WK(this,t),GK(this,t,arguments)}return YK(t,e),HK(t,[{key:"render",value:function(){return $.createElement(QK,this.props)}}])}($.Component);W1(wa,"displayName","XAxis");W1(wa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function ZK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K1(n.key),n)}}function t7(e,t,r){return t&&e7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r7(e,t,r){return t=hc(t),n7(e,H1()?Reflect.construct(t,r||[],hc(e).constructor):t.apply(e,r))}function n7(e,t){if(t&&(Ki(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i7(e)}function i7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H1=function(){return!!e})()}function hc(e){return hc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hc(e)}function a7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ih(e,t)}function ih(e,t){return ih=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ih(e,t)}function G1(e,t,r){return t=K1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K1(e){var t=s7(e,"string");return Ki(t)=="symbol"?t:t+""}function s7(e,t){if(Ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ah.apply(this,arguments)}var o7=function(t){var r=t.yAxisId,n=Bm(),i=qm(),a=E1(r);return a==null?null:$.createElement(ba,ah({},a,{className:ye("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Vr(l,!0)}}))},ja=function(e){function t(){return ZK(this,t),r7(this,t,arguments)}return a7(t,e),t7(t,[{key:"render",value:function(){return $.createElement(o7,this.props)}}])}($.Component);G1(ja,"displayName","YAxis");G1(ja,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Ux(e){return d7(e)||u7(e)||c7(e)||l7()}function l7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c7(e,t){if(e){if(typeof e=="string")return sh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sh(e,t)}}function u7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d7(e){if(Array.isArray(e))return sh(e)}function sh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oh=function(t,r,n,i,a){var s=Ht(t,Wm),l=Ht(t,gu),c=[].concat(Ux(s),Ux(l)),u=Ht(t,yu),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(g,v){if(v.props[d]===n&&Nr(v.props,"extendDomain")&&Y(v.props[f])){var j=v.props[f];return[Math.min(g[0],j),Math.max(g[1],j)]}return g},h)),u.length){var m="".concat(f,"1"),p="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&Nr(v.props,"extendDomain")&&Y(v.props[m])&&Y(v.props[p])){var j=v.props[m],w=v.props[p];return[Math.min(g[0],j,w),Math.max(g[1],j,w)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return Y(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},X1={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],j=arguments.length,w,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),j){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(S=1,w=new Array(j-1);S<j;S++)w[S-1]=arguments[S];v.fn.apply(v.context,w)}else{var x=v.length,y;for(S=0;S<x;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),j){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,f);break;case 4:v[S].fn.call(v[S].context,d,f,h);break;default:if(!w)for(y=1,w=new Array(j-1);y<j;y++)w[y-1]=arguments[y];v[S].fn.apply(v[S].context,w)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var g=0,v=[],j=p.length;g<j;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(X1);var f7=X1.exports;const h7=$e(f7);var dd=new h7,fd="recharts.syncMouseEvents";function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function m7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y1(n.key),n)}}function g7(e,t,r){return t&&p7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hd(e,t,r){return t=Y1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y1(e){var t=v7(e,"string");return Ks(t)=="symbol"?t:t+""}function v7(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var y7=function(){function e(){m7(this,e),hd(this,"activeIndex",0),hd(this,"coordinateList",[]),hd(this,"layout","horizontal")}return g7(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function x7(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&Y(n)&&Y(i))return!0}return!1}function b7(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function J1(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,s=Te(t,r,n,i),l=Te(t,r,n,a);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function w7(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Te(l,c,u,f),m=Te(l,c,d,f);n=h.x,i=h.y,a=m.x,s=m.y}else return J1(t);return[{x:n,y:i},{x:a,y:s}]}function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function Wx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wx(Object(r),!0).forEach(function(n){j7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j7(e,t,r){return t=_7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _7(e){var t=S7(e,"string");return Xs(t)=="symbol"?t:t+""}function S7(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A7(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var p,g=Ul;if(h==="ScatterChart")p=s,g=yW;else if(h==="BarChart")p=b7(f,s,c,d),g=Dm;else if(f==="radial"){var v=J1(s),j=v.cx,w=v.cy,S=v.radius,x=v.startAngle,y=v.endAngle;p={cx:j,cy:w,startAngle:x,endAngle:y,innerRadius:S,outerRadius:S},g=H_}else p={points:w7(f,s,c)},g=Ul;var b=Fo(Fo(Fo(Fo({stroke:"#ccc",pointerEvents:"none"},c),p),ce(m,!1)),{},{payload:l,payloadIndex:u,className:ye("recharts-tooltip-cursor",m.className)});return $.isValidElement(m)?$.cloneElement(m,b):$.createElement(g,b)}var N7=["item"],O7=["children","className","width","height","style","compact","title","desc"];function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(this,arguments)}function Vx(e,t){return E7(e)||C7(e,t)||Z1(e,t)||P7()}function P7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function E7(e){if(Array.isArray(e))return e}function Hx(e,t){if(e==null)return{};var r=$7(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function T7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eS(n.key),n)}}function I7(e,t,r){return t&&k7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function M7(e,t,r){return t=mc(t),R7(e,Q1()?Reflect.construct(t,r||[],mc(e).constructor):t.apply(e,r))}function R7(e,t){if(t&&(Xi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D7(e)}function D7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q1=function(){return!!e})()}function mc(e){return mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mc(e)}function L7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lh(e,t)}function lh(e,t){return lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lh(e,t)}function Yi(e){return B7(e)||z7(e)||Z1(e)||F7()}function F7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z1(e,t){if(e){if(typeof e=="string")return ch(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ch(e,t)}}function z7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B7(e){if(Array.isArray(e))return ch(e)}function ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gx(Object(r),!0).forEach(function(n){pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pe(e,t,r){return t=eS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eS(e){var t=q7(e,"string");return Xi(t)=="symbol"?t:t+""}function q7(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U7={xAxis:["bottom","top"],yAxis:["left","right"]},W7={width:"100%",height:"100%"},tS={x:0,y:0};function zo(e){return e}var V7=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},H7=function(t,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,l=i.radius;return U(U(U({},i),Te(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,u=i.angle;return U(U(U({},i),Te(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return tS},xu=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Yi(l),Yi(u)):l},[]);return s.length>0?s:t&&t.length&&Y(i)&&Y(a)?t.slice(i,a+1):[]};function rS(e){return e==="number"?[0,"auto"]:void 0}var uh=function(t,r,n,i){var a=t.graphicalItems,s=t.tooltipAxis,l=xu(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?l:f;h=dl(m,s.dataKey,i)}else h=f&&f[n]||l[n];return h?[].concat(Yi(c),[L_(u,h)]):c},[])},Kx=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},s=V7(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Y6(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=uh(t,r,d,f),m=H7(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},G7=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=T_(d,a);return n.reduce(function(p,g){var v,j=g.type.defaultProps!==void 0?U(U({},g.type.defaultProps),g.props):g.props,w=j.type,S=j.dataKey,x=j.allowDataOverflow,y=j.allowDuplicatedCategory,b=j.scale,_=j.ticks,A=j.includeHidden,O=j[s];if(p[O])return p;var T=xu(t.data,{graphicalItems:i.filter(function(K){var re,X=s in K.props?K.props[s]:(re=K.type.defaultProps)===null||re===void 0?void 0:re[s];return X===O}),dataStartIndex:c,dataEndIndex:u}),N=T.length,P,E,M;x7(j.domain,x,w)&&(P=_f(j.domain,null,x),m&&(w==="number"||b!=="auto")&&(M=as(T,S,"category")));var R=rS(w);if(!P||P.length===0){var F,D=(F=j.domain)!==null&&F!==void 0?F:R;if(S){if(P=as(T,S,w),w==="category"&&m){var z=RE(P);y&&z?(E=P,P=tc(0,N)):y||(P=hy(D,P,g).reduce(function(K,re){return K.indexOf(re)>=0?K:[].concat(Yi(K),[re])},[]))}else if(w==="category")y?P=P.filter(function(K){return K!==""&&!be(K)}):P=hy(D,P,g).reduce(function(K,re){return K.indexOf(re)>=0||re===""||be(re)?K:[].concat(Yi(K),[re])},[]);else if(w==="number"){var H=tq(T,i.filter(function(K){var re,X,le=s in K.props?K.props[s]:(re=K.type.defaultProps)===null||re===void 0?void 0:re[s],_e="hide"in K.props?K.props.hide:(X=K.type.defaultProps)===null||X===void 0?void 0:X.hide;return le===O&&(A||!_e)}),S,a,d);H&&(P=H)}m&&(w==="number"||b!=="auto")&&(M=as(T,S,"category"))}else m?P=tc(0,N):l&&l[O]&&l[O].hasStack&&w==="number"?P=h==="expand"?[0,1]:D_(l[O].stackGroups,c,u):P=$_(T,i.filter(function(K){var re=s in K.props?K.props[s]:K.type.defaultProps[s],X="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return re===O&&(A||!X)}),w,d,!0);if(w==="number")P=oh(f,P,O,a,_),D&&(P=_f(D,P,x));else if(w==="category"&&D){var W=D,Z=P.every(function(K){return W.indexOf(K)>=0});Z&&(P=W)}}return U(U({},p),{},pe({},O,U(U({},j),{},{axisType:a,domain:P,categoricalDomain:M,duplicateDomain:E,originalDomain:(v=j.domain)!==null&&v!==void 0?v:R,isCategorical:m,layout:d})))},{})},K7=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=xu(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,p=T_(d,a),g=-1;return n.reduce(function(v,j){var w=j.type.defaultProps!==void 0?U(U({},j.type.defaultProps),j.props):j.props,S=w[s],x=rS("number");if(!v[S]){g++;var y;return p?y=tc(0,m):l&&l[S]&&l[S].hasStack?(y=D_(l[S].stackGroups,c,u),y=oh(f,y,S,a)):(y=_f(x,$_(h,n.filter(function(b){var _,A,O=s in b.props?b.props[s]:(_=b.type.defaultProps)===null||_===void 0?void 0:_[s],T="hide"in b.props?b.props.hide:(A=b.type.defaultProps)===null||A===void 0?void 0:A.hide;return O===S&&!T}),"number",d),i.defaultProps.allowDataOverflow),y=oh(f,y,S,a)),U(U({},v),{},pe({},S,U(U({axisType:a},i.defaultProps),{},{hide:!0,orientation:Vt(U7,"".concat(a,".").concat(g%2),null),domain:y,originalDomain:x,isCategorical:p,layout:d})))}return v},{})},X7=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=Ht(d,a),m={};return h&&h.length?m=G7(t,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(m=K7(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},Y7=function(t){var r=un(t),n=Vr(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:um(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:zl(r,n)}},Xx=function(t){var r=t.children,n=t.defaultShowTooltip,i=qt(r,zi),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},J7=function(t){return!t||!t.length?!1:t.some(function(r){var n=Hr(r&&r.type);return n&&n.indexOf("Bar")>=0})},Yx=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Q7=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=qt(f,zi),p=qt(f,ji),g=Object.keys(c).reduce(function(y,b){var _=c[b],A=_.orientation;return!_.mirror&&!_.hide?U(U({},y),{},pe({},A,y[A]+_.width)):y},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(y,b){var _=s[b],A=_.orientation;return!_.mirror&&!_.hide?U(U({},y),{},pe({},A,Vt(y,"".concat(A))+_.height)):y},{top:h.top||0,bottom:h.bottom||0}),j=U(U({},v),g),w=j.bottom;m&&(j.bottom+=m.props.height||zi.defaultProps.height),p&&r&&(j=Z6(j,i,n,r));var S=u-j.left-j.right,x=d-j.top-j.bottom;return U(U({brushBottom:w},j),{},{width:Math.max(S,0),height:Math.max(x,0)})},Z7=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},bu=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(j,w){var S=w.graphicalItems,x=w.stackGroups,y=w.offset,b=w.updateId,_=w.dataStartIndex,A=w.dataEndIndex,O=j.barSize,T=j.layout,N=j.barGap,P=j.barCategoryGap,E=j.maxBarSize,M=Yx(T),R=M.numericAxisName,F=M.cateAxisName,D=J7(S),z=[];return S.forEach(function(H,W){var Z=xu(j.data,{graphicalItems:[H],dataStartIndex:_,dataEndIndex:A}),K=H.type.defaultProps!==void 0?U(U({},H.type.defaultProps),H.props):H.props,re=K.dataKey,X=K.maxBarSize,le=K["".concat(R,"Id")],_e=K["".concat(F,"Id")],Ne={},Le=c.reduce(function(L,q){var ne=w["".concat(q.axisType,"Map")],ee=K["".concat(q.axisType,"Id")];ne&&ne[ee]||q.axisType==="zAxis"||Gn();var J=ne[ee];return U(U({},L),{},pe(pe({},q.axisType,J),"".concat(q.axisType,"Ticks"),Vr(J)))},Ne),Q=Le[F],me=Le["".concat(F,"Ticks")],we=x&&x[le]&&x[le].hasStack&&uq(H,x[le].stackGroups),V=Hr(H.type).indexOf("Bar")>=0,We=zl(Q,me),Pe=[],Ke=D&&J6({barSize:O,stackGroups:x,totalSize:Z7(Le,F)});if(V){var Ye,wt,$r=be(X)?E:X,Tr=(Ye=(wt=zl(Q,me,!0))!==null&&wt!==void 0?wt:$r)!==null&&Ye!==void 0?Ye:0;Pe=Q6({barGap:N,barCategoryGap:P,bandSize:Tr!==We?Tr:We,sizeList:Ke[_e],maxBarSize:$r}),Tr!==We&&(Pe=Pe.map(function(L){return U(U({},L),{},{position:U(U({},L.position),{},{offset:L.position.offset-Tr/2})})}))}var I=H&&H.type&&H.type.getComposedData;I&&z.push({props:U(U({},I(U(U({},Le),{},{displayedData:Z,props:j,dataKey:re,item:H,bandSize:We,barPosition:Pe,offset:y,stackedData:we,layout:T,dataStartIndex:_,dataEndIndex:A}))),{},pe(pe(pe({key:H.key||"item-".concat(W)},R,Le[R]),F,Le[F]),"animationId",b)),childIndex:XE(H,j.children),item:H})}),z},m=function(j,w){var S=j.props,x=j.dataStartIndex,y=j.dataEndIndex,b=j.updateId;if(!sg({props:S}))return null;var _=S.children,A=S.layout,O=S.stackOffset,T=S.data,N=S.reverseStackOrder,P=Yx(A),E=P.numericAxisName,M=P.cateAxisName,R=Ht(_,n),F=lq(T,R,"".concat(E,"Id"),"".concat(M,"Id"),O,N),D=c.reduce(function(K,re){var X="".concat(re.axisType,"Map");return U(U({},K),{},pe({},X,X7(S,U(U({},re),{},{graphicalItems:R,stackGroups:re.axisType===E&&F,dataStartIndex:x,dataEndIndex:y}))))},{}),z=Q7(U(U({},D),{},{props:S,graphicalItems:R}),w==null?void 0:w.legendBBox);Object.keys(D).forEach(function(K){D[K]=d(S,D[K],z,K.replace("Map",""),r)});var H=D["".concat(M,"Map")],W=Y7(H),Z=h(S,U(U({},D),{},{dataStartIndex:x,dataEndIndex:y,updateId:b,graphicalItems:R,stackGroups:F,offset:z}));return U(U({formattedGraphicalItems:Z,graphicalItems:R,offset:z,stackGroups:F},W),D)},p=function(v){function j(w){var S,x,y;return T7(this,j),y=M7(this,j,[w]),pe(y,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),pe(y,"accessibilityManager",new y7),pe(y,"handleLegendBBoxUpdate",function(b){if(b){var _=y.state,A=_.dataStartIndex,O=_.dataEndIndex,T=_.updateId;y.setState(U({legendBBox:b},m({props:y.props,dataStartIndex:A,dataEndIndex:O,updateId:T},U(U({},y.state),{},{legendBBox:b}))))}}),pe(y,"handleReceiveSyncEvent",function(b,_,A){if(y.props.syncId===b){if(A===y.eventEmitterSymbol&&typeof y.props.syncMethod!="function")return;y.applySyncEvent(_)}}),pe(y,"handleBrushChange",function(b){var _=b.startIndex,A=b.endIndex;if(_!==y.state.dataStartIndex||A!==y.state.dataEndIndex){var O=y.state.updateId;y.setState(function(){return U({dataStartIndex:_,dataEndIndex:A},m({props:y.props,dataStartIndex:_,dataEndIndex:A,updateId:O},y.state))}),y.triggerSyncEvent({dataStartIndex:_,dataEndIndex:A})}}),pe(y,"handleMouseEnter",function(b){var _=y.getMouseInfo(b);if(_){var A=U(U({},_),{},{isTooltipActive:!0});y.setState(A),y.triggerSyncEvent(A);var O=y.props.onMouseEnter;he(O)&&O(A,b)}}),pe(y,"triggeredAfterMouseMove",function(b){var _=y.getMouseInfo(b),A=_?U(U({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};y.setState(A),y.triggerSyncEvent(A);var O=y.props.onMouseMove;he(O)&&O(A,b)}),pe(y,"handleItemMouseEnter",function(b){y.setState(function(){return{isTooltipActive:!0,activeItem:b,activePayload:b.tooltipPayload,activeCoordinate:b.tooltipPosition||{x:b.cx,y:b.cy}}})}),pe(y,"handleItemMouseLeave",function(){y.setState(function(){return{isTooltipActive:!1}})}),pe(y,"handleMouseMove",function(b){b.persist(),y.throttleTriggeredAfterMouseMove(b)}),pe(y,"handleMouseLeave",function(b){y.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};y.setState(_),y.triggerSyncEvent(_);var A=y.props.onMouseLeave;he(A)&&A(_,b)}),pe(y,"handleOuterEvent",function(b){var _=KE(b),A=Vt(y.props,"".concat(_));if(_&&he(A)){var O,T;/.*touch.*/i.test(_)?T=y.getMouseInfo(b.changedTouches[0]):T=y.getMouseInfo(b),A((O=T)!==null&&O!==void 0?O:{},b)}}),pe(y,"handleClick",function(b){var _=y.getMouseInfo(b);if(_){var A=U(U({},_),{},{isTooltipActive:!0});y.setState(A),y.triggerSyncEvent(A);var O=y.props.onClick;he(O)&&O(A,b)}}),pe(y,"handleMouseDown",function(b){var _=y.props.onMouseDown;if(he(_)){var A=y.getMouseInfo(b);_(A,b)}}),pe(y,"handleMouseUp",function(b){var _=y.props.onMouseUp;if(he(_)){var A=y.getMouseInfo(b);_(A,b)}}),pe(y,"handleTouchMove",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&y.throttleTriggeredAfterMouseMove(b.changedTouches[0])}),pe(y,"handleTouchStart",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&y.handleMouseDown(b.changedTouches[0])}),pe(y,"handleTouchEnd",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&y.handleMouseUp(b.changedTouches[0])}),pe(y,"handleDoubleClick",function(b){var _=y.props.onDoubleClick;if(he(_)){var A=y.getMouseInfo(b);_(A,b)}}),pe(y,"handleContextMenu",function(b){var _=y.props.onContextMenu;if(he(_)){var A=y.getMouseInfo(b);_(A,b)}}),pe(y,"triggerSyncEvent",function(b){y.props.syncId!==void 0&&dd.emit(fd,y.props.syncId,b,y.eventEmitterSymbol)}),pe(y,"applySyncEvent",function(b){var _=y.props,A=_.layout,O=_.syncMethod,T=y.state.updateId,N=b.dataStartIndex,P=b.dataEndIndex;if(b.dataStartIndex!==void 0||b.dataEndIndex!==void 0)y.setState(U({dataStartIndex:N,dataEndIndex:P},m({props:y.props,dataStartIndex:N,dataEndIndex:P,updateId:T},y.state)));else if(b.activeTooltipIndex!==void 0){var E=b.chartX,M=b.chartY,R=b.activeTooltipIndex,F=y.state,D=F.offset,z=F.tooltipTicks;if(!D)return;if(typeof O=="function")R=O(z,b);else if(O==="value"){R=-1;for(var H=0;H<z.length;H++)if(z[H].value===b.activeLabel){R=H;break}}var W=U(U({},D),{},{x:D.left,y:D.top}),Z=Math.min(E,W.x+W.width),K=Math.min(M,W.y+W.height),re=z[R]&&z[R].value,X=uh(y.state,y.props.data,R),le=z[R]?{x:A==="horizontal"?z[R].coordinate:Z,y:A==="horizontal"?K:z[R].coordinate}:tS;y.setState(U(U({},b),{},{activeLabel:re,activeCoordinate:le,activePayload:X,activeTooltipIndex:R}))}else y.setState(b)}),pe(y,"renderCursor",function(b){var _,A=y.state,O=A.isTooltipActive,T=A.activeCoordinate,N=A.activePayload,P=A.offset,E=A.activeTooltipIndex,M=A.tooltipAxisBandSize,R=y.getTooltipEventType(),F=(_=b.props.active)!==null&&_!==void 0?_:O,D=y.props.layout,z=b.key||"_recharts-cursor";return C.createElement(A7,{key:z,activeCoordinate:T,activePayload:N,activeTooltipIndex:E,chartName:r,element:b,isActive:F,layout:D,offset:P,tooltipAxisBandSize:M,tooltipEventType:R})}),pe(y,"renderPolarAxis",function(b,_,A){var O=Vt(b,"type.axisType"),T=Vt(y.state,"".concat(O,"Map")),N=b.type.defaultProps,P=N!==void 0?U(U({},N),b.props):b.props,E=T&&T[P["".concat(O,"Id")]];return $.cloneElement(b,U(U({},E),{},{className:ye(O,E.className),key:b.key||"".concat(_,"-").concat(A),ticks:Vr(E,!0)}))}),pe(y,"renderPolarGrid",function(b){var _=b.props,A=_.radialLines,O=_.polarAngles,T=_.polarRadius,N=y.state,P=N.radiusAxisMap,E=N.angleAxisMap,M=un(P),R=un(E),F=R.cx,D=R.cy,z=R.innerRadius,H=R.outerRadius;return $.cloneElement(b,{polarAngles:Array.isArray(O)?O:Vr(R,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(T)?T:Vr(M,!0).map(function(W){return W.coordinate}),cx:F,cy:D,innerRadius:z,outerRadius:H,key:b.key||"polar-grid",radialLines:A})}),pe(y,"renderLegend",function(){var b=y.state.formattedGraphicalItems,_=y.props,A=_.children,O=_.width,T=_.height,N=y.props.margin||{},P=O-(N.left||0)-(N.right||0),E=C_({children:A,formattedGraphicalItems:b,legendWidth:P,legendContent:u});if(!E)return null;var M=E.item,R=Hx(E,N7);return $.cloneElement(M,U(U({},R),{},{chartWidth:O,chartHeight:T,margin:N,onBBoxUpdate:y.handleLegendBBoxUpdate}))}),pe(y,"renderTooltip",function(){var b,_=y.props,A=_.children,O=_.accessibilityLayer,T=qt(A,Ut);if(!T)return null;var N=y.state,P=N.isTooltipActive,E=N.activeCoordinate,M=N.activePayload,R=N.activeLabel,F=N.offset,D=(b=T.props.active)!==null&&b!==void 0?b:P;return $.cloneElement(T,{viewBox:U(U({},F),{},{x:F.left,y:F.top}),active:D,label:R,payload:D?M:[],coordinate:E,accessibilityLayer:O})}),pe(y,"renderBrush",function(b){var _=y.props,A=_.margin,O=_.data,T=y.state,N=T.offset,P=T.dataStartIndex,E=T.dataEndIndex,M=T.updateId;return $.cloneElement(b,{key:b.key||"_recharts-brush",onChange:Mo(y.handleBrushChange,b.props.onChange),data:O,x:Y(b.props.x)?b.props.x:N.left,y:Y(b.props.y)?b.props.y:N.top+N.height+N.brushBottom-(A.bottom||0),width:Y(b.props.width)?b.props.width:N.width,startIndex:P,endIndex:E,updateId:"brush-".concat(M)})}),pe(y,"renderReferenceElement",function(b,_,A){if(!b)return null;var O=y,T=O.clipPathId,N=y.state,P=N.xAxisMap,E=N.yAxisMap,M=N.offset,R=b.type.defaultProps||{},F=b.props,D=F.xAxisId,z=D===void 0?R.xAxisId:D,H=F.yAxisId,W=H===void 0?R.yAxisId:H;return $.cloneElement(b,{key:b.key||"".concat(_,"-").concat(A),xAxis:P[z],yAxis:E[W],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:T})}),pe(y,"renderActivePoints",function(b){var _=b.item,A=b.activePoint,O=b.basePoint,T=b.childIndex,N=b.isRange,P=[],E=_.props.key,M=_.item.type.defaultProps!==void 0?U(U({},_.item.type.defaultProps),_.item.props):_.item.props,R=M.activeDot,F=M.dataKey,D=U(U({index:T,dataKey:F,cx:A.x,cy:A.y,r:4,fill:Rm(_.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},ce(R,!1)),fl(R));return P.push(j.renderActiveDot(R,D,"".concat(E,"-activePoint-").concat(T))),O?P.push(j.renderActiveDot(R,U(U({},D),{},{cx:O.x,cy:O.y}),"".concat(E,"-basePoint-").concat(T))):N&&P.push(null),P}),pe(y,"renderGraphicChild",function(b,_,A){var O=y.filterFormatItem(b,_,A);if(!O)return null;var T=y.getTooltipEventType(),N=y.state,P=N.isTooltipActive,E=N.tooltipAxis,M=N.activeTooltipIndex,R=N.activeLabel,F=y.props.children,D=qt(F,Ut),z=O.props,H=z.points,W=z.isRange,Z=z.baseLine,K=O.item.type.defaultProps!==void 0?U(U({},O.item.type.defaultProps),O.item.props):O.item.props,re=K.activeDot,X=K.hide,le=K.activeBar,_e=K.activeShape,Ne=!!(!X&&P&&D&&(re||le||_e)),Le={};T!=="axis"&&D&&D.props.trigger==="click"?Le={onClick:Mo(y.handleItemMouseEnter,b.props.onClick)}:T!=="axis"&&(Le={onMouseLeave:Mo(y.handleItemMouseLeave,b.props.onMouseLeave),onMouseEnter:Mo(y.handleItemMouseEnter,b.props.onMouseEnter)});var Q=$.cloneElement(b,U(U({},O.props),Le));function me(q){return typeof E.dataKey=="function"?E.dataKey(q.payload):null}if(Ne)if(M>=0){var we,V;if(E.dataKey&&!E.allowDuplicatedCategory){var We=typeof E.dataKey=="function"?me:"payload.".concat(E.dataKey.toString());we=dl(H,We,R),V=W&&Z&&dl(Z,We,R)}else we=H==null?void 0:H[M],V=W&&Z&&Z[M];if(_e||le){var Pe=b.props.activeIndex!==void 0?b.props.activeIndex:M;return[$.cloneElement(b,U(U(U({},O.props),Le),{},{activeIndex:Pe})),null,null]}if(!be(we))return[Q].concat(Yi(y.renderActivePoints({item:O,activePoint:we,basePoint:V,childIndex:M,isRange:W})))}else{var Ke,Ye=(Ke=y.getItemByXY(y.state.activeCoordinate))!==null&&Ke!==void 0?Ke:{graphicalItem:Q},wt=Ye.graphicalItem,$r=wt.item,Tr=$r===void 0?b:$r,I=wt.childIndex,L=U(U(U({},O.props),Le),{},{activeIndex:I});return[$.cloneElement(Tr,L),null,null]}return W?[Q,null,null]:[Q,null]}),pe(y,"renderCustomized",function(b,_,A){return $.cloneElement(b,U(U({key:"recharts-customized-".concat(A)},y.props),y.state))}),pe(y,"renderMap",{CartesianGrid:{handler:zo,once:!0},ReferenceArea:{handler:y.renderReferenceElement},ReferenceLine:{handler:zo},ReferenceDot:{handler:y.renderReferenceElement},XAxis:{handler:zo},YAxis:{handler:zo},Brush:{handler:y.renderBrush,once:!0},Bar:{handler:y.renderGraphicChild},Line:{handler:y.renderGraphicChild},Area:{handler:y.renderGraphicChild},Radar:{handler:y.renderGraphicChild},RadialBar:{handler:y.renderGraphicChild},Scatter:{handler:y.renderGraphicChild},Pie:{handler:y.renderGraphicChild},Funnel:{handler:y.renderGraphicChild},Tooltip:{handler:y.renderCursor,once:!0},PolarGrid:{handler:y.renderPolarGrid,once:!0},PolarAngleAxis:{handler:y.renderPolarAxis},PolarRadiusAxis:{handler:y.renderPolarAxis},Customized:{handler:y.renderCustomized}}),y.clipPathId="".concat((S=w.id)!==null&&S!==void 0?S:ua("recharts"),"-clip"),y.throttleTriggeredAfterMouseMove=Aj(y.triggeredAfterMouseMove,(x=w.throttleDelay)!==null&&x!==void 0?x:1e3/60),y.state={},y}return L7(j,v),I7(j,[{key:"componentDidMount",value:function(){var S,x;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,x=S.children,y=S.data,b=S.height,_=S.layout,A=qt(x,Ut);if(A){var O=A.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,N=uh(this.state,y,O,T),P=this.state.tooltipTicks[O].coordinate,E=(this.state.offset.top+b)/2,M=_==="horizontal",R=M?{x:P,y:E}:{y:P,x:E},F=this.state.formattedGraphicalItems.find(function(z){var H=z.item;return H.type.name==="Scatter"});F&&(R=U(U({},R),F.props.points[O].tooltipPosition),N=F.props.points[O].tooltipPayload);var D={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:T,activePayload:N,activeCoordinate:R};this.setState(D),this.renderCursor(A),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,x){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==x.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var y,b;this.accessibilityManager.setDetails({offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0}})}return null}},{key:"componentDidUpdate",value:function(S){Rd([qt(S.children,Ut)],[qt(this.props.children,Ut)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=qt(this.props.children,Ut);if(S&&typeof S.props.shared=="boolean"){var x=S.props.shared?"axis":"item";return l.indexOf(x)>=0?x:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var x=this.container,y=x.getBoundingClientRect(),b=wF(y),_={chartX:Math.round(S.pageX-b.left),chartY:Math.round(S.pageY-b.top)},A=y.width/x.offsetWidth||1,O=this.inRange(_.chartX,_.chartY,A);if(!O)return null;var T=this.state,N=T.xAxisMap,P=T.yAxisMap,E=this.getTooltipEventType(),M=Kx(this.state,this.props.data,this.props.layout,O);if(E!=="axis"&&N&&P){var R=un(N).scale,F=un(P).scale,D=R&&R.invert?R.invert(_.chartX):null,z=F&&F.invert?F.invert(_.chartY):null;return U(U({},_),{},{xValue:D,yValue:z},M)}return M?U(U({},_),M):null}},{key:"inRange",value:function(S,x){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,b=this.props.layout,_=S/y,A=x/y;if(b==="horizontal"||b==="vertical"){var O=this.state.offset,T=_>=O.left&&_<=O.left+O.width&&A>=O.top&&A<=O.top+O.height;return T?{x:_,y:A}:null}var N=this.state,P=N.angleAxisMap,E=N.radiusAxisMap;if(P&&E){var M=un(P);return gy({x:_,y:A},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,x=this.getTooltipEventType(),y=qt(S,Ut),b={};y&&x==="axis"&&(y.props.trigger==="click"?b={onClick:this.handleClick}:b={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=fl(this.props,this.handleOuterEvent);return U(U({},_),b)}},{key:"addListener",value:function(){dd.on(fd,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){dd.removeListener(fd,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,x,y){for(var b=this.state.formattedGraphicalItems,_=0,A=b.length;_<A;_++){var O=b[_];if(O.item===S||O.props.key===S.key||x===Hr(O.item.type)&&y===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,x=this.state.offset,y=x.left,b=x.top,_=x.height,A=x.width;return C.createElement("defs",null,C.createElement("clipPath",{id:S},C.createElement("rect",{x:y,y:b,height:_,width:A})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(x,y){var b=Vx(y,2),_=b[0],A=b[1];return U(U({},x),{},pe({},_,A.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(x,y){var b=Vx(y,2),_=b[0],A=b[1];return U(U({},x),{},pe({},_,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var x;return(x=this.state.xAxisMap)===null||x===void 0||(x=x[S])===null||x===void 0?void 0:x.scale}},{key:"getYScaleByAxisId",value:function(S){var x;return(x=this.state.yAxisMap)===null||x===void 0||(x=x[S])===null||x===void 0?void 0:x.scale}},{key:"getItemByXY",value:function(S){var x=this.state,y=x.formattedGraphicalItems,b=x.activeItem;if(y&&y.length)for(var _=0,A=y.length;_<A;_++){var O=y[_],T=O.props,N=O.item,P=N.type.defaultProps!==void 0?U(U({},N.type.defaultProps),N.props):N.props,E=Hr(N.type);if(E==="Bar"){var M=(T.data||[]).find(function(z){return ZU(S,z)});if(M)return{graphicalItem:O,payload:M}}else if(E==="RadialBar"){var R=(T.data||[]).find(function(z){return gy(S,z)});if(R)return{graphicalItem:O,payload:R}}else if(fu(O,b)||hu(O,b)||Us(O,b)){var F=JV({graphicalItem:O,activeTooltipItem:b,itemData:P.data}),D=P.activeIndex===void 0?F:P.activeIndex;return{graphicalItem:U(U({},O),{},{childIndex:D}),payload:Us(O,b)?P.data[F]:O.props.data[F]}}}return null}},{key:"render",value:function(){var S=this;if(!sg(this))return null;var x=this.props,y=x.children,b=x.className,_=x.width,A=x.height,O=x.style,T=x.compact,N=x.title,P=x.desc,E=Hx(x,O7),M=ce(E,!1);if(T)return C.createElement(Ox,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},C.createElement(Ld,xi({},M,{width:_,height:A,title:N,desc:P}),this.renderClipPath(),lg(y,this.renderMap)));if(this.props.accessibilityLayer){var R,F;M.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,M.role=(F=this.props.role)!==null&&F!==void 0?F:"application",M.onKeyDown=function(z){S.accessibilityManager.keyboardEvent(z)},M.onFocus=function(){S.accessibilityManager.focus()}}var D=this.parseEventsOfWrapper();return C.createElement(Ox,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},C.createElement("div",xi({className:ye("recharts-wrapper",b),style:U({position:"relative",cursor:"default",width:_,height:A},O)},D,{ref:function(H){S.container=H}}),C.createElement(Ld,xi({},M,{width:_,height:A,title:N,desc:P,style:W7}),this.renderClipPath(),lg(y,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);pe(p,"displayName",r),pe(p,"defaultProps",U({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),pe(p,"getDerivedStateFromProps",function(v,j){var w=v.dataKey,S=v.data,x=v.children,y=v.width,b=v.height,_=v.layout,A=v.stackOffset,O=v.margin,T=j.dataStartIndex,N=j.dataEndIndex;if(j.updateId===void 0){var P=Xx(v);return U(U(U({},P),{},{updateId:0},m(U(U({props:v},P),{},{updateId:0}),j)),{},{prevDataKey:w,prevData:S,prevWidth:y,prevHeight:b,prevLayout:_,prevStackOffset:A,prevMargin:O,prevChildren:x})}if(w!==j.prevDataKey||S!==j.prevData||y!==j.prevWidth||b!==j.prevHeight||_!==j.prevLayout||A!==j.prevStackOffset||!wi(O,j.prevMargin)){var E=Xx(v),M={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},R=U(U({},Kx(j,S,_)),{},{updateId:j.updateId+1}),F=U(U(U({},E),M),R);return U(U(U({},F),m(U({props:v},F),j)),{},{prevDataKey:w,prevData:S,prevWidth:y,prevHeight:b,prevLayout:_,prevStackOffset:A,prevMargin:O,prevChildren:x})}if(!Rd(x,j.prevChildren)){var D,z,H,W,Z=qt(x,zi),K=Z&&(D=(z=Z.props)===null||z===void 0?void 0:z.startIndex)!==null&&D!==void 0?D:T,re=Z&&(H=(W=Z.props)===null||W===void 0?void 0:W.endIndex)!==null&&H!==void 0?H:N,X=K!==T||re!==N,le=!be(S),_e=le&&!X?j.updateId:j.updateId+1;return U(U({updateId:_e},m(U(U({props:v},j),{},{updateId:_e,dataStartIndex:K,dataEndIndex:re}),j)),{},{prevChildren:x,dataStartIndex:K,dataEndIndex:re})}return null}),pe(p,"renderActiveDot",function(v,j,w){var S;return $.isValidElement(v)?S=$.cloneElement(v,j):he(v)?S=v(j):S=C.createElement(co,j),C.createElement(Ce,{className:"recharts-active-dot",key:w},S)});var g=$.forwardRef(function(j,w){return C.createElement(p,xi({},j,{ref:w}))});return g.displayName=p.displayName,g},eX=bu({chartName:"LineChart",GraphicalChild:uo,axisComponents:[{axisType:"xAxis",AxisComp:wa},{axisType:"yAxis",AxisComp:ja}],formatAxisMap:w1}),tX=bu({chartName:"BarChart",GraphicalChild:mn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:wa},{axisType:"yAxis",AxisComp:ja}],formatAxisMap:w1}),rX=bu({chartName:"PieChart",GraphicalChild:nn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:xa},{axisType:"radiusAxis",AxisComp:ya}],formatAxisMap:B_,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),nX=bu({chartName:"RadarChart",GraphicalChild:zn,axisComponents:[{axisType:"angleAxis",AxisComp:xa},{axisType:"radiusAxis",AxisComp:ya}],formatAxisMap:B_,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Jx=({scenario:e,projectionData:t,className:r=""})=>{const n=l=>{const c={current:"#4F46E5",optimistic:"#10B981",conservative:"#F59E0B"};return c[l]||c.current},i=l=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(l),a=l=>`${l.toFixed(1)}%`,s=[{name:"Épargne",value:e.healthIndex.savings,color:"#10B981"},{name:"Dettes",value:e.healthIndex.debt,color:"#EF4444"},{name:"Stabilité",value:e.healthIndex.stability,color:"#4F46E5"},{name:"Objectifs",value:e.healthIndex.goals,color:"#F59E0B"}];return o.jsxs("div",{className:`space-y-6 ${r}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:n(e.type)}}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:e.name})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(k,{name:"TrendingUp",size:16,color:"var(--color-success)"}),o.jsx("span",{className:"text-sm font-medium text-success",children:a(e.improvement)})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"glass rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(k,{name:"Wallet",size:16,color:"var(--color-primary)"}),o.jsx("span",{className:"text-xs font-medium text-text-secondary",children:"Épargne mensuelle"})]}),o.jsx("div",{className:"text-lg font-bold text-foreground",children:i(e.monthlySavings)}),o.jsxs("div",{className:"text-xs text-success mt-1",children:["+",i(e.monthlySavings-850)," vs actuel"]})]}),o.jsxs("div",{className:"glass rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(k,{name:"Target",size:16,color:"var(--color-secondary)"}),o.jsx("span",{className:"text-xs font-medium text-text-secondary",children:"Objectif atteint"})]}),o.jsxs("div",{className:"text-lg font-bold text-foreground",children:[e.goalAchievement,"%"]}),o.jsxs("div",{className:"text-xs text-secondary mt-1",children:["dans ",e.timeToGoal," mois"]})]}),o.jsxs("div",{className:"glass rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(k,{name:"Heart",size:16,color:"var(--color-accent)"}),o.jsx("span",{className:"text-xs font-medium text-text-secondary",children:"Santé financière"})]}),o.jsxs("div",{className:"text-lg font-bold text-foreground",children:[e.overallHealthIndex,"/100"]}),o.jsx("div",{className:`text-xs mt-1 ${e.overallHealthIndex>=70?"text-success":e.overallHealthIndex>=50?"text-warning":"text-error"}`,children:e.overallHealthIndex>=70?"Excellente":e.overallHealthIndex>=50?"Bonne":"À améliorer"})]}),o.jsxs("div",{className:"glass rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(k,{name:"AlertTriangle",size:16,color:"var(--color-warning)"}),o.jsx("span",{className:"text-xs font-medium text-text-secondary",children:"Risque"})]}),o.jsx("div",{className:"text-lg font-bold text-foreground",children:e.riskLevel}),o.jsxs("div",{className:"text-xs text-warning mt-1",children:["Tolérance: ",e.riskTolerance,"%"]})]})]}),o.jsxs("div",{className:"glass rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(k,{name:"BarChart3",size:20,color:"var(--color-primary)"}),o.jsx("h4",{className:"font-heading font-semibold text-base text-foreground",children:"Projection sur 6 mois"})]}),o.jsx("div",{className:"h-64",children:o.jsx(Al,{width:"100%",height:"100%",children:o.jsxs(eX,{data:t,children:[o.jsx(Gm,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),o.jsx(wa,{dataKey:"month",stroke:"var(--color-text-secondary)",fontSize:12}),o.jsx(ja,{stroke:"var(--color-text-secondary)",fontSize:12,tickFormatter:i}),o.jsx(Ut,{contentStyle:{backgroundColor:"var(--color-card)",border:"1px solid var(--color-border)",borderRadius:"8px",fontSize:"12px"},formatter:l=>[i(l),"Épargne"]}),o.jsx(uo,{type:"monotone",dataKey:"savings",stroke:n(e.type),strokeWidth:3,dot:{fill:n(e.type),strokeWidth:2,r:4},activeDot:{r:6,stroke:n(e.type),strokeWidth:2}})]})})})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"glass rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(k,{name:"PieChart",size:20,color:"var(--color-secondary)"}),o.jsx("h4",{className:"font-heading font-semibold text-base text-foreground",children:"Répartition santé financière"})]}),o.jsx("div",{className:"h-48",children:o.jsx(Al,{width:"100%",height:"100%",children:o.jsxs(rX,{children:[o.jsx(nn,{data:s,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:s.map((l,c)=>o.jsx(Qc,{fill:l.color},`cell-${c}`))}),o.jsx(Ut,{contentStyle:{backgroundColor:"var(--color-card)",border:"1px solid var(--color-border)",borderRadius:"8px",fontSize:"12px"},formatter:l=>[`${l}/100`,"Score"]})]})})}),o.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:s.map((l,c)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),o.jsx("span",{className:"text-xs text-text-secondary",children:l.name}),o.jsx("span",{className:"text-xs font-medium text-foreground",children:l.value})]},c))})]}),o.jsxs("div",{className:"glass rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(k,{name:"AlertCircle",size:20,color:"var(--color-warning)"}),o.jsx("h4",{className:"font-heading font-semibold text-base text-foreground",children:"Alertes et recommandations"})]}),o.jsx("div",{className:"space-y-3",children:e.alerts.map((l,c)=>o.jsx("div",{className:`p-3 rounded-lg border-l-4 ${l.type==="warning"?"bg-warning/5 border-warning":l.type==="success"?"bg-success/5 border-success":"bg-primary/5 border-primary"}`,children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(k,{name:l.type==="warning"?"AlertTriangle":l.type==="success"?"CheckCircle2":"Info",size:16,color:l.type==="warning"?"var(--color-warning)":l.type==="success"?"var(--color-success)":"var(--color-primary)",className:"mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-foreground mb-1",children:l.title}),o.jsx("div",{className:"text-xs text-text-secondary leading-relaxed",children:l.message})]})]})},c))})]})]})]})},iX=({scenarios:e,className:t=""})=>{var c,u,d,f,h,m,p,g,v,j,w,S;const r=x=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(x),n=x=>`${x.toFixed(1)}%`,i=e.map(x=>({name:x.name,type:x.type,savings:x.monthlySavings,healthIndex:x.overallHealthIndex,goalAchievement:x.goalAchievement,timeToGoal:x.timeToGoal,improvement:x.improvement})),a=[{metric:"Épargne",current:((c=e.find(x=>x.type==="current"))==null?void 0:c.monthlySavings)/50||0,optimistic:((u=e.find(x=>x.type==="optimistic"))==null?void 0:u.monthlySavings)/50||0,conservative:((d=e.find(x=>x.type==="conservative"))==null?void 0:d.monthlySavings)/50||0},{metric:"Santé financière",current:((f=e.find(x=>x.type==="current"))==null?void 0:f.overallHealthIndex)||0,optimistic:((h=e.find(x=>x.type==="optimistic"))==null?void 0:h.overallHealthIndex)||0,conservative:((m=e.find(x=>x.type==="conservative"))==null?void 0:m.overallHealthIndex)||0},{metric:"Objectifs",current:((p=e.find(x=>x.type==="current"))==null?void 0:p.goalAchievement)||0,optimistic:((g=e.find(x=>x.type==="optimistic"))==null?void 0:g.goalAchievement)||0,conservative:((v=e.find(x=>x.type==="conservative"))==null?void 0:v.goalAchievement)||0},{metric:"Stabilité",current:100-(((j=e.find(x=>x.type==="current"))==null?void 0:j.riskLevel)||0),optimistic:100-(((w=e.find(x=>x.type==="optimistic"))==null?void 0:w.riskLevel)||0),conservative:100-(((S=e.find(x=>x.type==="conservative"))==null?void 0:S.riskLevel)||0)}],s=x=>{const y={current:"#4F46E5",optimistic:"#10B981",conservative:"#F59E0B"};return y[x]||y.current},l=x=>e.map(b=>({type:b.type,value:x==="savings"?b.monthlySavings:x==="health"?b.overallHealthIndex:x==="goals"?b.goalAchievement:x==="time"?-b.timeToGoal:b.improvement})).reduce((b,_)=>_.value>b.value?_:b);return o.jsxs("div",{className:`space-y-8 ${t}`,children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"font-heading font-bold text-2xl text-foreground mb-2",children:"Comparaison des scénarios"}),o.jsx("p",{className:"text-text-secondary",children:"Analysez les différences entre vos trois scénarios financiers"})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:e.map(x=>{const y=x.type===l("health").type;return o.jsxs("div",{className:`
                glass rounded-xl p-6 transition-all duration-300
                ${y?"ring-2 ring-success/30 bg-success/5":""}
              `,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:s(x.type)}}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:x.name})]}),y&&o.jsxs("div",{className:"flex items-center space-x-1 text-success",children:[o.jsx(k,{name:"Crown",size:16}),o.jsx("span",{className:"text-xs font-medium",children:"Optimal"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-text-secondary",children:"Épargne mensuelle"}),o.jsx("span",{className:"font-semibold text-foreground",children:r(x.monthlySavings)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-text-secondary",children:"Santé financière"}),o.jsxs("span",{className:"font-semibold text-foreground",children:[x.overallHealthIndex,"/100"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-text-secondary",children:"Objectif atteint"}),o.jsxs("span",{className:"font-semibold text-foreground",children:[x.goalAchievement,"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-text-secondary",children:"Délai objectif"}),o.jsxs("span",{className:"font-semibold text-foreground",children:[x.timeToGoal," mois"]})]}),o.jsx("div",{className:"pt-2 border-t border-border/20",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-text-secondary",children:"Amélioration"}),o.jsxs("span",{className:`font-semibold ${x.improvement>0?"text-success":"text-error"}`,children:[x.improvement>0?"+":"",n(x.improvement)]})]})})]})]},x.type)})}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"glass rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[o.jsx(k,{name:"BarChart3",size:20,color:"var(--color-primary)"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Comparaison des métriques clés"})]}),o.jsx("div",{className:"h-80",children:o.jsx(Al,{width:"100%",height:"100%",children:o.jsxs(tX,{data:i,margin:{top:20,right:30,left:20,bottom:5},children:[o.jsx(Gm,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),o.jsx(wa,{dataKey:"name",stroke:"var(--color-text-secondary)",fontSize:12}),o.jsx(ja,{stroke:"var(--color-text-secondary)",fontSize:12}),o.jsx(Ut,{contentStyle:{backgroundColor:"var(--color-card)",border:"1px solid var(--color-border)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(mn,{dataKey:"savings",name:"Épargne mensuelle (€)",fill:"#4F46E5",radius:[4,4,0,0]}),o.jsx(mn,{dataKey:"healthIndex",name:"Santé financière (/100)",fill:"#10B981",radius:[4,4,0,0]})]})})})]}),o.jsxs("div",{className:"glass rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[o.jsx(k,{name:"Radar",size:20,color:"var(--color-secondary)"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Analyse multidimensionnelle"})]}),o.jsx("div",{className:"h-80",children:o.jsx(Al,{width:"100%",height:"100%",children:o.jsxs(nX,{data:a,children:[o.jsx(t1,{stroke:"var(--color-border)"}),o.jsx(xa,{dataKey:"metric",tick:{fontSize:12,fill:"var(--color-text-secondary)"}}),o.jsx(ya,{angle:90,domain:[0,100],tick:{fontSize:10,fill:"var(--color-text-secondary)"}}),o.jsx(zn,{name:"Actuel",dataKey:"current",stroke:"#4F46E5",fill:"#4F46E5",fillOpacity:.1,strokeWidth:2}),o.jsx(zn,{name:"Optimiste",dataKey:"optimistic",stroke:"#10B981",fill:"#10B981",fillOpacity:.1,strokeWidth:2}),o.jsx(zn,{name:"Conservateur",dataKey:"conservative",stroke:"#F59E0B",fill:"#F59E0B",fillOpacity:.1,strokeWidth:2}),o.jsx(Ut,{contentStyle:{backgroundColor:"var(--color-card)",border:"1px solid var(--color-border)",borderRadius:"8px",fontSize:"12px"}})]})})})]})]}),o.jsxs("div",{className:"glass rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[o.jsx(k,{name:"Trophy",size:20,color:"var(--color-accent)"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Analyse des performances"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-success/5 rounded-lg border border-success/20",children:[o.jsx(k,{name:"TrendingUp",size:24,color:"var(--color-success)",className:"mx-auto mb-2"}),o.jsx("div",{className:"text-sm font-medium text-success mb-1",children:"Meilleure épargne"}),o.jsx("div",{className:"text-lg font-bold text-foreground",children:l("savings").type==="current"?"Actuel":l("savings").type==="optimistic"?"Optimiste":"Conservateur"}),o.jsx("div",{className:"text-xs text-text-secondary",children:r(Math.max(...e.map(x=>x.monthlySavings)))})]}),o.jsxs("div",{className:"text-center p-4 bg-primary/5 rounded-lg border border-primary/20",children:[o.jsx(k,{name:"Heart",size:24,color:"var(--color-primary)",className:"mx-auto mb-2"}),o.jsx("div",{className:"text-sm font-medium text-primary mb-1",children:"Meilleure santé"}),o.jsx("div",{className:"text-lg font-bold text-foreground",children:l("health").type==="current"?"Actuel":l("health").type==="optimistic"?"Optimiste":"Conservateur"}),o.jsxs("div",{className:"text-xs text-text-secondary",children:[Math.max(...e.map(x=>x.overallHealthIndex)),"/100"]})]}),o.jsxs("div",{className:"text-center p-4 bg-secondary/5 rounded-lg border border-secondary/20",children:[o.jsx(k,{name:"Target",size:24,color:"var(--color-secondary)",className:"mx-auto mb-2"}),o.jsx("div",{className:"text-sm font-medium text-secondary mb-1",children:"Meilleurs objectifs"}),o.jsx("div",{className:"text-lg font-bold text-foreground",children:l("goals").type==="current"?"Actuel":l("goals").type==="optimistic"?"Optimiste":"Conservateur"}),o.jsxs("div",{className:"text-xs text-text-secondary",children:[Math.max(...e.map(x=>x.goalAchievement)),"%"]})]}),o.jsxs("div",{className:"text-center p-4 bg-accent/5 rounded-lg border border-accent/20",children:[o.jsx(k,{name:"Clock",size:24,color:"var(--color-accent)",className:"mx-auto mb-2"}),o.jsx("div",{className:"text-sm font-medium text-accent mb-1",children:"Plus rapide"}),o.jsx("div",{className:"text-lg font-bold text-foreground",children:l("time").type==="current"?"Actuel":l("time").type==="optimistic"?"Optimiste":"Conservateur"}),o.jsxs("div",{className:"text-xs text-text-secondary",children:[Math.min(...e.map(x=>x.timeToGoal))," mois"]})]})]})]})]})},aX=({scenarios:e,onSaveScenario:t,onExportPDF:r,onShareScenario:n,className:i=""})=>{const[a,s]=$.useState(!1),[l,c]=$.useState(!1),[u,d]=$.useState(!1),f=async()=>{c(!0);try{await new Promise(g=>setTimeout(g,1e3)),t(e)}finally{c(!1)}},h=async()=>{s(!0);try{await new Promise(g=>setTimeout(g,2e3)),r(e)}finally{s(!1)}},m=g=>{n(e,g),d(!1)},p=[{id:"reset",label:"Réinitialiser",icon:"RotateCcw",color:"text-text-secondary",action:()=>{}},{id:"duplicate",label:"Dupliquer",icon:"Copy",color:"text-primary",action:()=>{}},{id:"compare",label:"Comparer",icon:"GitCompare",color:"text-secondary",action:()=>{}}];return o.jsxs("div",{className:`space-y-6 ${i}`,children:[o.jsxs("div",{className:"glass rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(k,{name:"Settings",size:20,color:"var(--color-primary)"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Actions rapides"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx(G,{variant:"default",onClick:f,loading:l,iconName:"Save",iconPosition:"left",fullWidth:!0,children:"Sauvegarder"}),o.jsx(G,{variant:"outline",onClick:h,loading:a,iconName:"Download",iconPosition:"left",fullWidth:!0,children:"Exporter PDF"}),o.jsxs("div",{className:"relative",children:[o.jsx(G,{variant:"secondary",onClick:()=>d(!u),iconName:"Share2",iconPosition:"left",fullWidth:!0,children:"Partager"}),u&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 glass rounded-lg border border-border/20 z-10",children:o.jsxs("div",{className:"p-2 space-y-1",children:[o.jsxs("button",{onClick:()=>m("email"),className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-text-secondary hover:text-primary hover:bg-primary/5 rounded-md transition-colors",children:[o.jsx(k,{name:"Mail",size:16}),o.jsx("span",{children:"Par email"})]}),o.jsxs("button",{onClick:()=>m("link"),className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-text-secondary hover:text-primary hover:bg-primary/5 rounded-md transition-colors",children:[o.jsx(k,{name:"Link",size:16}),o.jsx("span",{children:"Copier le lien"})]}),o.jsxs("button",{onClick:()=>m("social"),className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-text-secondary hover:text-primary hover:bg-primary/5 rounded-md transition-colors",children:[o.jsx(k,{name:"Share",size:16}),o.jsx("span",{children:"Réseaux sociaux"})]})]})})]})]})]}),o.jsxs("div",{className:"glass rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(k,{name:"Zap",size:20,color:"var(--color-accent)"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Outils rapides"})]}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:p.map(g=>o.jsxs("button",{onClick:g.action,className:"flex flex-col items-center space-y-2 p-4 rounded-lg hover:bg-white/30 transition-colors group",children:[o.jsx(k,{name:g.icon,size:24,color:g.color.replace("text-","var(--color-")+")",className:"group-hover:scale-110 transition-transform"}),o.jsx("span",{className:`text-xs font-medium ${g.color} group-hover:text-primary`,children:g.label})]},g.id))})]}),o.jsxs("div",{className:"glass rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(k,{name:"BarChart3",size:20,color:"var(--color-success)"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Résumé des scénarios"})]}),o.jsx("div",{className:"space-y-4",children:e.map((g,v)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/20 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:g.type==="current"?"#4F46E5":g.type==="optimistic"?"#10B981":"#F59E0B"}}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm text-foreground",children:g.name}),o.jsxs("div",{className:"text-xs text-text-secondary",children:["Santé: ",g.overallHealthIndex,"/100"]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-semibold text-sm text-foreground",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0}).format(g.monthlySavings)}),o.jsx("div",{className:"text-xs text-text-secondary",children:"par mois"})]})]},g.type))})]}),o.jsxs("div",{className:"glass rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(k,{name:"Lightbulb",size:20,color:"var(--color-warning)"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Conseils personnalisés"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg border-l-4 border-primary",children:[o.jsx("div",{className:"text-sm font-medium text-primary mb-1",children:"Optimisation suggérée"}),o.jsx("div",{className:"text-xs text-text-secondary leading-relaxed",children:"En réduisant vos dépenses variables de 15%, vous pourriez augmenter votre épargne mensuelle de 280€."})]}),o.jsxs("div",{className:"p-3 bg-success/5 rounded-lg border-l-4 border-success",children:[o.jsx("div",{className:"text-sm font-medium text-success mb-1",children:"Objectif réalisable"}),o.jsx("div",{className:"text-xs text-text-secondary leading-relaxed",children:"Votre scénario optimiste semble réaliste. Vous pourriez atteindre vos objectifs 3 mois plus tôt."})]}),o.jsxs("div",{className:"p-3 bg-warning/5 rounded-lg border-l-4 border-warning",children:[o.jsx("div",{className:"text-sm font-medium text-warning mb-1",children:"Point d'attention"}),o.jsx("div",{className:"text-xs text-text-secondary leading-relaxed",children:"Vérifiez vos frais cachés récurrents. Ils représentent 12% de vos dépenses mensuelles."})]})]})]})]})},sX=()=>{const[e,t]=$.useState("current"),[r,n]=$.useState(!1),[i,a]=$.useState([]),[s,l]=$.useState(!1),[c,u]=$.useState([{type:"current",name:"Situation Actuelle",description:"Votre situation financière actuelle",parameters:{incomeChange:0,expenseChange:0,savingsRate:15,goalTimeline:24,riskTolerance:40},monthlySavings:850,overallHealthIndex:68,goalAchievement:75,timeToGoal:24,improvement:0,riskLevel:"Modéré",healthIndex:{savings:70,debt:45,stability:80,goals:65},alerts:[{type:"info",title:"Situation stable",message:"Votre situation financière actuelle est équilibrée avec un potentiel d'amélioration."},{type:"warning",title:"Frais cachés détectés",message:"Nous avons identifié 127€ de frais récurrents qui pourraient être optimisés."}]},{type:"optimistic",name:"Scénario Optimiste",description:"Conditions favorables et croissance",parameters:{incomeChange:25,expenseChange:-10,savingsRate:25,goalTimeline:18,riskTolerance:60},monthlySavings:1340,overallHealthIndex:85,goalAchievement:95,timeToGoal:18,improvement:22.5,riskLevel:"Élevé",healthIndex:{savings:90,debt:30,stability:85,goals:95},alerts:[{type:"success",title:"Excellent potentiel",message:"Ce scénario vous permettrait d'atteindre vos objectifs 6 mois plus tôt que prévu."},{type:"info",title:"Opportunité d'investissement",message:"Avec cette épargne supplémentaire, vous pourriez diversifier vos investissements."}]},{type:"conservative",name:"Scénario Conservateur",description:"Approche prudente et sécurisée",parameters:{incomeChange:-5,expenseChange:5,savingsRate:12,goalTimeline:36,riskTolerance:20},monthlySavings:680,overallHealthIndex:72,goalAchievement:60,timeToGoal:36,improvement:-8.3,riskLevel:"Faible",healthIndex:{savings:55,debt:60,stability:95,goals:50},alerts:[{type:"warning",title:"Objectifs retardés",message:"Dans ce scénario, vos objectifs financiers seraient atteints avec 12 mois de retard."},{type:"info",title:"Sécurité maximale",message:"Cette approche garantit une stabilité financière même en cas de difficultés."}]}]),d=[{month:"Jan",savings:850,expenses:2100,income:3200},{month:"Fév",savings:920,expenses:2050,income:3250},{month:"Mar",savings:1050,expenses:2e3,income:3300},{month:"Avr",savings:1180,expenses:1980,income:3350},{month:"Mai",savings:1250,expenses:1950,income:3400},{month:"Jun",savings:1340,expenses:1920,income:3450}];$.useEffect(()=>{const x={id:Date.now(),type:"insight",title:"Simulateur de scénarios activé",message:"Explorez différents scénarios financiers et découvrez leur impact sur vos objectifs.",details:"Ajustez les paramètres en temps réel et comparez les résultats.",action:{label:"Commencer l'exploration",handler:()=>{}}};a([x])},[]);const f=(x,y,b)=>{l(!0),setTimeout(()=>{u(A=>A.map(O=>{if(O.type===x){const T={...O.parameters,[y]:b},N=h(T),P=m(T),E=p(T);return{...O,parameters:T,monthlySavings:N,overallHealthIndex:P,goalAchievement:E,timeToGoal:Math.max(1,Math.round(36-E/100*24)),improvement:(N-850)/850*100}}return O})),l(!1);const _={id:Date.now(),type:"success",title:"Calculs mis à jour",message:"Vos modifications ont été prises en compte et les projections actualisées.",persistent:!1};a(A=>[_,...A.slice(0,2)])},800)},h=x=>{const b=x.incomeChange/100*850,_=-(x.expenseChange/100)*850,A=(x.savingsRate-15)*20;return Math.max(0,Math.round(850+b+_+A))},m=x=>{const b=Math.max(0,x.incomeChange)*.3,_=Math.max(0,-x.expenseChange)*.4,A=Math.max(0,x.savingsRate-15)*.8;return Math.min(100,Math.round(68+b+_+A))},p=x=>{const b=(24-x.goalTimeline)*1.2,_=(x.savingsRate-15)*1.5;return Math.min(100,Math.max(0,Math.round(75+b+_)))},g=x=>{localStorage.setItem("financial_scenarios",JSON.stringify(x));const y={id:Date.now(),type:"success",title:"Scénarios sauvegardés",message:"Vos scénarios ont été sauvegardés localement avec succès."};a(b=>[y,...b.slice(0,2)])},v=x=>{const y={id:Date.now(),type:"success",title:"Export PDF généré",message:"Votre rapport de scénarios a été exporté au format PDF.",action:{label:"Télécharger",handler:()=>{}}};a(b=>[y,...b.slice(0,2)])},j=(x,y)=>{const b={id:Date.now(),type:"info",title:"Partage préparé",message:`Vos scénarios sont prêts à être partagés ${y==="email"?"par email":y==="link"?"via un lien":"sur les réseaux sociaux"}.`};a(_=>[b,..._.slice(0,2)])},w=x=>{a(y=>y.filter(b=>b.id!==x))},S=c.find(x=>x.type===e);return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ta,{}),o.jsx(na,{notifications:i,onDismiss:w,position:"top",maxVisible:3,autoHideDelay:5e3}),o.jsx("main",{className:"pt-20 pb-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center glass",children:o.jsx(k,{name:"GitCompare",size:24,color:"white",strokeWidth:2.5})}),o.jsx("h1",{className:"font-heading font-bold text-3xl md:text-4xl text-foreground",children:"Simulateur de Scénarios"})]}),o.jsx("p",{className:"text-lg text-text-secondary max-w-2xl mx-auto leading-relaxed",children:"Testez différents scénarios financiers et découvrez leur impact sur vos objectifs grâce à des projections en temps réel."})]})}),o.jsx("div",{className:"mb-8",children:o.jsx(ra,{currentStep:4,totalSteps:6,variant:"minimal"})}),o.jsxs("div",{className:"space-y-8",children:[o.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:o.jsx(nP,{activeScenario:e,onScenarioChange:t,scenarios:c})}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx(G,{variant:r?"outline":"default",onClick:()=>n(!1),iconName:"Settings",iconPosition:"left",children:"Paramètres"}),o.jsx(G,{variant:r?"default":"outline",onClick:()=>n(!0),iconName:"GitCompare",iconPosition:"left",children:"Comparaison"})]}),o.jsx(St,{mode:"wait",children:r?o.jsx(Ae.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.4},children:o.jsx(iX,{scenarios:c})},"comparison"):o.jsxs(Ae.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.4},children:[o.jsxs("div",{className:"hidden lg:grid lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx(Hp,{scenario:S,onParameterChange:f})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsx(Jx,{scenario:S,projectionData:d})})]}),o.jsxs("div",{className:"lg:hidden space-y-8",children:[o.jsx(Hp,{scenario:S,onParameterChange:f}),o.jsx(Jx,{scenario:S,projectionData:d})]})]},"parameters")}),o.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:o.jsx(aX,{scenarios:c,onSaveScenario:g,onExportPDF:v,onShareScenario:j})})]}),o.jsx(St,{children:s&&o.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 flex items-center justify-center",children:o.jsxs("div",{className:"glass rounded-xl p-6 flex items-center space-x-4",children:[o.jsx("div",{className:"animate-spin",children:o.jsx(k,{name:"Loader2",size:24,color:"var(--color-primary)"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-heading font-semibold text-foreground",children:"Calcul en cours..."}),o.jsx("div",{className:"text-sm text-text-secondary",children:"Mise à jour des projections financières"})]})]})})})]})})]})};function oX({src:e,alt:t="Image Name",className:r="",...n}){return o.jsx("img",{src:e,alt:t,className:r,onError:i=>{i.target.src="/assets/images/no_image.png"},...n})}const nS=({insight:e,onBookmark:t,onShare:r,isBookmarked:n=!1,isRecommended:i=!1})=>{const[a,s]=$.useState(!1),[l,c]=$.useState(0),u=()=>{s(!a)},d=()=>{l<e.quiz.length-1&&c(l+1)},f=()=>{l>0&&c(l-1)},h=p=>{switch(p){case"Débutant":return"text-success bg-success/10";case"Intermédiaire":return"text-warning bg-warning/10";case"Avancé":return"text-error bg-error/10";default:return"text-primary bg-primary/10"}},m=p=>({"Déclencheurs Émotionnels":"Heart","Fatigue Décisionnelle":"Brain","Psychologie des Récompenses":"Trophy","Biais Cognitifs":"Eye","Habitudes Financières":"Repeat","Stress et Argent":"Zap"})[p]||"BookOpen";return o.jsxs("div",{className:`
      glass rounded-xl border border-border/20 overflow-hidden
      transition-all duration-300 hover:glass-hover
      ${i?"ring-2 ring-primary/20":""}
      ${a?"col-span-full":""}
    `,children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"aspect-video overflow-hidden",children:o.jsx(oX,{src:e.image,alt:e.title,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),o.jsxs("div",{className:"absolute top-3 left-3 flex items-center space-x-2",children:[o.jsx("span",{className:`
            px-2 py-1 rounded-full text-xs font-medium
            ${h(e.difficulty)}
          `,children:e.difficulty}),i&&o.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-accent text-white",children:"Recommandé"})]}),o.jsxs("div",{className:"absolute top-3 right-3 flex items-center space-x-2",children:[o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>t(e.id),className:"w-8 h-8 glass hover:glass-hover",children:o.jsx(k,{name:n?"Bookmark":"BookmarkPlus",size:16,color:n?"var(--color-accent)":"var(--color-text-secondary)"})}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>r(e),className:"w-8 h-8 glass hover:glass-hover",children:o.jsx(k,{name:"Share2",size:16,color:"var(--color-text-secondary)"})})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(k,{name:m(e.category),size:16,color:"var(--color-primary)"}),o.jsx("span",{className:"text-sm font-medium text-primary",children:e.category})]}),o.jsxs("span",{className:"text-xs text-text-secondary",children:[e.readingTime," min"]})]}),o.jsx("h3",{className:"font-heading font-bold text-lg text-foreground mb-2 line-clamp-2",children:e.title}),o.jsx("p",{className:"text-sm text-text-secondary mb-4 line-clamp-3",children:e.description}),o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(k,{name:"Award",size:14,color:"var(--color-success)"}),o.jsx("span",{className:"text-xs text-success font-medium",children:"Vérifié"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(k,{name:"Calendar",size:14,color:"var(--color-text-secondary)"}),o.jsx("span",{className:"text-xs text-text-secondary",children:e.publicationDate})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(k,{name:"Users",size:14,color:"var(--color-text-secondary)"}),o.jsxs("span",{className:"text-xs text-text-secondary",children:[e.citations," citations"]})]})]}),e.progress>0&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs text-text-secondary",children:"Progression"}),o.jsxs("span",{className:"text-xs font-medium text-primary",children:[e.progress,"%"]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-1.5",children:o.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary h-1.5 rounded-full transition-all duration-300",style:{width:`${e.progress}%`}})})]}),o.jsx(G,{variant:"outline",onClick:u,className:"w-full",iconName:a?"ChevronUp":"ChevronDown",iconPosition:"right",children:a?"Réduire":"En savoir plus"})]}),a&&o.jsxs("div",{className:"border-t border-border/20 p-4 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-heading font-semibold text-base text-foreground mb-3",children:"Explication détaillée"}),o.jsx("div",{className:"prose prose-sm max-w-none text-text-primary",children:e.detailedExplanation.split(`
`).map((p,g)=>o.jsx("p",{className:"mb-3 leading-relaxed",children:p},g))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-heading font-semibold text-base text-foreground mb-3",children:"Applications pratiques"}),o.jsx("div",{className:"space-y-3",children:e.practicalApplications.map((p,g)=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 glass rounded-lg",children:[o.jsx(k,{name:"CheckCircle2",size:16,color:"var(--color-success)",className:"mt-0.5"}),o.jsx("span",{className:"text-sm text-text-primary leading-relaxed",children:p})]},g))})]}),e.personalRelevance&&o.jsx("div",{className:"glass rounded-lg p-4 border border-primary/20",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(k,{name:"User",size:20,color:"var(--color-primary)"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-heading font-semibold text-base text-primary mb-2",children:"Pertinence personnelle"}),o.jsx("p",{className:"text-sm text-text-primary leading-relaxed",children:e.personalRelevance})]})]})}),e.quiz&&e.quiz.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-heading font-semibold text-base text-foreground mb-3",children:"Quiz de réflexion"}),o.jsxs("div",{className:"glass rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("span",{className:"text-sm text-text-secondary",children:["Question ",l+1," sur ",e.quiz.length]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(G,{variant:"ghost",size:"icon",onClick:f,disabled:l===0,className:"w-8 h-8",children:o.jsx(k,{name:"ChevronLeft",size:16})}),o.jsx(G,{variant:"ghost",size:"icon",onClick:d,disabled:l===e.quiz.length-1,className:"w-8 h-8",children:o.jsx(k,{name:"ChevronRight",size:16})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:e.quiz[l].question}),o.jsx("div",{className:"space-y-2",children:e.quiz[l].options.map((p,g)=>o.jsx("button",{className:"w-full text-left p-3 rounded-lg border border-border/20 hover:bg-primary/5 transition-colors duration-200",children:o.jsx("span",{className:"text-sm text-text-primary",children:p})},g))})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-heading font-semibold text-base text-foreground mb-3",children:"Sources scientifiques"}),o.jsx("div",{className:"space-y-2",children:e.sources.map((p,g)=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 glass rounded-lg",children:[o.jsx(k,{name:"ExternalLink",size:14,color:"var(--color-text-secondary)",className:"mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:p.title}),o.jsxs("p",{className:"text-xs text-text-secondary",children:[p.authors," • ",p.journal," • ",p.year]})]})]},g))})]})]})]})},Ie=C.forwardRef(({className:e,type:t="text",label:r,description:n,error:i,required:a=!1,id:s,...l},c)=>{const u=s||`input-${Math.random().toString(36).substr(2,9)}`,d="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50";return t==="checkbox"?o.jsx("input",{type:"checkbox",className:cr("h-4 w-4 rounded border border-input bg-background text-primary focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:c,id:u,...l}):t==="radio"?o.jsx("input",{type:"radio",className:cr("h-4 w-4 rounded-full border border-input bg-background text-primary focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:c,id:u,...l}):o.jsxs("div",{className:"space-y-2",children:[r&&o.jsxs("label",{htmlFor:u,className:cr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",i?"text-destructive":"text-foreground"),children:[r,a&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx("input",{type:t,className:cr(d,i&&"border-destructive focus-visible:ring-destructive",e),ref:c,id:u,...l}),n&&!i&&o.jsx("p",{className:"text-sm text-muted-foreground",children:n}),i&&o.jsx("p",{className:"text-sm text-destructive",children:i})]})});Ie.displayName="Input";const $t=C.forwardRef(({className:e,options:t=[],value:r,defaultValue:n,placeholder:i="Select an option",multiple:a=!1,disabled:s=!1,required:l=!1,label:c,description:u,error:d,searchable:f=!1,clearable:h=!1,loading:m=!1,id:p,name:g,onChange:v,onOpenChange:j,...w},S)=>{const[x,y]=$.useState(!1),[b,_]=$.useState(""),A=p||`select-${Math.random().toString(36).substr(2,9)}`,O=f&&b?t.filter(D=>D.label.toLowerCase().includes(b.toLowerCase())||D.value&&D.value.toString().toLowerCase().includes(b.toLowerCase())):t,T=()=>{if(!r)return i;if(a){const z=t.filter(H=>r.includes(H.value));return z.length===0?i:z.length===1?z[0].label:`${z.length} items selected`}const D=t.find(z=>z.value===r);return D?D.label:i},N=()=>{if(!s){const D=!x;y(D),j==null||j(D),D||_("")}},P=D=>{if(a){const z=r||[],H=z.includes(D.value)?z.filter(W=>W!==D.value):[...z,D.value];v==null||v(H)}else v==null||v(D.value),y(!1),j==null||j(!1)},E=D=>{D.stopPropagation(),v==null||v(a?[]:"")},M=D=>{_(D.target.value)},R=D=>a?(r==null?void 0:r.includes(D))||!1:r===D,F=a?(r==null?void 0:r.length)>0:r!==void 0&&r!=="";return o.jsxs("div",{className:cr("relative",e),children:[c&&o.jsxs("label",{htmlFor:A,className:cr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 mb-2 block",d?"text-destructive":"text-foreground"),children:[c,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{ref:S,id:A,type:"button",className:cr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-white text-black px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",d&&"border-destructive focus:ring-destructive",!F&&"text-muted-foreground"),onClick:N,disabled:s,"aria-expanded":x,"aria-haspopup":"listbox",...w,children:[o.jsx("span",{className:"truncate",children:T()}),o.jsxs("div",{className:"flex items-center gap-1",children:[m&&o.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h&&F&&!m&&o.jsx(G,{variant:"ghost",size:"icon",className:"h-4 w-4",onClick:E,children:o.jsx(BS,{className:"h-3 w-3"})}),o.jsx(qS,{className:cr("h-4 w-4 transition-transform",x&&"rotate-180")})]})]}),o.jsxs("select",{name:g,value:r||"",onChange:()=>{},className:"sr-only",tabIndex:-1,multiple:a,required:l,children:[o.jsx("option",{value:"",children:"Select..."}),t.map(D=>o.jsx("option",{value:D.value,children:D.label},D.value))]}),x&&o.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white text-black border border-border rounded-md shadow-md",children:[f&&o.jsx("div",{className:"p-2 border-b",children:o.jsxs("div",{className:"relative",children:[o.jsx(US,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Ie,{placeholder:"Search options...",value:b,onChange:M,className:"pl-8"})]})}),o.jsx("div",{className:"py-1 max-h-60 overflow-auto",children:O.length===0?o.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:b?"No options found":"No options available"}):O.map(D=>o.jsxs("div",{className:cr("relative flex cursor-pointer select-none items-center rounded-sm px-3 py-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground",R(D.value)&&"bg-primary text-primary-foreground",D.disabled&&"pointer-events-none opacity-50"),onClick:()=>!D.disabled&&P(D),children:[o.jsx("span",{className:"flex-1",children:D.label}),a&&R(D.value)&&o.jsx(WS,{className:"h-4 w-4"}),D.description&&o.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:D.description})]},D.value))})]})]}),u&&!d&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:u}),d&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:d})]})});$t.displayName="Select";const lX=({onSearch:e,onFilter:t,searchQuery:r="",activeFilters:n={},totalResults:i=0})=>{const[a,s]=$.useState(!1),[l,c]=$.useState(r),u=[{value:"",label:"Toutes les catégories"},{value:"Déclencheurs Émotionnels",label:"Déclencheurs Émotionnels"},{value:"Fatigue Décisionnelle",label:"Fatigue Décisionnelle"},{value:"Psychologie des Récompenses",label:"Psychologie des Récompenses"},{value:"Biais Cognitifs",label:"Biais Cognitifs"},{value:"Habitudes Financières",label:"Habitudes Financières"},{value:"Stress et Argent",label:"Stress et Argent"}],d=[{value:"",label:"Tous les niveaux"},{value:"Débutant",label:"Débutant"},{value:"Intermédiaire",label:"Intermédiaire"},{value:"Avancé",label:"Avancé"}],f=[{value:"relevance",label:"Pertinence"},{value:"newest",label:"Plus récent"},{value:"oldest",label:"Plus ancien"},{value:"popular",label:"Populaire"},{value:"reading-time",label:"Temps de lecture"}],h=v=>{v.preventDefault(),e(l)},m=(v,j)=>{const w={...n,[v]:j};t(w)},p=()=>{t({category:"",difficulty:"",sort:"relevance",bookmarked:!1,completed:!1})},g=()=>Object.values(n).filter(v=>v!==""&&v!==!1&&v!=="relevance").length;return o.jsxs("div",{className:"space-y-4",children:[o.jsx("form",{onSubmit:h,className:"relative",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ie,{type:"search",placeholder:"Rechercher des insights neuroscientifiques...",value:l,onChange:v=>c(v.target.value),className:"pl-10 pr-12"}),o.jsx(k,{name:"Search",size:20,color:"var(--color-text-secondary)",className:"absolute left-3 top-1/2 transform -translate-y-1/2"}),l&&o.jsx(G,{type:"button",variant:"ghost",size:"icon",onClick:()=>{c(""),e("")},className:"absolute right-1 top-1/2 transform -translate-y-1/2 w-8 h-8",children:o.jsx(k,{name:"X",size:16})})]})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(G,{variant:"outline",onClick:()=>s(!a),iconName:"Filter",iconPosition:"left",className:"relative",children:["Filtres",g()>0&&o.jsx("span",{className:"absolute -top-2 -right-2 w-5 h-5 bg-primary text-white text-xs rounded-full flex items-center justify-center",children:g()})]}),g()>0&&o.jsx(G,{variant:"ghost",onClick:p,iconName:"X",iconPosition:"left",className:"text-text-secondary",children:"Effacer"})]}),o.jsxs("div",{className:"text-sm text-text-secondary",children:[i," insight",i!==1?"s":""," trouvé",i!==1?"s":""]})]}),a&&o.jsxs("div",{className:"glass rounded-xl p-4 border border-border/20 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx($t,{label:"Catégorie",options:u,value:n.category||"",onChange:v=>m("category",v)}),o.jsx($t,{label:"Niveau",options:d,value:n.difficulty||"",onChange:v=>m("difficulty",v)}),o.jsx($t,{label:"Trier par",options:f,value:n.sort||"relevance",onChange:v=>m("sort",v)}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Filtres rapides"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:n.bookmarked||!1,onChange:v=>m("bookmarked",v.target.checked),className:"w-4 h-4 text-primary border-border rounded focus:ring-primary"}),o.jsx("span",{className:"text-sm text-text-primary",children:"Favoris"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:n.completed||!1,onChange:v=>m("completed",v.target.checked),className:"w-4 h-4 text-primary border-border rounded focus:ring-primary"}),o.jsx("span",{className:"text-sm text-text-primary",children:"Complétés"})]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Recherches populaires"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["Dépenses impulsives","Stress financier","Habitudes d'épargne","Biais de confirmation","Récompenses immédiates","Fatigue décisionnelle"].map(v=>o.jsx("button",{onClick:()=>{c(v),e(v)},className:"px-3 py-1 text-xs bg-primary/10 text-primary rounded-full hover:bg-primary/20 transition-colors duration-200",children:v},v))})]})]})]})},cX=({recommendations:e,onBookmark:t,onShare:r,bookmarkedInsights:n=[]})=>!e||e.length===0?null:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-accent to-warning rounded-xl flex items-center justify-center",children:o.jsx(k,{name:"Sparkles",size:20,color:"white",strokeWidth:2.5})}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-heading font-bold text-xl text-foreground",children:"Recommandé pour vous"}),o.jsx("p",{className:"text-sm text-text-secondary",children:"Basé sur vos patterns comportementaux détectés"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-xs text-text-secondary",children:[o.jsx(k,{name:"TrendingUp",size:14}),o.jsx("span",{children:"Mis à jour quotidiennement"})]})]}),o.jsx("div",{className:"glass rounded-xl p-4 border border-accent/20",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(k,{name:"Brain",size:20,color:"var(--color-accent)"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-heading font-semibold text-base text-foreground mb-2",children:"Pourquoi ces recommandations ?"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(k,{name:"CheckCircle2",size:14,color:"var(--color-success)"}),o.jsx("span",{className:"text-sm text-text-primary",children:"Dépenses émotionnelles détectées dans vos données"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(k,{name:"CheckCircle2",size:14,color:"var(--color-success)"}),o.jsx("span",{className:"text-sm text-text-primary",children:"Patterns de stress financier identifiés"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(k,{name:"CheckCircle2",size:14,color:"var(--color-success)"}),o.jsx("span",{className:"text-sm text-text-primary",children:"Opportunités d'optimisation comportementale"})]})]})]})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(i=>o.jsx(nS,{insight:i,onBookmark:t,onShare:r,isBookmarked:n.includes(i.id),isRecommended:!0},i.id))}),o.jsx("div",{className:"glass rounded-xl p-6 border border-primary/20",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center flex-shrink-0",children:o.jsx(k,{name:"Route",size:24,color:"white",strokeWidth:2})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground mb-2",children:"Parcours d'apprentissage suggéré"}),o.jsx("p",{className:"text-sm text-text-secondary mb-4",children:"Suivez ce parcours personnalisé pour maximiser votre compréhension des mécanismes financiers"}),o.jsx("div",{className:"space-y-3",children:[{step:1,title:"Comprendre vos déclencheurs émotionnels",duration:"15 min",completed:!0},{step:2,title:"Identifier les biais dans vos décisions",duration:"20 min",completed:!1,current:!0},{step:3,title:"Développer des stratégies de contrôle",duration:"25 min",completed:!1}].map(i=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`
                    w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold
                    ${i.completed?"bg-success text-white":i.current?"bg-primary text-white animate-pulse":"bg-muted text-text-secondary"}
                  `,children:i.completed?o.jsx(k,{name:"Check",size:14}):i.step}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:`
                      text-sm font-medium
                      ${i.current?"text-primary":"text-foreground"}
                    `,children:i.title}),o.jsx("div",{className:"text-xs text-text-secondary",children:i.duration})]}),i.current&&o.jsx(k,{name:"ArrowRight",size:16,color:"var(--color-primary)"})]},i.step))})]})]})})]}),uX=({completedModules:e=0,totalModules:t=24,currentStreak:r=0,longestStreak:n=0,weeklyGoal:i=5,weeklyProgress:a=3,achievements:s=[]})=>{const l=e/t*100,c=a/i*100,u=d=>d>=7?"Flame":d>=3?"Zap":"Target";return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"glass rounded-xl p-6 border border-border/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Votre progression"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-primary",children:[Math.round(l),"%"]}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Complété"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{className:"text-text-secondary",children:[e," sur ",t," modules"]}),o.jsxs("span",{className:"text-primary font-medium",children:[t-e," restants"]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary h-3 rounded-full transition-all duration-600 ease-out relative overflow-hidden",style:{width:`${l}%`},children:o.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx("div",{className:"glass rounded-xl p-4 border border-border/20",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-warning to-error rounded-xl flex items-center justify-center",children:o.jsx(k,{name:u(r),size:20,color:"white",strokeWidth:2.5})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xl font-bold text-foreground",children:r}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Série actuelle"})]})]})}),o.jsx("div",{className:"glass rounded-xl p-4 border border-border/20",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-success to-secondary rounded-xl flex items-center justify-center",children:o.jsx(k,{name:"Trophy",size:20,color:"white",strokeWidth:2.5})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xl font-bold text-foreground",children:n}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Record personnel"})]})]})}),o.jsx("div",{className:"glass rounded-xl p-4 border border-border/20",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-xl flex items-center justify-center",children:o.jsx(k,{name:"Calendar",size:20,color:"white",strokeWidth:2.5})}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-xl font-bold text-foreground",children:[a,"/",i]}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Cette semaine"})]})]})}),o.jsx("div",{className:"glass rounded-xl p-4 border border-border/20",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-accent to-warning rounded-xl flex items-center justify-center",children:o.jsx(k,{name:"Award",size:20,color:"white",strokeWidth:2.5})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xl font-bold text-foreground",children:s.length}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Récompenses"})]})]})})]}),o.jsxs("div",{className:"glass rounded-xl p-4 border border-border/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-heading font-semibold text-base text-foreground",children:"Objectif hebdomadaire"}),o.jsxs("span",{className:"text-sm text-primary font-medium",children:[Math.round(c),"%"]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2 mb-2",children:o.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary h-2 rounded-full transition-all duration-300",style:{width:`${c}%`}})}),o.jsxs("div",{className:"text-xs text-text-secondary",children:[i-a," modules restants pour atteindre votre objectif"]})]}),s.length>0&&o.jsxs("div",{className:"glass rounded-xl p-4 border border-border/20",children:[o.jsx("h4",{className:"font-heading font-semibold text-base text-foreground mb-3",children:"Récompenses récentes"}),o.jsx("div",{className:"space-y-3",children:s.slice(0,3).map(d=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`
                  w-8 h-8 rounded-full flex items-center justify-center
                  ${d.rarity==="rare"?"bg-gradient-to-br from-accent to-warning":"bg-gradient-to-br from-primary to-secondary"}
                `,children:o.jsx(k,{name:d.icon,size:16,color:"white",strokeWidth:2.5})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-medium text-foreground",children:d.title}),o.jsx("div",{className:"text-xs text-text-secondary",children:d.description})]}),o.jsx("div",{className:"text-xs text-text-secondary",children:d.earnedDate})]},d.id))})]}),o.jsx("div",{className:"glass rounded-xl p-4 border border-primary/20 bg-gradient-to-r from-primary/5 to-secondary/5",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(k,{name:"MessageCircle",size:20,color:"var(--color-primary)"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-heading font-semibold text-base text-primary mb-1",children:"Conseil du jour"}),o.jsx("p",{className:"text-sm text-text-primary leading-relaxed",children:r>=3?`Excellente série de ${r} jours ! Continuez sur cette lancée pour développer une habitude d'apprentissage durable.`:"Commencez petit : même 5 minutes d'apprentissage par jour peuvent transformer votre relation à l'argent."})]})]})})]})},dX=({onCategorySelect:e,selectedCategory:t=""})=>{const r=[{id:"emotional-triggers",name:"Déclencheurs Émotionnels",description:"Comment les émotions influencent vos décisions financières",icon:"Heart",color:"from-error to-warning",count:8,insights:["Dépenses de compensation émotionnelle","Impact du stress sur les achats impulsifs","Thérapie par le shopping"]},{id:"decision-fatigue",name:"Fatigue Décisionnelle",description:"Pourquoi nous prenons de mauvaises décisions quand nous sommes fatigués",icon:"Brain",color:"from-primary to-secondary",count:6,insights:["Épuisement mental et choix financiers","Optimisation de la prise de décision","Moments critiques de la journée"]},{id:"reward-psychology",name:"Psychologie des Récompenses",description:"Le système de récompense du cerveau et l'argent",icon:"Trophy",color:"from-accent to-warning",count:7,insights:["Dopamine et gratification immédiate","Récompenses différées vs immédiates","Addiction aux achats"]},{id:"cognitive-biases",name:"Biais Cognitifs",description:"Les raccourcis mentaux qui nous trompent avec l'argent",icon:"Eye",color:"from-secondary to-primary",count:9,insights:["Biais de confirmation financier","Effet d'ancrage sur les prix","Aversion aux pertes"]},{id:"financial-habits",name:"Habitudes Financières",description:"Comment se forment et se changent nos habitudes d'argent",icon:"Repeat",color:"from-success to-secondary",count:5,insights:["Formation des habitudes d'épargne","Automatisation des décisions","Changement comportemental durable"]},{id:"stress-money",name:"Stress et Argent",description:"La relation complexe entre stress et comportement financier",icon:"Zap",color:"from-warning to-error",count:4,insights:["Cortisol et prise de risque","Stress chronique et épargne","Techniques de gestion du stress financier"]}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"font-heading font-bold text-2xl text-foreground mb-2",children:"Explorez par catégorie"}),o.jsx("p",{className:"text-text-secondary max-w-2xl mx-auto",children:"Découvrez les mécanismes neuroscientifiques qui gouvernent vos décisions financières"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(n=>{const i=t===n.id;return o.jsxs("button",{onClick:()=>e(n.id),className:`
                glass rounded-xl p-6 border text-left transition-all duration-300
                hover:glass-hover hover:scale-105 group
                ${i?"border-primary/40 ring-2 ring-primary/20":"border-border/20"}
              `,children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:`
                  w-12 h-12 rounded-xl flex items-center justify-center
                  bg-gradient-to-br ${n.color}
                  group-hover:scale-110 transition-transform duration-300
                `,children:o.jsx(k,{name:n.icon,size:24,color:"white",strokeWidth:2.5})}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm font-bold text-primary",children:n.count}),o.jsx("div",{className:"text-xs text-text-secondary",children:"insights"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground group-hover:text-primary transition-colors duration-200",children:n.name}),o.jsx("p",{className:"text-sm text-text-secondary leading-relaxed",children:n.description}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-xs font-medium text-text-secondary uppercase tracking-wide",children:"Sujets clés"}),o.jsx("div",{className:"space-y-1",children:n.insights.map((a,s)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-1 h-1 bg-primary rounded-full"}),o.jsx("span",{className:"text-xs text-text-primary",children:a})]},s))})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border/10",children:[o.jsx("span",{className:"text-xs text-text-secondary",children:"Cliquez pour explorer"}),o.jsx(k,{name:"ArrowRight",size:16,color:"var(--color-primary)",className:"group-hover:translate-x-1 transition-transform duration-200"})]})]},n.id)})}),o.jsx("div",{className:"glass rounded-xl p-6 border border-border/20",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary mb-1",children:"39"}),o.jsx("div",{className:"text-sm text-text-secondary",children:"Insights totaux"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-success mb-1",children:"156"}),o.jsx("div",{className:"text-sm text-text-secondary",children:"Sources vérifiées"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-accent mb-1",children:"12"}),o.jsx("div",{className:"text-sm text-text-secondary",children:"Nouveautés ce mois"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-secondary mb-1",children:"4.8"}),o.jsx("div",{className:"text-sm text-text-secondary",children:"Note moyenne"})]})]})})]})},fX=()=>{const e=Zr(),[t,r]=$.useState(""),[n,i]=$.useState({category:"",difficulty:"",sort:"relevance",bookmarked:!1,completed:!1}),[a,s]=$.useState(""),[l,c]=$.useState([]),[u,d]=$.useState([]),[f,h]=$.useState("grid"),[m,p]=$.useState(!0),g=[{id:1,title:"L'Impact des Émotions sur les Décisions d'Achat",description:"Découvrez comment le système limbique influence vos choix financiers et comment reprendre le contrôle de vos dépenses émotionnelles.",category:"Déclencheurs Émotionnels",difficulty:"Débutant",readingTime:8,image:"https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=300&fit=crop",publicationDate:"15 Jan 2025",citations:23,progress:0,detailedExplanation:`Le cerveau humain traite les décisions financières dans deux systèmes distincts : le système limbique (émotionnel) et le cortex préfrontal (rationnel).

Lorsque nous sommes stressés, fatigués ou émotionnellement chargés, le système limbique prend le dessus, nous poussant vers des décisions impulsives. C'est pourquoi nous achetons souvent des choses dont nous n'avons pas besoin quand nous nous sentons tristes, anxieux ou même très heureux.

Les neurosciences montrent que les émotions positives et négatives peuvent toutes deux déclencher des comportements d'achat compensatoires. La dopamine, libérée lors d'un achat, procure une satisfaction temporaire qui peut créer une dépendance.`,practicalApplications:["Identifiez vos déclencheurs émotionnels avant de faire des achats importants","Instaurez une règle des 24 heures pour les achats non essentiels","Créez un environnement d'achat moins stimulant (supprimez les apps, évitez les centres commerciaux quand vous êtes vulnérable)","Développez des alternatives saines pour gérer vos émotions (sport, méditation, appel à un ami)"],personalRelevance:"Vos données montrent des pics de dépenses les vendredis soirs et après des journées stressantes. Cette corrélation suggère un pattern de dépenses émotionnelles compensatoires.",quiz:[{question:"Quel système cérébral est principalement responsable des achats impulsifs ?",options:["Le cortex préfrontal","Le système limbique","L'hippocampe","Le cervelet"]},{question:"Quelle hormone est libérée lors d'un achat et procure du plaisir ?",options:["La sérotonine","Le cortisol","La dopamine","L'adrénaline"]}],sources:[{title:"Emotional Decision Making and Financial Behavior",authors:"Dr. Sarah Chen, Prof. Michael Rodriguez",journal:"Journal of Behavioral Economics",year:"2024"},{title:"Neuroscience of Consumer Behavior",authors:"Dr. Emma Thompson",journal:"Cognitive Science Review",year:"2023"}]},{id:2,title:"La Fatigue Décisionnelle et Vos Finances",description:"Pourquoi nous prenons de mauvaises décisions financières en fin de journée et comment optimiser notre énergie mentale.",category:"Fatigue Décisionnelle",difficulty:"Intermédiaire",readingTime:12,image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=300&fit=crop",publicationDate:"12 Jan 2025",citations:31,progress:45,detailedExplanation:`La fatigue décisionnelle est un phénomène neurologique où notre capacité à prendre des décisions de qualité diminue après avoir pris de nombreuses décisions.

Le cortex préfrontal, responsable de la prise de décision rationnelle, consomme énormément d'énergie. Comme un muscle, il se fatigue avec l'usage. C'est pourquoi nous sommes plus susceptibles de céder aux tentations financières en fin de journée.

Les études montrent que les juges prononcent des sentences plus sévères le matin et sont plus cléments après le déjeuner. Le même principe s'applique à nos décisions financières : nous sommes plus disciplinés le matin et plus impulsifs le soir.`,practicalApplications:["Planifiez vos décisions financières importantes le matin","Automatisez vos épargnes et investissements pour éviter la fatigue décisionnelle","Créez des règles simples pour les décisions récurrentes","Prenez des pauses régulières lors de sessions de planification financière longues"],personalRelevance:"Vos achats en ligne se concentrent entre 19h et 22h, période de fatigue décisionnelle maximale. Considérez bloquer les sites d'achat après 18h.",quiz:[{question:"À quel moment de la journée notre capacité décisionnelle est-elle optimale ?",options:["Le matin","L'après-midi","Le soir","La nuit"]}],sources:[{title:"Decision Fatigue and Financial Choices",authors:"Dr. James Wilson, Dr. Lisa Park",journal:"Behavioral Finance Quarterly",year:"2024"}]},{id:3,title:"Le Système de Récompense et l'Argent",description:"Comment la dopamine influence nos habitudes d'épargne et de dépense, et comment utiliser cette connaissance à notre avantage.",category:"Psychologie des Récompenses",difficulty:"Avancé",readingTime:15,image:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=400&h=300&fit=crop",publicationDate:"10 Jan 2025",citations:42,progress:0,detailedExplanation:`Le système de récompense du cerveau, centré sur la dopamine, joue un rôle crucial dans nos comportements financiers.

La dopamine n'est pas libérée lors de la récompense elle-même, mais en anticipation de celle-ci. C'est pourquoi l'acte d'acheter procure souvent plus de plaisir que la possession de l'objet acheté.

Ce système peut être "piraté" par le marketing et les techniques de vente, mais il peut aussi être utilisé positivement pour développer de bonnes habitudes financières en créant des récompenses pour l'épargne et les investissements.`,practicalApplications:["Créez des récompenses immédiates pour vos objectifs d'épargne","Visualisez vos objectifs financiers pour activer le système de récompense","Utilisez des applications qui gamifient l'épargne","Célébrez vos petites victoires financières"],quiz:[{question:"Quand la dopamine est-elle principalement libérée ?",options:["Pendant la récompense","Après la récompense","En anticipation de la récompense","Jamais"]}],sources:[{title:"Dopamine and Financial Behavior",authors:"Dr. Robert Kim, Dr. Anna Martinez",journal:"Neuroscience & Economics",year:"2024"}]},{id:4,title:"Les Biais Cognitifs dans l'Investissement",description:"Identifiez et surmontez les biais mentaux qui sabotent vos décisions d'investissement.",category:"Biais Cognitifs",difficulty:"Intermédiaire",readingTime:10,image:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=400&h=300&fit=crop",publicationDate:"08 Jan 2025",citations:28,progress:100,detailedExplanation:`Les biais cognitifs sont des déviations systématiques de la rationalité dans notre prise de décision.

En finance, ces biais peuvent coûter cher : biais de confirmation (chercher uniquement les informations qui confirment nos croyances), effet d'ancrage (se fier trop fortement à la première information reçue), aversion aux pertes (préférer éviter les pertes plutôt que d'acquérir des gains équivalents).

Comprendre ces biais permet de mettre en place des stratégies pour les contourner et prendre des décisions plus rationnelles.`,practicalApplications:["Diversifiez vos sources d'information financière","Utilisez des règles de décision prédéfinies","Demandez l'avis d'une tierce personne pour les décisions importantes","Tenez un journal de vos décisions pour identifier vos patterns de biais"],quiz:[{question:"Qu'est-ce que l'aversion aux pertes ?",options:["La peur de perdre de l'argent","Préférer éviter les pertes plutôt que d'acquérir des gains équivalents","Ne jamais investir","Investir uniquement dans des produits sûrs"]}],sources:[{title:"Cognitive Biases in Investment Decisions",authors:"Dr. Helen Chang, Prof. David Brown",journal:"Investment Psychology Review",year:"2023"}]},{id:5,title:"Formation des Habitudes Financières",description:"La science derrière la création d'habitudes durables d'épargne et de gestion financière.",category:"Habitudes Financières",difficulty:"Débutant",readingTime:7,image:"https://images.unsplash.com/photo-1554224154-26032fced8bd?w=400&h=300&fit=crop",publicationDate:"05 Jan 2025",citations:19,progress:30,detailedExplanation:`Les habitudes se forment dans les ganglions de la base, une région du cerveau qui automatise les comportements répétitifs.

Une habitude suit toujours le même schéma : signal → routine → récompense. Pour créer une habitude d'épargne durable, il faut identifier le bon signal (par exemple, recevoir son salaire), définir une routine simple (virer automatiquement 10% sur un compte épargne), et s'assurer d'une récompense (visualiser ses objectifs atteints).

Les neurosciences montrent qu'il faut en moyenne 66 jours pour qu'une nouvelle habitude devienne automatique.`,practicalApplications:["Commencez par de petites habitudes (épargner 1€ par jour)","Liez vos nouvelles habitudes à des habitudes existantes","Créez un environnement qui favorise les bonnes habitudes","Suivez vos progrès visuellement"],quiz:[{question:"Combien de temps faut-il en moyenne pour qu'une habitude devienne automatique ?",options:["21 jours","30 jours","66 jours","100 jours"]}],sources:[{title:"The Neuroscience of Habit Formation",authors:"Dr. Maria Garcia, Dr. John Smith",journal:"Behavioral Science Today",year:"2024"}]},{id:6,title:"Stress Financier et Cortisol",description:"Comment le stress chronique affecte vos décisions financières et votre capacité d'épargne.",category:"Stress et Argent",difficulty:"Intermédiaire",readingTime:9,image:"https://images.unsplash.com/photo-1551836022-deb4988cc6c0?w=400&h=300&fit=crop",publicationDate:"03 Jan 2025",citations:35,progress:0,detailedExplanation:`Le stress financier déclenche la libération de cortisol, l'hormone du stress, qui affecte directement notre capacité à prendre des décisions rationnelles.

Le cortisol chronique réduit l'activité du cortex préfrontal et augmente l'activité de l'amygdale, nous rendant plus impulsifs et moins capables de planifier à long terme. C'est un cercle vicieux : le stress financier nous fait prendre de mauvaises décisions, qui créent plus de stress.

Les techniques de gestion du stress peuvent littéralement améliorer nos capacités financières en restaurant l'équilibre hormonal optimal pour la prise de décision.`,practicalApplications:["Pratiquez la méditation ou la respiration profonde avant les décisions financières importantes","Créez un fonds d'urgence pour réduire l'anxiété financière","Séparez les émotions des décisions financières","Consultez un professionnel si le stress financier devient chronique"],quiz:[{question:"Quelle hormone est principalement libérée lors du stress financier ?",options:["La dopamine","La sérotonine","Le cortisol","L'adrénaline"]}],sources:[{title:"Financial Stress and Cortisol Impact",authors:"Dr. Rachel Green, Dr. Mark Johnson",journal:"Stress & Finance Quarterly",year:"2024"}]}],v=[g[0],g[1],g[5]],j={completedModules:8,totalModules:24,currentStreak:5,longestStreak:12,weeklyGoal:5,weeklyProgress:3,achievements:[{id:1,title:"Premier Insight Complété",description:"Vous avez terminé votre premier module d'apprentissage",icon:"BookOpen",rarity:"common",earnedDate:"Il y a 2 jours"},{id:2,title:"Série de 5 Jours",description:"Apprentissage quotidien pendant 5 jours consécutifs",icon:"Flame",rarity:"rare",earnedDate:"Aujourd'hui"}]},S=[...g.filter(A=>{const O=t===""||A.title.toLowerCase().includes(t.toLowerCase())||A.description.toLowerCase().includes(t.toLowerCase())||A.category.toLowerCase().includes(t.toLowerCase()),T=n.category===""||A.category===n.category,N=n.difficulty===""||A.difficulty===n.difficulty,P=!n.bookmarked||l.includes(A.id),E=!n.completed||A.progress===100;return O&&T&&N&&P&&E})].sort((A,O)=>{switch(n.sort){case"newest":return new Date(O.publicationDate)-new Date(A.publicationDate);case"oldest":return new Date(A.publicationDate)-new Date(O.publicationDate);case"popular":return O.citations-A.citations;case"reading-time":return A.readingTime-O.readingTime;default:return 0}}),x=A=>{c(N=>N.includes(A)?N.filter(P=>P!==A):[...N,A]);const O=g.find(N=>N.id===A),T=l.includes(A);d(N=>[{id:Date.now(),type:"success",title:T?"Favori retiré":"Ajouté aux favoris",message:`"${O.title}" ${T?"retiré de vos":"ajouté à vos"} favoris.`,persistent:!1},...N])},y=A=>{d(O=>[{id:Date.now(),type:"insight",title:"Insight partagé",message:`"${A.title}" a été copié dans votre presse-papiers.`,persistent:!1},...O])},b=A=>{s(A);const O={"emotional-triggers":"Déclencheurs Émotionnels","decision-fatigue":"Fatigue Décisionnelle","reward-psychology":"Psychologie des Récompenses","cognitive-biases":"Biais Cognitifs","financial-habits":"Habitudes Financières","stress-money":"Stress et Argent"};i(T=>({...T,category:O[A]||""}))},_=A=>{d(O=>O.filter(T=>T.id!==A))};return $.useEffect(()=>{d([{id:Date.now(),type:"insight",title:"Bienvenue dans votre bibliothèque d'insights !",message:"Découvrez comment la neuroscience peut transformer votre relation à l'argent.",details:"Explorez nos 39 insights basés sur des recherches scientifiques vérifiées.",persistent:!1}])},[]),o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ta,{}),o.jsxs("div",{className:"pt-16",children:[o.jsx("div",{className:"border-b border-border/20 bg-surface/50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:o.jsx(ra,{currentStep:5,totalSteps:6,variant:"minimal"})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center",children:o.jsx(k,{name:"Brain",size:28,color:"white",strokeWidth:2.5})}),o.jsx("h1",{className:"font-heading font-bold text-3xl md:text-4xl text-foreground",children:"Bibliothèque d'Insights Neuroscientifiques"})]}),o.jsx("p",{className:"text-lg text-text-secondary max-w-3xl mx-auto",children:"Découvrez les mécanismes cérébraux qui gouvernent vos décisions financières et apprenez à optimiser votre comportement grâce à la science."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-8",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(G,{variant:f==="grid"?"default":"outline",onClick:()=>h("grid"),iconName:"Grid3X3",iconPosition:"left",children:"Grille"}),o.jsx(G,{variant:f==="list"?"default":"outline",onClick:()=>h("list"),iconName:"List",iconPosition:"left",children:"Liste"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(G,{variant:"outline",onClick:()=>p(!m),iconName:m?"EyeOff":"Eye",iconPosition:"left",children:[m?"Masquer":"Afficher"," progression"]}),o.jsx(G,{variant:"outline",onClick:()=>e("/financial-health-dashboard"),iconName:"BarChart3",iconPosition:"left",children:"Tableau de bord"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[o.jsx(lX,{onSearch:r,onFilter:i,searchQuery:t,activeFilters:n,totalResults:S.length}),t===""&&n.category===""&&o.jsx(dX,{onCategorySelect:b,selectedCategory:a}),t===""&&n.category===""&&o.jsx(cX,{recommendations:v,onBookmark:x,onShare:y,bookmarkedInsights:l}),(t!==""||n.category!=="")&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"font-heading font-bold text-xl text-foreground",children:n.category?`${n.category}`:"Résultats de recherche"}),o.jsxs("span",{className:"text-sm text-text-secondary",children:[S.length," résultat",S.length!==1?"s":""]})]}),o.jsx("div",{className:`
                    ${f==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6"}
                  `,children:S.map(A=>o.jsx(nS,{insight:A,onBookmark:x,onShare:y,isBookmarked:l.includes(A.id)},A.id))}),S.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(k,{name:"Search",size:48,color:"var(--color-text-secondary)",className:"mx-auto mb-4"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground mb-2",children:"Aucun résultat trouvé"}),o.jsx("p",{className:"text-text-secondary mb-4",children:"Essayez de modifier vos critères de recherche ou explorez nos catégories."}),o.jsx(G,{variant:"outline",onClick:()=>{r(""),i({category:"",difficulty:"",sort:"relevance",bookmarked:!1,completed:!1})},children:"Réinitialiser les filtres"})]})]})]}),m&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"sticky top-24",children:o.jsx(uX,{completedModules:j.completedModules,totalModules:j.totalModules,currentStreak:j.currentStreak,longestStreak:j.longestStreak,weeklyGoal:j.weeklyGoal,weeklyProgress:j.weeklyProgress,achievements:j.achievements})})})]})]})]}),o.jsx(na,{notifications:u,onDismiss:_,position:"top",maxVisible:3,autoHideDelay:5e3})]})},hX=()=>{const[e,t]=$.useState(!1),r=gh(),n=Zr(),i=[{title:"",items:[{id:"dashboard",label:"Dashboard",path:"/financial-health-dashboard",icon:"LayoutDashboard"},{id:"calendar",label:"Calendar",path:"/financial-question-input",icon:"Calendar"},{id:"tasks",label:"My Tasks",path:"/financial-data-entry-dashboard",icon:"CheckSquare"},{id:"statistics",label:"Statistics",path:"/personalized-financial-equation-visualization",icon:"BarChart3"},{id:"documents",label:"Documents",path:"/neuroscience-insights-library",icon:"FileText"}]},{title:"INTEGRATIONS",items:[{id:"scenarios",label:"Scenarios",path:"/interactive-scenario-simulator",icon:"Zap"},{id:"insights",label:"Insights",path:"/neuroscience-insights-library",icon:"Brain"},{id:"add-plugin",label:"Add new plugin",path:"#",icon:"Plus"}]},{title:"TEAMS",items:[{id:"analysis",label:"Analysis",path:"/personalized-financial-equation-visualization",icon:"TrendingUp"},{id:"reports",label:"Reports",path:"/financial-health-dashboard",icon:"FileBarChart"}]}],a=l=>{l!=="#"&&n(l)},s=()=>{t(!e)};return o.jsx("aside",{className:`
      fixed left-0 top-0 h-full bg-white border-r border-gray-200 z-40 transition-all duration-300 ease-in-out
      ${e?"w-16":"w-60"}
    `,children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[!e&&o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:o.jsx(k,{name:"TrendingUp",size:18,color:"white"})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Rivela"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Financial Explorer"})]})]}),o.jsx(G,{variant:"ghost",size:"sm",onClick:s,className:"p-1",children:o.jsx(k,{name:e?"ChevronRight":"ChevronLeft",size:16})})]}),o.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:i.map((l,c)=>o.jsxs("div",{className:"px-3 mb-6",children:[l.title&&!e&&o.jsx("h3",{className:"mb-3 px-3 text-xs font-medium text-gray-400 uppercase tracking-wider",children:l.title}),o.jsx("div",{className:"space-y-1",children:l.items.map(u=>{const d=r.pathname===u.path;return o.jsxs("button",{onClick:()=>a(u.path),className:`
                        w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors
                        ${d?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                        ${e?"justify-center":"justify-start"}
                      `,title:e?u.label:"",children:[o.jsx(k,{name:u.icon,size:18,color:d?"#1d4ed8":"currentColor"}),!e&&o.jsx("span",{className:"ml-3",children:u.label})]},u.id)})})]},c))}),o.jsx("div",{className:"p-3 border-t border-gray-100",children:o.jsxs("button",{onClick:()=>a("/settings"),className:`
              w-full flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg
              hover:bg-gray-50 hover:text-gray-900 transition-colors
              ${e?"justify-center":"justify-start"}
            `,title:e?"Settings":"",children:[o.jsx(k,{name:"Settings",size:18}),!e&&o.jsx("span",{className:"ml-3",children:"Settings"})]})})]})})},mX=({userName:e="Dilan",onCreateClick:t,onSearchClick:r,onNotificationClick:n})=>o.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-semibold text-gray-900",children:["Hi, ",e,"!"]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Welcome back to your financial dashboard"})]})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(G,{variant:"ghost",size:"sm",onClick:r,className:"p-2",children:o.jsx(k,{name:"Search",size:20,color:"#6B7280"})}),o.jsxs(G,{variant:"ghost",size:"sm",onClick:n,className:"p-2 relative",children:[o.jsx(k,{name:"Bell",size:20,color:"#6B7280"}),o.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),o.jsx(G,{variant:"default",onClick:t,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium",children:"Create"})]})]})}),ci=({title:e,children:t,className:r="",variant:n="white",action:i,subtitle:a,icon:s})=>{const l="rounded-xl p-6 transition-all duration-200",c={white:"bg-white border border-gray-200 shadow-sm hover:shadow-md",dark:"bg-gray-800 text-white shadow-lg"};return o.jsxs("div",{className:`${l} ${c[n]} ${r}`,children:[(e||i||s)&&o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[s&&o.jsx("div",{className:`p-2 rounded-lg ${n==="dark"?"bg-gray-700":"bg-gray-100"}`,children:o.jsx(k,{name:s,size:20,color:n==="dark"?"#FFFFFF":"#374151"})}),o.jsxs("div",{children:[e&&o.jsx("h3",{className:`font-semibold ${n==="dark"?"text-white":"text-gray-900"}`,children:e}),a&&o.jsx("p",{className:`text-sm ${n==="dark"?"text-gray-300":"text-gray-500"}`,children:a})]})]}),i&&i]}),o.jsx("div",{children:t})]})},Qx=({progress:e=0,size:t=120,strokeWidth:r=8,color:n="#4299E1",backgroundColor:i="#E2E8F0",showPercentage:a=!0,className:s=""})=>{const l=(t-r)/2,c=l*2*Math.PI,u=c,d=c-e/100*c;return o.jsxs("div",{className:`relative inline-flex items-center justify-center ${s}`,children:[o.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[o.jsx("circle",{cx:t/2,cy:t/2,r:l,fill:"transparent",stroke:i,strokeWidth:r}),o.jsx("circle",{cx:t/2,cy:t/2,r:l,fill:"transparent",stroke:n,strokeWidth:r,strokeLinecap:"round",strokeDasharray:u,strokeDashoffset:d,className:"transition-all duration-500 ease-in-out"})]}),a&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[Math.round(e),"%"]})})]})},pX=({title:e,description:t,dueDate:r,priority:n="medium",status:i="pending",onComplete:a,onEdit:s})=>{const l={low:"text-green-600 bg-green-50",medium:"text-yellow-600 bg-yellow-50",high:"text-red-600 bg-red-50"},c={pending:"Clock",completed:"CheckCircle",in_progress:"PlayCircle"};return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow duration-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:e}),t&&o.jsx("p",{className:"text-sm text-gray-600",children:t})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l[n]}`,children:n})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[o.jsx(k,{name:c[i],size:16}),o.jsx("span",{children:r})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[s&&o.jsx(G,{variant:"ghost",size:"sm",onClick:s,children:o.jsx(k,{name:"Edit",size:16})}),a&&i!=="completed"&&o.jsx(G,{variant:"ghost",size:"sm",onClick:a,children:o.jsx(k,{name:"Check",size:16})})]})]})]})},Zx=()=>{const e=Zr(),[t,r]=$.useState({tasksCompleted:43,projectsFinished:2,weeklyProgress:75,monthlyProgress:102,goals:[{id:1,text:"Reduce expenses by 15%",completed:!0},{id:2,text:"Increase savings rate",completed:!1},{id:3,text:"Complete investment course",completed:!0},{id:4,text:"Build emergency fund",completed:!1}],tasks:[{id:1,title:"Review monthly budget",description:"Analyze spending patterns",dueDate:"Today",priority:"high",status:"pending"},{id:2,title:"Update investment portfolio",description:"Rebalance asset allocation",dueDate:"Tomorrow",priority:"medium",status:"in_progress"}],projects:[{id:1,title:"Financial Analysis",status:"In progress",progress:65},{id:2,title:"Budget Optimization",status:"Completed",progress:100},{id:3,title:"Investment Strategy",status:"In progress",progress:30}]}),n=()=>{e("/financial-data-entry-dashboard")},i=s=>{r(l=>({...l,tasks:l.tasks.map(c=>c.id===s?{...c,status:"completed"}:c)}))},a=s=>{r(l=>({...l,goals:l.goals.map(c=>c.id===s?{...c,completed:!c.completed}:c)}))};return o.jsxs("div",{className:"flex h-screen bg-gray-50",children:[o.jsx(hX,{}),o.jsxs("div",{className:"flex-1 flex flex-col ml-60",children:[o.jsx(mX,{onCreateClick:n,onSearchClick:()=>{},onNotificationClick:()=>{}}),o.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsx(ci,{title:"Overall Information",variant:"dark",className:"mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:t.tasksCompleted}),o.jsx("div",{className:"text-gray-300",children:"Tasks done this year"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:t.projectsFinished}),o.jsx("div",{className:"text-gray-300",children:"projects are finished"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(ci,{title:"Weekly progress",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"h-20 flex items-end space-x-1 mb-4",children:[30,45,60,40,70,55,75].map((s,l)=>o.jsx("div",{className:"bg-blue-500 rounded-t flex-1",style:{height:`${s}%`}},l))}),o.jsx("div",{className:"text-sm text-gray-600",children:"Sport • Study • Project"})]}),o.jsx("div",{className:"ml-6",children:o.jsx(Qx,{progress:t.weeklyProgress,size:80})})]})}),o.jsx(ci,{title:"Month progress",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"text-2xl font-bold text-gray-900 mb-2",children:[t.monthlyProgress,"%"]}),o.jsx("div",{className:"text-sm text-green-600 mb-4",children:"+20% compared to last month"}),o.jsx(G,{variant:"outline",size:"sm",children:"Download Report"})]}),o.jsx("div",{className:"ml-6",children:o.jsx(Qx,{progress:t.monthlyProgress,size:80,color:"#48BB78"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(ci,{title:"Month goals:",children:o.jsx("div",{className:"space-y-3",children:t.goals.map(s=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:()=>a(s.id),className:`w-5 h-5 rounded border-2 flex items-center justify-center ${s.completed?"bg-green-500 border-green-500":"border-gray-300 hover:border-gray-400"}`,children:s.completed&&o.jsx(k,{name:"Check",size:12,color:"white"})}),o.jsx("span",{className:`${s.completed?"line-through text-gray-500":"text-gray-900"}`,children:s.text})]},s.id))})}),o.jsx(ci,{title:`Task in process (${t.tasks.length})`,children:o.jsxs("div",{className:"space-y-3",children:[t.tasks.map(s=>o.jsx(pX,{title:s.title,description:s.description,dueDate:s.dueDate,priority:s.priority,status:s.status,onComplete:()=>i(s.id)},s.id)),o.jsxs(G,{variant:"outline",className:"w-full mt-3",children:[o.jsx(k,{name:"Plus",size:16,className:"mr-2"}),"Add task"]})]})})]}),o.jsx(ci,{title:"Last Projects",action:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Sort by"}),o.jsx(G,{variant:"ghost",size:"sm",children:o.jsx(k,{name:"ChevronDown",size:16})})]}),children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.projects.map(s=>o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("div",{className:"h-24 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg mb-3"}),o.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:s.title}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${s.status==="Completed"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:s.status}),o.jsxs("span",{className:"text-sm text-gray-600",children:[s.progress,"%"]})]})]},s.id))})})]})})]})]})};var fo=e=>e.type==="checkbox",Rn=e=>e instanceof Date,Ot=e=>e==null;const iS=e=>typeof e=="object";var Qe=e=>!Ot(e)&&!Array.isArray(e)&&iS(e)&&!Rn(e),gX=e=>Qe(e)&&e.target?fo(e.target)?e.target.checked:e.target.value:e,vX=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,yX=(e,t)=>e.has(vX(t)),xX=e=>{const t=e.constructor&&e.constructor.prototype;return Qe(t)&&t.hasOwnProperty("isPrototypeOf")},Km=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function dt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Km&&(e instanceof Blob||n))&&(r||Qe(e)))if(t=r?[]:{},!r&&!xX(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=dt(e[i]));else return e;return t}var wu=e=>/^\w*$/.test(e),tt=e=>e===void 0,Xm=e=>Array.isArray(e)?e.filter(Boolean):[],Ym=e=>Xm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),oe=(e,t,r)=>{if(!t||!Qe(e))return r;const n=(wu(t)?[t]:Ym(t)).reduce((i,a)=>Ot(i)?i:i[a],e);return tt(n)||n===e?tt(e[t])?r:e[t]:n},br=e=>typeof e=="boolean",Ve=(e,t,r)=>{let n=-1;const i=wu(t)?[t]:Ym(t),a=i.length,s=a-1;for(;++n<a;){const l=i[n];let c=r;if(n!==s){const u=e[l];c=Qe(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const eb={BLUR:"blur",FOCUS_OUT:"focusout"},dr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Lr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},bX=C.createContext(null);bX.displayName="HookFormContext";var wX=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const s=a;return t._proxyFormState[s]!==dr.all&&(t._proxyFormState[s]=!n||dr.all),e[s]}});return i};const jX=typeof window<"u"?C.useLayoutEffect:C.useEffect;var _r=e=>typeof e=="string",_X=(e,t,r,n,i)=>_r(e)?(n&&t.watch.add(e),oe(r,e,i)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),oe(r,a))):(n&&(t.watchAll=!0),r),dh=e=>Ot(e)||!iS(e);function dn(e,t,r=new WeakSet){if(dh(e)||dh(t))return e===t;if(Rn(e)&&Rn(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const s=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Rn(s)&&Rn(l)||Qe(s)&&Qe(l)||Array.isArray(s)&&Array.isArray(l)?!dn(s,l,r):s!==l)return!1}}return!0}var SX=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},us=e=>Array.isArray(e)?e:[e],tb=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},kt=e=>Qe(e)&&!Object.keys(e).length,Jm=e=>e.type==="file",fr=e=>typeof e=="function",pc=e=>{if(!Km)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},aS=e=>e.type==="select-multiple",Qm=e=>e.type==="radio",AX=e=>Qm(e)||fo(e),md=e=>pc(e)&&e.isConnected;function NX(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=tt(e)?n++:e[t[n++]];return e}function OX(e){for(const t in e)if(e.hasOwnProperty(t)&&!tt(e[t]))return!1;return!0}function Ze(e,t){const r=Array.isArray(t)?t:wu(t)?[t]:Ym(t),n=r.length===1?e:NX(e,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Qe(n)&&kt(n)||Array.isArray(n)&&OX(n))&&Ze(e,r.slice(0,-1)),e}var sS=e=>{for(const t in e)if(fr(e[t]))return!0;return!1};function gc(e,t={}){const r=Array.isArray(e);if(Qe(e)||r)for(const n in e)Array.isArray(e[n])||Qe(e[n])&&!sS(e[n])?(t[n]=Array.isArray(e[n])?[]:{},gc(e[n],t[n])):Ot(e[n])||(t[n]=!0);return t}function oS(e,t,r){const n=Array.isArray(e);if(Qe(e)||n)for(const i in e)Array.isArray(e[i])||Qe(e[i])&&!sS(e[i])?tt(t)||dh(r[i])?r[i]=Array.isArray(e[i])?gc(e[i],[]):{...gc(e[i])}:oS(e[i],Ot(t)?{}:t[i],r[i]):r[i]=!dn(e[i],t[i]);return r}var La=(e,t)=>oS(e,t,gc(t));const rb={value:!1,isValid:!1},nb={value:!0,isValid:!0};var lS=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!tt(e[0].attributes.value)?tt(e[0].value)||e[0].value===""?nb:{value:e[0].value,isValid:!0}:nb:rb}return rb},cS=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>tt(e)?e:t?e===""?NaN:e&&+e:r&&_r(e)?new Date(e):n?n(e):e;const ib={isValid:!1,value:null};var uS=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ib):ib;function ab(e){const t=e.ref;return Jm(t)?t.files:Qm(t)?uS(e.refs).value:aS(t)?[...t.selectedOptions].map(({value:r})=>r):fo(t)?lS(e.refs).value:cS(tt(t.value)?e.ref.value:t.value,e)}var PX=(e,t,r,n)=>{const i={};for(const a of e){const s=oe(t,a);s&&Ve(i,a,s._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},vc=e=>e instanceof RegExp,Fa=e=>tt(e)?e:vc(e)?e.source:Qe(e)?vc(e.value)?e.value.source:e.value:e,sb=e=>({isOnSubmit:!e||e===dr.onSubmit,isOnBlur:e===dr.onBlur,isOnChange:e===dr.onChange,isOnAll:e===dr.all,isOnTouch:e===dr.onTouched});const ob="AsyncFunction";var CX=e=>!!e&&!!e.validate&&!!(fr(e.validate)&&e.validate.constructor.name===ob||Qe(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ob)),EX=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),lb=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ds=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const a=oe(e,i);if(a){const{_f:s,...l}=a;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(ds(l,t))break}else if(Qe(l)&&ds(l,t))break}}};function cb(e,t,r){const n=oe(e,r);if(n||wu(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=oe(t,a),l=oe(e,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:r}}var $X=(e,t,r,n)=>{r(e);const{name:i,...a}=e;return kt(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(s=>t[s]===(!n||dr.all))},TX=(e,t,r)=>!e||!t||e===t||us(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),kX=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,IX=(e,t)=>!Xm(oe(e,t)).length&&Ze(e,t),MX=(e,t,r)=>{const n=us(oe(e,r));return Ve(n,"root",t[r]),Ve(e,r,n),e},Qo=e=>_r(e);function ub(e,t,r="validate"){if(Qo(e)||Array.isArray(e)&&e.every(Qo)||br(e)&&!e)return{type:r,message:Qo(e)?e:"",ref:t}}var ui=e=>Qe(e)&&!vc(e)?e:{value:e,message:""},db=async(e,t,r,n,i,a)=>{const{ref:s,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:p,name:g,valueAsNumber:v,mount:j}=e._f,w=oe(r,g);if(!j||t.has(g))return{};const S=l?l[0]:s,x=P=>{i&&S.reportValidity&&(S.setCustomValidity(br(P)?"":P||""),S.reportValidity())},y={},b=Qm(s),_=fo(s),A=b||_,O=(v||Jm(s))&&tt(s.value)&&tt(w)||pc(s)&&s.value===""||w===""||Array.isArray(w)&&!w.length,T=SX.bind(null,g,n,y),N=(P,E,M,R=Lr.maxLength,F=Lr.minLength)=>{const D=P?E:M;y[g]={type:P?R:F,message:D,ref:s,...T(P?R:F,D)}};if(a?!Array.isArray(w)||!w.length:c&&(!A&&(O||Ot(w))||br(w)&&!w||_&&!lS(l).isValid||b&&!uS(l).isValid)){const{value:P,message:E}=Qo(c)?{value:!!c,message:c}:ui(c);if(P&&(y[g]={type:Lr.required,message:E,ref:S,...T(Lr.required,E)},!n))return x(E),y}if(!O&&(!Ot(f)||!Ot(h))){let P,E;const M=ui(h),R=ui(f);if(!Ot(w)&&!isNaN(w)){const F=s.valueAsNumber||w&&+w;Ot(M.value)||(P=F>M.value),Ot(R.value)||(E=F<R.value)}else{const F=s.valueAsDate||new Date(w),D=W=>new Date(new Date().toDateString()+" "+W),z=s.type=="time",H=s.type=="week";_r(M.value)&&w&&(P=z?D(w)>D(M.value):H?w>M.value:F>new Date(M.value)),_r(R.value)&&w&&(E=z?D(w)<D(R.value):H?w<R.value:F<new Date(R.value))}if((P||E)&&(N(!!P,M.message,R.message,Lr.max,Lr.min),!n))return x(y[g].message),y}if((u||d)&&!O&&(_r(w)||a&&Array.isArray(w))){const P=ui(u),E=ui(d),M=!Ot(P.value)&&w.length>+P.value,R=!Ot(E.value)&&w.length<+E.value;if((M||R)&&(N(M,P.message,E.message),!n))return x(y[g].message),y}if(m&&!O&&_r(w)){const{value:P,message:E}=ui(m);if(vc(P)&&!w.match(P)&&(y[g]={type:Lr.pattern,message:E,ref:s,...T(Lr.pattern,E)},!n))return x(E),y}if(p){if(fr(p)){const P=await p(w,r),E=ub(P,S);if(E&&(y[g]={...E,...T(Lr.validate,E.message)},!n))return x(E.message),y}else if(Qe(p)){let P={};for(const E in p){if(!kt(P)&&!n)break;const M=ub(await p[E](w,r),S,E);M&&(P={...M,...T(E,M.message)},x(M.message),n&&(y[g]=P))}if(!kt(P)&&(y[g]={ref:S,...P},!n))return y}}return x(!0),y};const RX={mode:dr.onSubmit,reValidateMode:dr.onChange,shouldFocusError:!0};function DX(e={}){let t={...RX,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:fr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=Qe(t.defaultValues)||Qe(t.values)?dt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:dt(i),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:tb(),state:tb()},m=t.criteriaMode===dr.all,p=I=>L=>{clearTimeout(u),u=setTimeout(I,L)},g=async I=>{if(!t.disabled&&(d.isValid||f.isValid||I)){const L=t.resolver?kt((await _()).errors):await O(n,!0);L!==r.isValid&&h.state.next({isValid:L})}},v=(I,L)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((I||Array.from(l.mount)).forEach(q=>{q&&(L?Ve(r.validatingFields,q,L):Ze(r.validatingFields,q))}),h.state.next({validatingFields:r.validatingFields,isValidating:!kt(r.validatingFields)}))},j=(I,L=[],q,ne,ee=!0,J=!0)=>{if(ne&&q&&!t.disabled){if(s.action=!0,J&&Array.isArray(oe(n,I))){const ue=q(oe(n,I),ne.argA,ne.argB);ee&&Ve(n,I,ue)}if(J&&Array.isArray(oe(r.errors,I))){const ue=q(oe(r.errors,I),ne.argA,ne.argB);ee&&Ve(r.errors,I,ue),IX(r.errors,I)}if((d.touchedFields||f.touchedFields)&&J&&Array.isArray(oe(r.touchedFields,I))){const ue=q(oe(r.touchedFields,I),ne.argA,ne.argB);ee&&Ve(r.touchedFields,I,ue)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=La(i,a)),h.state.next({name:I,isDirty:N(I,L),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ve(a,I,L)},w=(I,L)=>{Ve(r.errors,I,L),h.state.next({errors:r.errors})},S=I=>{r.errors=I,h.state.next({errors:r.errors,isValid:!1})},x=(I,L,q,ne)=>{const ee=oe(n,I);if(ee){const J=oe(a,I,tt(q)?oe(i,I):q);tt(J)||ne&&ne.defaultChecked||L?Ve(a,I,L?J:ab(ee._f)):M(I,J),s.mount&&g()}},y=(I,L,q,ne,ee)=>{let J=!1,ue=!1;const ke={name:I};if(!t.disabled){if(!q||ne){(d.isDirty||f.isDirty)&&(ue=r.isDirty,r.isDirty=ke.isDirty=N(),J=ue!==ke.isDirty);const Fe=dn(oe(i,I),L);ue=!!oe(r.dirtyFields,I),Fe?Ze(r.dirtyFields,I):Ve(r.dirtyFields,I,!0),ke.dirtyFields=r.dirtyFields,J=J||(d.dirtyFields||f.dirtyFields)&&ue!==!Fe}if(q){const Fe=oe(r.touchedFields,I);Fe||(Ve(r.touchedFields,I,q),ke.touchedFields=r.touchedFields,J=J||(d.touchedFields||f.touchedFields)&&Fe!==q)}J&&ee&&h.state.next(ke)}return J?ke:{}},b=(I,L,q,ne)=>{const ee=oe(r.errors,I),J=(d.isValid||f.isValid)&&br(L)&&r.isValid!==L;if(t.delayError&&q?(c=p(()=>w(I,q)),c(t.delayError)):(clearTimeout(u),c=null,q?Ve(r.errors,I,q):Ze(r.errors,I)),(q?!dn(ee,q):ee)||!kt(ne)||J){const ue={...ne,...J&&br(L)?{isValid:L}:{},errors:r.errors,name:I};r={...r,...ue},h.state.next(ue)}},_=async I=>{v(I,!0);const L=await t.resolver(a,t.context,PX(I||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(I),L},A=async I=>{const{errors:L}=await _(I);if(I)for(const q of I){const ne=oe(L,q);ne?Ve(r.errors,q,ne):Ze(r.errors,q)}else r.errors=L;return L},O=async(I,L,q={valid:!0})=>{for(const ne in I){const ee=I[ne];if(ee){const{_f:J,...ue}=ee;if(J){const ke=l.array.has(J.name),Fe=ee._f&&CX(ee._f);Fe&&d.validatingFields&&v([ne],!0);const Kt=await db(ee,l.disabled,a,m,t.shouldUseNativeValidation&&!L,ke);if(Fe&&d.validatingFields&&v([ne]),Kt[J.name]&&(q.valid=!1,L))break;!L&&(oe(Kt,J.name)?ke?MX(r.errors,Kt,J.name):Ve(r.errors,J.name,Kt[J.name]):Ze(r.errors,J.name))}!kt(ue)&&await O(ue,L,q)}}return q.valid},T=()=>{for(const I of l.unMount){const L=oe(n,I);L&&(L._f.refs?L._f.refs.every(q=>!md(q)):!md(L._f.ref))&&Ne(I)}l.unMount=new Set},N=(I,L)=>!t.disabled&&(I&&L&&Ve(a,I,L),!dn(W(),i)),P=(I,L,q)=>_X(I,l,{...s.mount?a:tt(L)?i:_r(I)?{[I]:L}:L},q,L),E=I=>Xm(oe(s.mount?a:i,I,t.shouldUnregister?oe(i,I,[]):[])),M=(I,L,q={})=>{const ne=oe(n,I);let ee=L;if(ne){const J=ne._f;J&&(!J.disabled&&Ve(a,I,cS(L,J)),ee=pc(J.ref)&&Ot(L)?"":L,aS(J.ref)?[...J.ref.options].forEach(ue=>ue.selected=ee.includes(ue.value)):J.refs?fo(J.ref)?J.refs.forEach(ue=>{(!ue.defaultChecked||!ue.disabled)&&(Array.isArray(ee)?ue.checked=!!ee.find(ke=>ke===ue.value):ue.checked=ee===ue.value||!!ee)}):J.refs.forEach(ue=>ue.checked=ue.value===ee):Jm(J.ref)?J.ref.value="":(J.ref.value=ee,J.ref.type||h.state.next({name:I,values:dt(a)})))}(q.shouldDirty||q.shouldTouch)&&y(I,ee,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&H(I)},R=(I,L,q)=>{for(const ne in L){if(!L.hasOwnProperty(ne))return;const ee=L[ne],J=I+"."+ne,ue=oe(n,J);(l.array.has(I)||Qe(ee)||ue&&!ue._f)&&!Rn(ee)?R(J,ee,q):M(J,ee,q)}},F=(I,L,q={})=>{const ne=oe(n,I),ee=l.array.has(I),J=dt(L);Ve(a,I,J),ee?(h.array.next({name:I,values:dt(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&q.shouldDirty&&h.state.next({name:I,dirtyFields:La(i,a),isDirty:N(I,J)})):ne&&!ne._f&&!Ot(J)?R(I,J,q):M(I,J,q),lb(I,l)&&h.state.next({...r,name:I}),h.state.next({name:s.mount?I:void 0,values:dt(a)})},D=async I=>{s.mount=!0;const L=I.target;let q=L.name,ne=!0;const ee=oe(n,q),J=Fe=>{ne=Number.isNaN(Fe)||Rn(Fe)&&isNaN(Fe.getTime())||dn(Fe,oe(a,q,Fe))},ue=sb(t.mode),ke=sb(t.reValidateMode);if(ee){let Fe,Kt;const po=L.type?ab(ee._f):gX(I),an=I.type===eb.BLUR||I.type===eb.FOCUS_OUT,$S=!EX(ee._f)&&!t.resolver&&!oe(r.errors,q)&&!ee._f.deps||kX(an,oe(r.touchedFields,q),r.isSubmitted,ke,ue),Au=lb(q,l,an);Ve(a,q,po),an?(ee._f.onBlur&&ee._f.onBlur(I),c&&c(0)):ee._f.onChange&&ee._f.onChange(I);const Nu=y(q,po,an),TS=!kt(Nu)||Au;if(!an&&h.state.next({name:q,type:I.type,values:dt(a)}),$S)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?an&&g():an||g()),TS&&h.state.next({name:q,...Au?{}:Nu});if(!an&&Au&&h.state.next({...r}),t.resolver){const{errors:ip}=await _([q]);if(J(po),ne){const kS=cb(r.errors,n,q),ap=cb(ip,n,kS.name||q);Fe=ap.error,q=ap.name,Kt=kt(ip)}}else v([q],!0),Fe=(await db(ee,l.disabled,a,m,t.shouldUseNativeValidation))[q],v([q]),J(po),ne&&(Fe?Kt=!1:(d.isValid||f.isValid)&&(Kt=await O(n,!0)));ne&&(ee._f.deps&&H(ee._f.deps),b(q,Kt,Fe,Nu))}},z=(I,L)=>{if(oe(r.errors,L)&&I.focus)return I.focus(),1},H=async(I,L={})=>{let q,ne;const ee=us(I);if(t.resolver){const J=await A(tt(I)?I:ee);q=kt(J),ne=I?!ee.some(ue=>oe(J,ue)):q}else I?(ne=(await Promise.all(ee.map(async J=>{const ue=oe(n,J);return await O(ue&&ue._f?{[J]:ue}:ue)}))).every(Boolean),!(!ne&&!r.isValid)&&g()):ne=q=await O(n);return h.state.next({...!_r(I)||(d.isValid||f.isValid)&&q!==r.isValid?{}:{name:I},...t.resolver||!I?{isValid:q}:{},errors:r.errors}),L.shouldFocus&&!ne&&ds(n,z,I?ee:l.mount),ne},W=I=>{const L={...s.mount?a:i};return tt(I)?L:_r(I)?oe(L,I):I.map(q=>oe(L,q))},Z=(I,L)=>({invalid:!!oe((L||r).errors,I),isDirty:!!oe((L||r).dirtyFields,I),error:oe((L||r).errors,I),isValidating:!!oe(r.validatingFields,I),isTouched:!!oe((L||r).touchedFields,I)}),K=I=>{I&&us(I).forEach(L=>Ze(r.errors,L)),h.state.next({errors:I?r.errors:{}})},re=(I,L,q)=>{const ne=(oe(n,I,{_f:{}})._f||{}).ref,ee=oe(r.errors,I)||{},{ref:J,message:ue,type:ke,...Fe}=ee;Ve(r.errors,I,{...Fe,...L,ref:ne}),h.state.next({name:I,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&ne&&ne.focus&&ne.focus()},X=(I,L)=>fr(I)?h.state.subscribe({next:q=>"values"in q&&I(P(void 0,L),q)}):P(I,L,!0),le=I=>h.state.subscribe({next:L=>{TX(I.name,L.name,I.exact)&&$X(L,I.formState||d,wt,I.reRenderRoot)&&I.callback({values:{...a},...r,...L,defaultValues:i})}}).unsubscribe,_e=I=>(s.mount=!0,f={...f,...I.formState},le({...I,formState:f})),Ne=(I,L={})=>{for(const q of I?us(I):l.mount)l.mount.delete(q),l.array.delete(q),L.keepValue||(Ze(n,q),Ze(a,q)),!L.keepError&&Ze(r.errors,q),!L.keepDirty&&Ze(r.dirtyFields,q),!L.keepTouched&&Ze(r.touchedFields,q),!L.keepIsValidating&&Ze(r.validatingFields,q),!t.shouldUnregister&&!L.keepDefaultValue&&Ze(i,q);h.state.next({values:dt(a)}),h.state.next({...r,...L.keepDirty?{isDirty:N()}:{}}),!L.keepIsValid&&g()},Le=({disabled:I,name:L})=>{(br(I)&&s.mount||I||l.disabled.has(L))&&(I?l.disabled.add(L):l.disabled.delete(L))},Q=(I,L={})=>{let q=oe(n,I);const ne=br(L.disabled)||br(t.disabled);return Ve(n,I,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:I}},name:I,mount:!0,...L}}),l.mount.add(I),q?Le({disabled:br(L.disabled)?L.disabled:t.disabled,name:I}):x(I,!0,L.value),{...ne?{disabled:L.disabled||t.disabled}:{},...t.progressive?{required:!!L.required,min:Fa(L.min),max:Fa(L.max),minLength:Fa(L.minLength),maxLength:Fa(L.maxLength),pattern:Fa(L.pattern)}:{},name:I,onChange:D,onBlur:D,ref:ee=>{if(ee){Q(I,L),q=oe(n,I);const J=tt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,ue=AX(J),ke=q._f.refs||[];if(ue?ke.find(Fe=>Fe===J):J===q._f.ref)return;Ve(n,I,{_f:{...q._f,...ue?{refs:[...ke.filter(md),J,...Array.isArray(oe(i,I))?[{}]:[]],ref:{type:J.type,name:I}}:{ref:J}}}),x(I,!1,void 0,J)}else q=oe(n,I,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||L.shouldUnregister)&&!(yX(l.array,I)&&s.action)&&l.unMount.add(I)}}},me=()=>t.shouldFocusError&&ds(n,z,l.mount),we=I=>{br(I)&&(h.state.next({disabled:I}),ds(n,(L,q)=>{const ne=oe(n,q);ne&&(L.disabled=ne._f.disabled||I,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(ee=>{ee.disabled=ne._f.disabled||I}))},0,!1))},V=(I,L)=>async q=>{let ne;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let ee=dt(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:J,values:ue}=await _();r.errors=J,ee=dt(ue)}else await O(n);if(l.disabled.size)for(const J of l.disabled)Ze(ee,J);if(Ze(r.errors,"root"),kt(r.errors)){h.state.next({errors:{}});try{await I(ee,q)}catch(J){ne=J}}else L&&await L({...r.errors},q),me(),setTimeout(me);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:kt(r.errors)&&!ne,submitCount:r.submitCount+1,errors:r.errors}),ne)throw ne},We=(I,L={})=>{oe(n,I)&&(tt(L.defaultValue)?F(I,dt(oe(i,I))):(F(I,L.defaultValue),Ve(i,I,dt(L.defaultValue))),L.keepTouched||Ze(r.touchedFields,I),L.keepDirty||(Ze(r.dirtyFields,I),r.isDirty=L.defaultValue?N(I,dt(oe(i,I))):N()),L.keepError||(Ze(r.errors,I),d.isValid&&g()),h.state.next({...r}))},Pe=(I,L={})=>{const q=I?dt(I):i,ne=dt(q),ee=kt(I),J=ee?i:ne;if(L.keepDefaultValues||(i=q),!L.keepValues){if(L.keepDirtyValues){const ue=new Set([...l.mount,...Object.keys(La(i,a))]);for(const ke of Array.from(ue))oe(r.dirtyFields,ke)?Ve(J,ke,oe(a,ke)):F(ke,oe(J,ke))}else{if(Km&&tt(I))for(const ue of l.mount){const ke=oe(n,ue);if(ke&&ke._f){const Fe=Array.isArray(ke._f.refs)?ke._f.refs[0]:ke._f.ref;if(pc(Fe)){const Kt=Fe.closest("form");if(Kt){Kt.reset();break}}}}if(L.keepFieldsRef)for(const ue of l.mount)F(ue,oe(J,ue));else n={}}a=t.shouldUnregister?L.keepDefaultValues?dt(i):{}:dt(J),h.array.next({values:{...J}}),h.state.next({values:{...J}})}l={mount:L.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!L.keepIsValid||!!L.keepDirtyValues,s.watch=!!t.shouldUnregister,h.state.next({submitCount:L.keepSubmitCount?r.submitCount:0,isDirty:ee?!1:L.keepDirty?r.isDirty:!!(L.keepDefaultValues&&!dn(I,i)),isSubmitted:L.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ee?{}:L.keepDirtyValues?L.keepDefaultValues&&a?La(i,a):r.dirtyFields:L.keepDefaultValues&&I?La(i,I):L.keepDirty?r.dirtyFields:{},touchedFields:L.keepTouched?r.touchedFields:{},errors:L.keepErrors?r.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ke=(I,L)=>Pe(fr(I)?I(a):I,L),Ye=(I,L={})=>{const q=oe(n,I),ne=q&&q._f;if(ne){const ee=ne.refs?ne.refs[0]:ne.ref;ee.focus&&(ee.focus(),L.shouldSelect&&fr(ee.select)&&ee.select())}},wt=I=>{r={...r,...I}},Tr={control:{register:Q,unregister:Ne,getFieldState:Z,handleSubmit:V,setError:re,_subscribe:le,_runSchema:_,_focusError:me,_getWatch:P,_getDirty:N,_setValid:g,_setFieldArray:j,_setDisabledField:Le,_setErrors:S,_getFieldArray:E,_reset:Pe,_resetDefaultValues:()=>fr(t.defaultValues)&&t.defaultValues().then(I=>{Ke(I,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:we,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(I){s=I},get _defaultValues(){return i},get _names(){return l},set _names(I){l=I},get _formState(){return r},get _options(){return t},set _options(I){t={...t,...I}}},subscribe:_e,trigger:H,register:Q,handleSubmit:V,watch:X,setValue:F,getValues:W,reset:Ke,resetField:We,clearErrors:K,unregister:Ne,setError:re,setFocus:Ye,getFieldState:Z};return{...Tr,formControl:Tr}}function ho(e={}){const t=C.useRef(void 0),r=C.useRef(void 0),[n,i]=C.useState({isDirty:!1,isValidating:!1,isLoading:fr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:fr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!fr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...l}=DX(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,jX(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,s},[a]),C.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),C.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),C.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),C.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),C.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),C.useEffect(()=>{e.values&&!dn(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,i(s=>({...s}))):a._resetDefaultValues()},[a,e.values]),C.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=wX(n,a),t.current}const LX=({incomeData:e,onUpdateIncome:t})=>{var j,w,S,x;const[r,n]=$.useState(null),[i,a]=$.useState(!1),{register:s,handleSubmit:l,reset:c,formState:{errors:u}}=ho(),d=[{value:"monthly",label:"Mensuel"},{value:"annual",label:"Annuel"},{value:"weekly",label:"Hebdomadaire"},{value:"biweekly",label:"Bi-hebdomadaire"}],f=[{value:"salary",label:"Salaire"},{value:"freelance",label:"Freelance"},{value:"investment",label:"Investissements"},{value:"rental",label:"Revenus locatifs"},{value:"business",label:"Entreprise"},{value:"other",label:"Autre"}],h=y=>{const b={id:r||Date.now(),...y,amount:parseFloat(y.amount),createdAt:new Date().toISOString()};r?(t(e.map(_=>_.id===r?b:_)),n(null)):(t([...e,b]),a(!1)),c()},m=y=>{n(y.id),a(!0),c(y)},p=y=>{t(e.filter(b=>b.id!==y))},g=(y,b)=>y*({monthly:1,annual:.08333333333333333,weekly:4.33,biweekly:2.17}[b]||1),v=e.reduce((y,b)=>y+g(b.amount,b.frequency),0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"glass rounded-xl p-6 border border-border/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Résumé des revenus"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(k,{name:"TrendingUp",size:20,color:"var(--color-success)"}),o.jsx("span",{className:"text-2xl font-bold text-success",children:v.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]})]}),o.jsxs("p",{className:"text-sm text-text-secondary",children:["Revenus mensuels totaux • ",e.length," source",e.length!==1?"s":""," de revenus"]})]}),o.jsx("div",{className:"space-y-4",children:e.map(y=>{var b,_;return o.jsx("div",{className:"glass rounded-xl p-4 border border-border/20 hover:glass-hover transition-all duration-300",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:o.jsx(k,{name:y.type==="salary"?"Briefcase":y.type==="freelance"?"Users":y.type==="investment"?"TrendingUp":y.type==="rental"?"Home":y.type==="business"?"Building":"DollarSign",size:20,color:"var(--color-primary)"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-heading font-medium text-foreground",children:y.source}),o.jsx("p",{className:"text-sm text-text-secondary capitalize",children:(b=f.find(A=>A.value===y.type))==null?void 0:b.label})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[o.jsx("span",{className:"font-medium text-foreground",children:y.amount.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})}),o.jsx("span",{className:"text-text-secondary",children:(_=d.find(A=>A.value===y.frequency))==null?void 0:_.label}),o.jsxs("span",{className:"text-primary font-medium",children:["≈ ",g(y.amount,y.frequency).toLocaleString("fr-FR",{style:"currency",currency:"EUR"}),"/mois"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>m(y),children:o.jsx(k,{name:"Edit2",size:16,color:"var(--color-text-secondary)"})}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>p(y.id),children:o.jsx(k,{name:"Trash2",size:16,color:"var(--color-error)"})})]})]})},y.id)})}),i&&o.jsxs("div",{className:"glass rounded-xl p-6 border border-border/20 animate-slide-in",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:r?"Modifier la source de revenus":"Ajouter une source de revenus"}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>{a(!1),n(null),c()},children:o.jsx(k,{name:"X",size:20,color:"var(--color-text-secondary)"})})]}),o.jsxs("form",{onSubmit:l(h),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Ie,{label:"Nom de la source",type:"text",placeholder:"Ex: Salaire principal, Freelance design...",...s("source",{required:"Ce champ est requis"}),error:(j=u.source)==null?void 0:j.message,required:!0}),o.jsx($t,{label:"Type de revenus",options:f,...s("type",{required:"Sélectionnez un type"}),error:(w=u.type)==null?void 0:w.message,required:!0}),o.jsx(Ie,{label:"Montant",type:"number",placeholder:"0,00",step:"0.01",min:"0",...s("amount",{required:"Ce champ est requis",min:{value:0,message:"Le montant doit être positif"}}),error:(S=u.amount)==null?void 0:S.message,required:!0}),o.jsx($t,{label:"Fréquence",options:d,...s("frequency",{required:"Sélectionnez une fréquence"}),error:(x=u.frequency)==null?void 0:x.message,required:!0})]}),o.jsx(Ie,{label:"Description (optionnel)",type:"text",placeholder:"Détails supplémentaires...",...s("description")}),o.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[o.jsx(G,{type:"button",variant:"outline",onClick:()=>{a(!1),n(null),c()},children:"Annuler"}),o.jsx(G,{type:"submit",variant:"default",children:r?"Mettre à jour":"Ajouter"})]})]})]}),!i&&o.jsxs(G,{variant:"outline",onClick:()=>a(!0),className:"w-full border-dashed border-2 border-primary/30 hover:border-primary/50 hover:bg-primary/5",children:[o.jsx(k,{name:"Plus",size:20,color:"var(--color-primary)"}),o.jsx("span",{className:"ml-2",children:"Ajouter une source de revenus"})]})]})},FX=({expensesData:e,onUpdateExpenses:t})=>{var S,x,y,b;const[r,n]=$.useState(null),[i,a]=$.useState(!1),{register:s,handleSubmit:l,reset:c,formState:{errors:u}}=ho(),d=[{value:"housing",label:"Logement"},{value:"utilities",label:"Services publics"},{value:"insurance",label:"Assurances"},{value:"subscriptions",label:"Abonnements"},{value:"transport",label:"Transport"},{value:"phone",label:"Téléphone/Internet"},{value:"loan",label:"Prêts"},{value:"other",label:"Autre"}],f=[{value:"monthly",label:"Mensuel"},{value:"quarterly",label:"Trimestriel"},{value:"annual",label:"Annuel"},{value:"weekly",label:"Hebdomadaire"}],h=_=>{const A={id:r||Date.now(),..._,amount:parseFloat(_.amount),createdAt:new Date().toISOString()};r?(t(e.map(O=>O.id===r?A:O)),n(null)):(t([...e,A]),a(!1)),c()},m=_=>{n(_.id),a(!0),c(_)},p=_=>{t(e.filter(A=>A.id!==_))},g=(_,A)=>_*({monthly:1,quarterly:.3333333333333333,annual:.08333333333333333,weekly:4.33}[A]||1),v=e.reduce((_,A)=>_+g(A.amount,A.frequency),0),j=_=>({housing:"Home",utilities:"Zap",insurance:"Shield",subscriptions:"Repeat",transport:"Car",phone:"Smartphone",loan:"CreditCard",other:"MoreHorizontal"})[_]||"DollarSign",w=e.reduce((_,A)=>{const O=A.category;return _[O]||(_[O]=[]),_[O].push(A),_},{});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"glass rounded-xl p-6 border border-border/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Dépenses fixes mensuelles"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(k,{name:"TrendingDown",size:20,color:"var(--color-error)"}),o.jsx("span",{className:"text-2xl font-bold text-error",children:v.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]})]}),o.jsxs("p",{className:"text-sm text-text-secondary",children:["Total des dépenses fixes • ",e.length," dépense",e.length!==1?"s":""," enregistrée",e.length!==1?"s":""]})]}),o.jsx("div",{className:"space-y-4",children:Object.entries(w).map(([_,A])=>{var N;const O=((N=d.find(P=>P.value===_))==null?void 0:N.label)||_,T=A.reduce((P,E)=>P+g(E.amount,E.frequency),0);return o.jsxs("div",{className:"glass rounded-xl p-4 border border-border/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:o.jsx(k,{name:j(_),size:20,color:"var(--color-primary)"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-heading font-medium text-foreground",children:O}),o.jsxs("p",{className:"text-sm text-text-secondary",children:[A.length," dépense",A.length!==1?"s":""]})]})]}),o.jsxs("span",{className:"font-bold text-foreground",children:[T.toLocaleString("fr-FR",{style:"currency",currency:"EUR"}),"/mois"]})]}),o.jsx("div",{className:"space-y-2",children:A.map(P=>{var E;return o.jsx("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-foreground",children:P.name}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm text-text-secondary",children:[P.amount.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})," • ",(E=f.find(M=>M.value===P.frequency))==null?void 0:E.label]}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>m(P),className:"w-8 h-8",children:o.jsx(k,{name:"Edit2",size:14,color:"var(--color-text-secondary)"})}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>p(P.id),className:"w-8 h-8",children:o.jsx(k,{name:"Trash2",size:14,color:"var(--color-error)"})})]})]}),P.description&&o.jsx("p",{className:"text-xs text-text-secondary mt-1",children:P.description})]})},P.id)})})]},_)})}),i&&o.jsxs("div",{className:"glass rounded-xl p-6 border border-border/20 animate-slide-in",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:r?"Modifier la dépense fixe":"Ajouter une dépense fixe"}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>{a(!1),n(null),c()},children:o.jsx(k,{name:"X",size:20,color:"var(--color-text-secondary)"})})]}),o.jsxs("form",{onSubmit:l(h),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Ie,{label:"Nom de la dépense",type:"text",placeholder:"Ex: Loyer, Électricité, Netflix...",...s("name",{required:"Ce champ est requis"}),error:(S=u.name)==null?void 0:S.message,required:!0}),o.jsx($t,{label:"Catégorie",options:d,...s("category",{required:"Sélectionnez une catégorie"}),error:(x=u.category)==null?void 0:x.message,required:!0}),o.jsx(Ie,{label:"Montant",type:"number",placeholder:"0,00",step:"0.01",min:"0",...s("amount",{required:"Ce champ est requis",min:{value:0,message:"Le montant doit être positif"}}),error:(y=u.amount)==null?void 0:y.message,required:!0}),o.jsx($t,{label:"Fréquence",options:f,...s("frequency",{required:"Sélectionnez une fréquence"}),error:(b=u.frequency)==null?void 0:b.message,required:!0})]}),o.jsx(Ie,{label:"Description (optionnel)",type:"text",placeholder:"Détails supplémentaires...",...s("description")}),o.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[o.jsx(G,{type:"button",variant:"outline",onClick:()=>{a(!1),n(null),c()},children:"Annuler"}),o.jsx(G,{type:"submit",variant:"default",children:r?"Mettre à jour":"Ajouter"})]})]})]}),!i&&o.jsxs(G,{variant:"outline",onClick:()=>a(!0),className:"w-full border-dashed border-2 border-primary/30 hover:border-primary/50 hover:bg-primary/5",children:[o.jsx(k,{name:"Plus",size:20,color:"var(--color-primary)"}),o.jsx("span",{className:"ml-2",children:"Ajouter une dépense fixe"})]})]})},zX=({variableExpensesData:e,onUpdateVariableExpenses:t})=>{var b,_,A,O,T;const[r,n]=$.useState(null),[i,a]=$.useState(!1),{register:s,handleSubmit:l,reset:c,watch:u,formState:{errors:d}}=ho(),f=[{value:"food",label:"Alimentation"},{value:"entertainment",label:"Divertissement"},{value:"shopping",label:"Shopping"},{value:"health",label:"Santé"},{value:"education",label:"Éducation"},{value:"travel",label:"Voyage"},{value:"gifts",label:"Cadeaux"},{value:"personal",label:"Personnel"},{value:"other",label:"Autre"}],h=[{value:"happy",label:"Heureux"},{value:"stressed",label:"Stressé"},{value:"excited",label:"Excité"},{value:"sad",label:"Triste"},{value:"anxious",label:"Anxieux"},{value:"celebratory",label:"Festif"},{value:"bored",label:"Ennuyé"},{value:"neutral",label:"Neutre"}],m=[{value:"daily",label:"Quotidien"},{value:"weekly",label:"Hebdomadaire"},{value:"monthly",label:"Mensuel"},{value:"occasional",label:"Occasionnel"}],p=N=>{const P={id:r||Date.now(),...N,amount:parseFloat(N.amount),moodRating:parseInt(N.moodRating),createdAt:new Date().toISOString()};r?(t(e.map(E=>E.id===r?P:E)),n(null)):(t([...e,P]),a(!1)),c()},g=N=>{n(N.id),a(!0),c(N)},v=N=>{t(e.filter(P=>P.id!==N))},j=(N,P)=>N*({daily:30,weekly:4.33,monthly:1,occasional:.5}[P]||1),w=e.reduce((N,P)=>N+j(P.amount,P.frequency),0),S=N=>({food:"UtensilsCrossed",entertainment:"Music",shopping:"ShoppingBag",health:"Heart",education:"BookOpen",travel:"Plane",gifts:"Gift",personal:"User",other:"MoreHorizontal"})[N]||"DollarSign",x=N=>({happy:"text-success",stressed:"text-error",excited:"text-accent",sad:"text-primary",anxious:"text-warning",celebratory:"text-secondary",bored:"text-text-secondary",neutral:"text-text-secondary"})[N]||"text-text-secondary",y=u("moodRating",5);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"glass rounded-xl p-6 border border-border/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Dépenses variables estimées"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(k,{name:"Activity",size:20,color:"var(--color-warning)"}),o.jsx("span",{className:"text-2xl font-bold text-warning",children:w.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]})]}),o.jsxs("p",{className:"text-sm text-text-secondary",children:["Estimation mensuelle • ",e.length," dépense",e.length!==1?"s":""," variable",e.length!==1?"s":""]})]}),o.jsx("div",{className:"space-y-4",children:e.map(N=>{var P,E,M;return o.jsx("div",{className:"glass rounded-xl p-4 border border-border/20 hover:glass-hover transition-all duration-300",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-warning/10 rounded-lg flex items-center justify-center",children:o.jsx(k,{name:S(N.category),size:20,color:"var(--color-warning)"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-heading font-medium text-foreground",children:N.name}),o.jsx("p",{className:"text-sm text-text-secondary capitalize",children:(P=f.find(R=>R.value===N.category))==null?void 0:P.label})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm mb-2",children:[o.jsx("span",{className:"font-medium text-foreground",children:N.amount.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})}),o.jsx("span",{className:"text-text-secondary",children:(E=m.find(R=>R.value===N.frequency))==null?void 0:E.label}),o.jsxs("span",{className:"text-warning font-medium",children:["≈ ",j(N.amount,N.frequency).toLocaleString("fr-FR",{style:"currency",currency:"EUR"}),"/mois"]})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-xs",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(k,{name:"Heart",size:14,color:"var(--color-text-secondary)"}),o.jsx("span",{className:`capitalize ${x(N.emotionalContext)}`,children:(M=h.find(R=>R.value===N.emotionalContext))==null?void 0:M.label})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(k,{name:"Smile",size:14,color:"var(--color-text-secondary)"}),o.jsxs("span",{className:"text-text-secondary",children:["Humeur: ",N.moodRating,"/10"]})]})]}),N.description&&o.jsx("p",{className:"text-xs text-text-secondary mt-2",children:N.description})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>g(N),children:o.jsx(k,{name:"Edit2",size:16,color:"var(--color-text-secondary)"})}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>v(N.id),children:o.jsx(k,{name:"Trash2",size:16,color:"var(--color-error)"})})]})]})},N.id)})}),i&&o.jsxs("div",{className:"glass rounded-xl p-6 border border-border/20 animate-slide-in",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:r?"Modifier la dépense variable":"Ajouter une dépense variable"}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>{a(!1),n(null),c()},children:o.jsx(k,{name:"X",size:20,color:"var(--color-text-secondary)"})})]}),o.jsxs("form",{onSubmit:l(p),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Ie,{label:"Nom de la dépense",type:"text",placeholder:"Ex: Restaurant, Cinéma, Vêtements...",...s("name",{required:"Ce champ est requis"}),error:(b=d.name)==null?void 0:b.message,required:!0}),o.jsx($t,{label:"Catégorie",options:f,...s("category",{required:"Sélectionnez une catégorie"}),error:(_=d.category)==null?void 0:_.message,required:!0}),o.jsx(Ie,{label:"Montant moyen",type:"number",placeholder:"0,00",step:"0.01",min:"0",...s("amount",{required:"Ce champ est requis",min:{value:0,message:"Le montant doit être positif"}}),error:(A=d.amount)==null?void 0:A.message,required:!0}),o.jsx($t,{label:"Fréquence",options:m,...s("frequency",{required:"Sélectionnez une fréquence"}),error:(O=d.frequency)==null?void 0:O.message,required:!0}),o.jsx($t,{label:"Contexte émotionnel",options:h,...s("emotionalContext",{required:"Sélectionnez un contexte"}),error:(T=d.emotionalContext)==null?void 0:T.message,required:!0}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Humeur lors de l'achat (1-10)"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ie,{type:"range",min:"1",max:"10",...s("moodRating",{required:"Ce champ est requis"}),className:"w-full"}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary",children:[o.jsx("span",{children:"Très mauvaise"}),o.jsxs("span",{className:"font-medium text-primary",children:[y,"/10"]}),o.jsx("span",{children:"Excellente"})]})]})]})]}),o.jsx(Ie,{label:"Description (optionnel)",type:"text",placeholder:"Contexte, raison de l'achat...",...s("description")}),o.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[o.jsx(G,{type:"button",variant:"outline",onClick:()=>{a(!1),n(null),c()},children:"Annuler"}),o.jsx(G,{type:"submit",variant:"default",children:r?"Mettre à jour":"Ajouter"})]})]})]}),!i&&o.jsxs(G,{variant:"outline",onClick:()=>a(!0),className:"w-full border-dashed border-2 border-warning/30 hover:border-warning/50 hover:bg-warning/5",children:[o.jsx(k,{name:"Plus",size:20,color:"var(--color-warning)"}),o.jsx("span",{className:"ml-2",children:"Ajouter une dépense variable"})]})]})},BX=({debtsData:e,onUpdateDebts:t})=>{var A,O,T,N,P;const[r,n]=$.useState(null),[i,a]=$.useState(!1),{register:s,handleSubmit:l,reset:c,watch:u,formState:{errors:d}}=ho(),f=[{value:"credit_card",label:"Carte de crédit"},{value:"personal_loan",label:"Prêt personnel"},{value:"mortgage",label:"Prêt immobilier"},{value:"auto_loan",label:"Prêt auto"},{value:"student_loan",label:"Prêt étudiant"},{value:"line_of_credit",label:"Ligne de crédit"},{value:"other",label:"Autre"}],h=E=>{const M={id:r||Date.now(),...E,balance:parseFloat(E.balance),interestRate:parseFloat(E.interestRate),minimumPayment:parseFloat(E.minimumPayment),createdAt:new Date().toISOString()};r?(t(e.map(R=>R.id===r?M:R)),n(null)):(t([...e,M]),a(!1)),c()},m=E=>{n(E.id),a(!0),c(E)},p=E=>{t(e.filter(M=>M.id!==E))},g=(E,M,R)=>{if(!E||!M||!R)return null;const F=R/100/12,D=Math.log(1+E*F/M)/Math.log(1+F);if(isNaN(D)||D<=0)return null;const z=Math.floor(D/12),H=Math.ceil(D%12);return{years:z,months:H,totalMonths:Math.ceil(D)}},v=e.reduce((E,M)=>E+M.balance,0),j=e.reduce((E,M)=>E+M.minimumPayment,0),w=E=>({credit_card:"CreditCard",personal_loan:"DollarSign",mortgage:"Home",auto_loan:"Car",student_loan:"GraduationCap",line_of_credit:"TrendingUp",other:"MoreHorizontal"})[E]||"DollarSign",S=E=>E>=15?"text-error":E>=8?"text-warning":"text-success",x=u("balance",0),y=u("minimumPayment",0),b=u("interestRate",0),_=g(parseFloat(x)||0,parseFloat(y)||0,parseFloat(b)||0);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"glass rounded-xl p-6 border border-border/20",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(k,{name:"AlertTriangle",size:20,color:"var(--color-error)"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Total des dettes"})]}),o.jsx("span",{className:"text-2xl font-bold text-error",children:v.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})}),o.jsxs("p",{className:"text-sm text-text-secondary mt-1",children:[e.length," dette",e.length!==1?"s":""," active",e.length!==1?"s":""]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(k,{name:"Calendar",size:20,color:"var(--color-warning)"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Paiements minimums"})]}),o.jsx("span",{className:"text-2xl font-bold text-warning",children:j.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})}),o.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Par mois"})]})]})}),o.jsx("div",{className:"space-y-4",children:e.map(E=>{var R;const M=g(E.balance,E.minimumPayment,E.interestRate);return o.jsx("div",{className:"glass rounded-xl p-4 border border-border/20 hover:glass-hover transition-all duration-300",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[o.jsx("div",{className:"w-10 h-10 bg-error/10 rounded-lg flex items-center justify-center",children:o.jsx(k,{name:w(E.type),size:20,color:"var(--color-error)"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-heading font-medium text-foreground",children:E.name}),o.jsx("p",{className:"text-sm text-text-secondary capitalize",children:(R=f.find(F=>F.value===E.type))==null?void 0:R.label})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-text-secondary block",children:"Solde"}),o.jsx("span",{className:"font-medium text-error",children:E.balance.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-text-secondary block",children:"Taux d'intérêt"}),o.jsxs("span",{className:`font-medium ${S(E.interestRate)}`,children:[E.interestRate,"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-text-secondary block",children:"Paiement minimum"}),o.jsx("span",{className:"font-medium text-foreground",children:E.minimumPayment.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-text-secondary block",children:"Remboursement"}),M?o.jsxs("span",{className:"font-medium text-foreground",children:[M.years>0&&`${M.years}a `,M.months,"m"]}):o.jsx("span",{className:"text-text-secondary",children:"N/A"})]})]}),E.description&&o.jsx("p",{className:"text-xs text-text-secondary mt-2",children:E.description})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>m(E),children:o.jsx(k,{name:"Edit2",size:16,color:"var(--color-text-secondary)"})}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>p(E.id),children:o.jsx(k,{name:"Trash2",size:16,color:"var(--color-error)"})})]})]})},E.id)})}),i&&o.jsxs("div",{className:"glass rounded-xl p-6 border border-border/20 animate-slide-in",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:r?"Modifier la dette":"Ajouter une dette"}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>{a(!1),n(null),c()},children:o.jsx(k,{name:"X",size:20,color:"var(--color-text-secondary)"})})]}),o.jsxs("form",{onSubmit:l(h),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Ie,{label:"Nom de la dette",type:"text",placeholder:"Ex: Carte Visa, Prêt auto...",...s("name",{required:"Ce champ est requis"}),error:(A=d.name)==null?void 0:A.message,required:!0}),o.jsx($t,{label:"Type de dette",options:f,...s("type",{required:"Sélectionnez un type"}),error:(O=d.type)==null?void 0:O.message,required:!0}),o.jsx(Ie,{label:"Solde actuel",type:"number",placeholder:"0,00",step:"0.01",min:"0",...s("balance",{required:"Ce champ est requis",min:{value:0,message:"Le solde doit être positif"}}),error:(T=d.balance)==null?void 0:T.message,required:!0}),o.jsx(Ie,{label:"Taux d'intérêt annuel (%)",type:"number",placeholder:"0,00",step:"0.01",min:"0",max:"100",...s("interestRate",{required:"Ce champ est requis",min:{value:0,message:"Le taux doit être positif"},max:{value:100,message:"Le taux ne peut pas dépasser 100%"}}),error:(N=d.interestRate)==null?void 0:N.message,required:!0}),o.jsx(Ie,{label:"Paiement minimum mensuel",type:"number",placeholder:"0,00",step:"0.01",min:"0",...s("minimumPayment",{required:"Ce champ est requis",min:{value:0,message:"Le paiement doit être positif"}}),error:(P=d.minimumPayment)==null?void 0:P.message,required:!0}),_&&o.jsxs("div",{className:"bg-background/50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(k,{name:"Calculator",size:16,color:"var(--color-primary)"}),o.jsx("span",{className:"text-sm font-medium text-foreground",children:"Temps de remboursement estimé"})]}),o.jsxs("div",{className:"text-lg font-bold text-primary",children:[_.years>0&&`${_.years} an${_.years>1?"s":""} `,_.months," mois"]}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Avec paiements minimums uniquement"})]})]}),o.jsx(Ie,{label:"Description (optionnel)",type:"text",placeholder:"Détails supplémentaires...",...s("description")}),o.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[o.jsx(G,{type:"button",variant:"outline",onClick:()=>{a(!1),n(null),c()},children:"Annuler"}),o.jsx(G,{type:"submit",variant:"default",children:r?"Mettre à jour":"Ajouter"})]})]})]}),!i&&o.jsxs(G,{variant:"outline",onClick:()=>a(!0),className:"w-full border-dashed border-2 border-error/30 hover:border-error/50 hover:bg-error/5",children:[o.jsx(k,{name:"Plus",size:20,color:"var(--color-error)"}),o.jsx("span",{className:"ml-2",children:"Ajouter une dette"})]})]})},qX=({goalsData:e,onUpdateGoals:t})=>{var E,M,R,F,D,z,H;const[r,n]=$.useState(null),[i,a]=$.useState(!1),{register:s,handleSubmit:l,reset:c,watch:u,formState:{errors:d}}=ho(),f=[{value:"emergency_fund",label:"Fonds d'urgence"},{value:"house_purchase",label:"Achat immobilier"},{value:"vacation",label:"Vacances"},{value:"retirement",label:"Retraite"},{value:"education",label:"Éducation"},{value:"car_purchase",label:"Achat véhicule"},{value:"investment",label:"Investissement"},{value:"debt_payoff",label:"Remboursement dette"},{value:"other",label:"Autre"}],h=[{value:"high",label:"Haute"},{value:"medium",label:"Moyenne"},{value:"low",label:"Basse"}],m=[{value:"3_months",label:"3 mois"},{value:"6_months",label:"6 mois"},{value:"1_year",label:"1 an"},{value:"2_years",label:"2 ans"},{value:"5_years",label:"5 ans"},{value:"10_years",label:"10 ans"},{value:"long_term",label:"Long terme (10+ ans)"}],p=W=>{const Z={id:r||Date.now(),...W,targetAmount:parseFloat(W.targetAmount),currentAmount:parseFloat(W.currentAmount||0),monthlyContribution:parseFloat(W.monthlyContribution||0),createdAt:new Date().toISOString()};r?(t(e.map(K=>K.id===r?Z:K)),n(null)):(t([...e,Z]),a(!1)),c()},g=W=>{n(W.id),a(!0),c(W)},v=W=>{t(e.filter(Z=>Z.id!==W))},j=(W,Z,K)=>{if(!K||K<=0)return null;const re=W-Z;if(re<=0)return{months:0,years:0};const X=Math.ceil(re/K),le=Math.floor(X/12);return{months:X%12,years:le,totalMonths:X}},w=W=>({emergency_fund:"Shield",house_purchase:"Home",vacation:"Plane",retirement:"Clock",education:"GraduationCap",car_purchase:"Car",investment:"TrendingUp",debt_payoff:"CreditCard",other:"Target"})[W]||"Target",S=W=>({high:"text-error",medium:"text-warning",low:"text-success"})[W]||"text-text-secondary",x=W=>({high:"bg-error/10",medium:"bg-warning/10",low:"bg-success/10"})[W]||"bg-muted",y=(W,Z)=>!Z||Z<=0?0:Math.min(W/Z*100,100),b=e.reduce((W,Z)=>W+Z.targetAmount,0),_=e.reduce((W,Z)=>W+Z.currentAmount,0),A=e.reduce((W,Z)=>W+Z.monthlyContribution,0),O=u("targetAmount",0),T=u("currentAmount",0),N=u("monthlyContribution",0),P=j(parseFloat(O)||0,parseFloat(T)||0,parseFloat(N)||0);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"glass rounded-xl p-6 border border-border/20",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(k,{name:"Target",size:20,color:"var(--color-primary)"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Objectifs totaux"})]}),o.jsx("span",{className:"text-2xl font-bold text-primary",children:b.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})}),o.jsxs("p",{className:"text-sm text-text-secondary mt-1",children:[e.length," objectif",e.length!==1?"s":""]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(k,{name:"PiggyBank",size:20,color:"var(--color-success)"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Épargne actuelle"})]}),o.jsx("span",{className:"text-2xl font-bold text-success",children:_.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})}),o.jsxs("p",{className:"text-sm text-text-secondary mt-1",children:[b>0?Math.round(_/b*100):0,"% atteint"]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(k,{name:"Calendar",size:20,color:"var(--color-secondary)"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Contributions mensuelles"})]}),o.jsx("span",{className:"text-2xl font-bold text-secondary",children:A.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})}),o.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Par mois"})]})]})}),o.jsx("div",{className:"space-y-4",children:e.map(W=>{var re,X;const Z=y(W.currentAmount,W.targetAmount),K=j(W.targetAmount,W.currentAmount,W.monthlyContribution);return o.jsxs("div",{className:"glass rounded-xl p-4 border border-border/20 hover:glass-hover transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:o.jsx(k,{name:w(W.type),size:20,color:"var(--color-primary)"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-heading font-medium text-foreground",children:W.name}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-text-secondary capitalize",children:(re=f.find(le=>le.value===W.type))==null?void 0:re.label}),o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${x(W.priority)} ${S(W.priority)}`,children:(X=h.find(le=>le.value===W.priority))==null?void 0:X.label})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>g(W),children:o.jsx(k,{name:"Edit2",size:16,color:"var(--color-text-secondary)"})}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>v(W.id),children:o.jsx(k,{name:"Trash2",size:16,color:"var(--color-error)"})})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-text-secondary",children:"Progression"}),o.jsxs("span",{className:"text-sm font-medium text-foreground",children:[Z.toFixed(1),"%"]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary h-2 rounded-full transition-all duration-600 ease-out",style:{width:`${Z}%`}})})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-text-secondary block",children:"Objectif"}),o.jsx("span",{className:"font-medium text-foreground",children:W.targetAmount.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-text-secondary block",children:"Épargné"}),o.jsx("span",{className:"font-medium text-success",children:W.currentAmount.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-text-secondary block",children:"Mensuel"}),o.jsx("span",{className:"font-medium text-secondary",children:W.monthlyContribution.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-text-secondary block",children:"Temps restant"}),K&&K.totalMonths>0?o.jsxs("span",{className:"font-medium text-foreground",children:[K.years>0&&`${K.years}a `,K.months,"m"]}):Z>=100?o.jsx("span",{className:"font-medium text-success",children:"Atteint !"}):o.jsx("span",{className:"text-text-secondary",children:"N/A"})]})]}),W.description&&o.jsx("p",{className:"text-xs text-text-secondary mt-3",children:W.description})]},W.id)})}),i&&o.jsxs("div",{className:"glass rounded-xl p-6 border border-border/20 animate-slide-in",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:r?"Modifier l'objectif financier":"Ajouter un objectif financier"}),o.jsx(G,{variant:"ghost",size:"icon",onClick:()=>{a(!1),n(null),c()},children:o.jsx(k,{name:"X",size:20,color:"var(--color-text-secondary)"})})]}),o.jsxs("form",{onSubmit:l(p),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Ie,{label:"Nom de l'objectif",type:"text",placeholder:"Ex: Fonds d'urgence, Vacances en Italie...",...s("name",{required:"Ce champ est requis"}),error:(E=d.name)==null?void 0:E.message,required:!0}),o.jsx($t,{label:"Type d'objectif",options:f,...s("type",{required:"Sélectionnez un type"}),error:(M=d.type)==null?void 0:M.message,required:!0}),o.jsx(Ie,{label:"Montant cible",type:"number",placeholder:"0,00",step:"0.01",min:"0",...s("targetAmount",{required:"Ce champ est requis",min:{value:0,message:"Le montant doit être positif"}}),error:(R=d.targetAmount)==null?void 0:R.message,required:!0}),o.jsx(Ie,{label:"Montant actuel",type:"number",placeholder:"0,00",step:"0.01",min:"0",...s("currentAmount"),error:(F=d.currentAmount)==null?void 0:F.message}),o.jsx(Ie,{label:"Contribution mensuelle",type:"number",placeholder:"0,00",step:"0.01",min:"0",...s("monthlyContribution"),error:(D=d.monthlyContribution)==null?void 0:D.message}),o.jsx($t,{label:"Priorité",options:h,...s("priority",{required:"Sélectionnez une priorité"}),error:(z=d.priority)==null?void 0:z.message,required:!0}),o.jsx($t,{label:"Échéance souhaitée",options:m,...s("timeframe"),error:(H=d.timeframe)==null?void 0:H.message}),P&&P.totalMonths>0&&o.jsxs("div",{className:"bg-background/50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(k,{name:"Calculator",size:16,color:"var(--color-primary)"}),o.jsx("span",{className:"text-sm font-medium text-foreground",children:"Temps estimé pour atteindre l'objectif"})]}),o.jsxs("div",{className:"text-lg font-bold text-primary",children:[P.years>0&&`${P.years} an${P.years>1?"s":""} `,P.months," mois"]}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Avec les contributions mensuelles actuelles"})]})]}),o.jsx(Ie,{label:"Description (optionnel)",type:"text",placeholder:"Détails sur cet objectif...",...s("description")}),o.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[o.jsx(G,{type:"button",variant:"outline",onClick:()=>{a(!1),n(null),c()},children:"Annuler"}),o.jsx(G,{type:"submit",variant:"default",children:r?"Mettre à jour":"Ajouter"})]})]})]}),!i&&o.jsxs(G,{variant:"outline",onClick:()=>a(!0),className:"w-full border-dashed border-2 border-primary/30 hover:border-primary/50 hover:bg-primary/5",children:[o.jsx(k,{name:"Plus",size:20,color:"var(--color-primary)"}),o.jsx("span",{className:"ml-2",children:"Ajouter un objectif financier"})]})]})},UX=({incomeData:e,expensesData:t,variableExpensesData:r,debtsData:n,goalsData:i})=>{const a=[{id:"income",name:"Sources de revenus",icon:"TrendingUp",data:e,minRequired:1,color:"success"},{id:"expenses",name:"Dépenses fixes",icon:"Home",data:t,minRequired:3,color:"error"},{id:"variable",name:"Dépenses variables",icon:"Activity",data:r,minRequired:2,color:"warning"},{id:"debts",name:"Dettes",icon:"CreditCard",data:n,minRequired:0,color:"error"},{id:"goals",name:"Objectifs financiers",icon:"Target",data:i,minRequired:1,color:"primary"}],s=d=>{const f=d.data.length,h=d.minRequired;return h===0?f>0?100:0:Math.min(f/h*100,100)},l=a.reduce((d,f)=>d+s(f),0)/a.length,c=a.filter(d=>s(d)>=100).length,u=d=>{const f={success:{bg:"bg-success/10",text:"text-success",progress:"bg-success"},error:{bg:"bg-error/10",text:"text-error",progress:"bg-error"},warning:{bg:"bg-warning/10",text:"text-warning",progress:"bg-warning"},primary:{bg:"bg-primary/10",text:"text-primary",progress:"bg-primary"}};return f[d]||f.primary};return o.jsxs("div",{className:"glass rounded-xl p-6 border border-border/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Progression de la saisie"}),o.jsxs("p",{className:"text-sm text-text-secondary",children:[c,"/",a.length," sections complétées"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-primary",children:[Math.round(l),"%"]}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Complété"})]})]}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"w-full bg-muted rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary h-3 rounded-full transition-all duration-600 ease-out",style:{width:`${l}%`}})})}),o.jsx("div",{className:"space-y-4",children:a.map(d=>{const f=s(d),h=f>=100,m=u(d.color);return o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${m.bg}`,children:o.jsx(k,{name:d.icon,size:20,color:`var(--color-${d.color})`})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"font-medium text-foreground text-sm",children:d.name}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-xs text-text-secondary",children:[d.data.length,d.minRequired>0&&`/${d.minRequired}`]}),h&&o.jsx(k,{name:"CheckCircle2",size:16,color:"var(--color-success)"})]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${m.progress}`,style:{width:`${f}%`}})})]})]},d.id)})}),l<100&&o.jsx("div",{className:"mt-6 p-4 bg-primary/5 rounded-lg border border-primary/20",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(k,{name:"Lightbulb",size:20,color:"var(--color-primary)"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-primary text-sm mb-1",children:"Recommandations pour compléter votre profil"}),o.jsx("ul",{className:"text-xs text-text-secondary space-y-1",children:a.filter(d=>s(d)<100).map(d=>o.jsxs("li",{children:["• ",d.name,": ",d.minRequired>0?`Ajoutez ${d.minRequired-d.data.length} élément${d.minRequired-d.data.length>1?"s":""} minimum`:"Ajoutez au moins un élément pour une analyse complète"]},d.id))})]})]})}),l>=100&&o.jsx("div",{className:"mt-6 p-4 bg-success/5 rounded-lg border border-success/20",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(k,{name:"CheckCircle2",size:20,color:"var(--color-success)"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-success text-sm mb-1",children:"Profil financier complet !"}),o.jsx("p",{className:"text-xs text-text-secondary",children:"Vous pouvez maintenant générer votre équation financière personnalisée et explorer vos scénarios."})]})]})})]})},WX=({onQuickAdd:e,activeTab:t})=>{const[r,n]=$.useState(!1),i=[{id:"income",label:"Revenus",icon:"TrendingUp",color:"success",tab:0},{id:"expense",label:"Dépense fixe",icon:"Home",color:"error",tab:1},{id:"variable",label:"Dépense variable",icon:"Activity",color:"warning",tab:2},{id:"debt",label:"Dette",icon:"CreditCard",color:"error",tab:3},{id:"goal",label:"Objectif",icon:"Target",color:"primary",tab:4}],a=l=>{e(l.tab),n(!1)},s=l=>{const c={success:"bg-success hover:bg-success/90",error:"bg-error hover:bg-error/90",warning:"bg-warning hover:bg-warning/90",primary:"bg-primary hover:bg-primary/90"};return c[l]||c.primary};return o.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[o.jsx(St,{children:r&&o.jsx(Ae.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"absolute bottom-16 right-0 space-y-3",children:i.map((l,c)=>o.jsxs(Ae.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2,delay:c*.05},className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-sm font-medium text-foreground bg-surface px-3 py-2 rounded-lg shadow-lg border border-border/20",children:l.label}),o.jsx(G,{size:"icon",className:`w-12 h-12 rounded-full shadow-lg ${s(l.color)}`,onClick:()=>a(l),children:o.jsx(k,{name:l.icon,size:20,color:"white"})})]},l.id))})}),o.jsx(Ae.div,{animate:{rotate:r?45:0},transition:{duration:.2},children:o.jsx(G,{size:"icon",className:"w-14 h-14 rounded-full bg-primary hover:bg-primary/90 shadow-lg",onClick:()=>n(!r),children:o.jsx(k,{name:"Plus",size:24,color:"white"})})}),o.jsx(St,{children:r&&o.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm -z-10",onClick:()=>n(!1)})})]})},VX=()=>{const e=Zr(),[t,r]=$.useState(0),[n,i]=$.useState([]),[a,s]=$.useState(!1),[l,c]=$.useState([]),[u,d]=$.useState([]),[f,h]=$.useState([]),[m,p]=$.useState([]),[g,v]=$.useState([]);$.useEffect(()=>{(()=>{try{const P=localStorage.getItem("rivela_income_data"),E=localStorage.getItem("rivela_expenses_data"),M=localStorage.getItem("rivela_variable_expenses_data"),R=localStorage.getItem("rivela_debts_data"),F=localStorage.getItem("rivela_goals_data");P&&c(JSON.parse(P)),E&&d(JSON.parse(E)),M&&h(JSON.parse(M)),R&&p(JSON.parse(R)),F&&v(JSON.parse(F))}catch{w({type:"error",title:"Erreur de chargement",message:"Impossible de charger vos données sauvegardées. Vous pouvez recommencer la saisie."})}})()},[]),$.useEffect(()=>{const P=setTimeout(()=>{try{localStorage.setItem("rivela_income_data",JSON.stringify(l)),localStorage.setItem("rivela_expenses_data",JSON.stringify(u)),localStorage.setItem("rivela_variable_expenses_data",JSON.stringify(f)),localStorage.setItem("rivela_debts_data",JSON.stringify(m)),localStorage.setItem("rivela_goals_data",JSON.stringify(g)),a&&(s(!1),w({type:"success",title:"Données sauvegardées",message:"Vos informations ont été automatiquement sauvegardées.",autoHide:!0}))}catch{w({type:"error",title:"Erreur de sauvegarde",message:"Impossible de sauvegarder vos données. Vérifiez l'espace de stockage disponible."})}},2e3);return()=>clearTimeout(P)},[l,u,f,m,g,a]);const j=[{id:"income",label:"Sources de revenus",icon:"TrendingUp",color:"success",component:LX,props:{incomeData:l,onUpdateIncome:c}},{id:"expenses",label:"Dépenses fixes",icon:"Home",color:"error",component:FX,props:{expensesData:u,onUpdateExpenses:d}},{id:"variable",label:"Dépenses variables",icon:"Activity",color:"warning",component:zX,props:{variableExpensesData:f,onUpdateVariableExpenses:h}},{id:"debts",label:"Dettes",icon:"CreditCard",color:"error",component:BX,props:{debtsData:m,onUpdateDebts:p}},{id:"goals",label:"Objectifs financiers",icon:"Target",color:"primary",component:qX,props:{goalsData:g,onUpdateGoals:v}}],w=N=>{const P={id:Date.now(),...N};i(E=>[P,...E])},S=N=>{i(P=>P.filter(E=>E.id!==N))},x=N=>{r(N)},y=()=>{s(!0)},b=()=>{const N=[{data:l,min:1},{data:u,min:3},{data:f,min:2},{data:m,min:0},{data:g,min:1}],P=N.reduce((E,M)=>{const R=M.min===0?M.data.length>0?100:0:Math.min(M.data.length/M.min*100,100);return E+R},0)/N.length;return Math.round(P)},_=()=>l.length>=1&&u.length>=3&&f.length>=2&&g.length>=1,A=()=>{_()?e("/personalized-financial-equation-visualization"):w({type:"warning",title:"Données incomplètes",message:"Veuillez compléter les sections requises avant de continuer.",details:"Au minimum: 1 source de revenus, 3 dépenses fixes, 2 dépenses variables et 1 objectif financier."})},O=(N,P)=>{const E={success:P?"bg-success/10 text-success border-success/20":"text-text-secondary hover:text-success hover:bg-success/5",error:P?"bg-error/10 text-error border-error/20":"text-text-secondary hover:text-error hover:bg-error/5",warning:P?"bg-warning/10 text-warning border-warning/20":"text-text-secondary hover:text-warning hover:bg-warning/5",primary:P?"bg-primary/10 text-primary border-primary/20":"text-text-secondary hover:text-primary hover:bg-primary/5"};return E[N]||E.primary},T=j[t].component;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ta,{}),o.jsx("div",{className:"pt-16",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx("div",{className:"mb-8",children:o.jsx(ra,{currentStep:2,totalSteps:6,variant:"detailed"})}),o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-heading font-bold text-foreground mb-2",children:"Saisie des données financières"}),o.jsx("p",{className:"text-text-secondary",children:"Renseignez vos informations financières pour générer votre équation personnalisée"})]}),o.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-primary",children:[b(),"%"]}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Complété"})]}),_()&&o.jsxs(G,{onClick:A,className:"bg-gradient-to-r from-primary to-secondary",children:[o.jsx(k,{name:"ArrowRight",size:16,color:"white"}),o.jsx("span",{className:"ml-2",children:"Générer l'équation"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(UX,{incomeData:l,expensesData:u,variableExpensesData:f,debtsData:m,goalsData:g}),o.jsxs("div",{className:"hidden lg:block glass rounded-xl p-4 border border-border/20",children:[o.jsx("h3",{className:"font-heading font-semibold text-foreground mb-4",children:"Sections"}),o.jsx("nav",{className:"space-y-2",children:j.map((N,P)=>o.jsxs("button",{onClick:()=>r(P),className:`
                        w-full flex items-center space-x-3 px-3 py-2 rounded-lg
                        font-medium text-sm transition-all duration-200
                        ${O(N.color,t===P)}
                        ${t===P?"border":""}
                      `,children:[o.jsx(k,{name:N.icon,size:18,color:t===P?`var(--color-${N.color})`:"currentColor"}),o.jsx("span",{className:"flex-1 text-left",children:N.label}),t===P&&o.jsx("div",{className:"w-2 h-2 bg-current rounded-full"})]},N.id))})]})]}),o.jsxs("div",{className:"lg:col-span-3",children:[o.jsx("div",{className:"lg:hidden mb-6",children:o.jsx("div",{className:"flex space-x-1 bg-muted p-1 rounded-lg overflow-x-auto",children:j.map((N,P)=>o.jsxs("button",{onClick:()=>r(P),className:`
                        flex items-center space-x-2 px-3 py-2 rounded-md
                        font-medium text-xs whitespace-nowrap transition-all duration-200
                        ${t===P?"bg-surface text-foreground shadow-sm":"text-text-secondary hover:text-foreground"}
                      `,children:[o.jsx(k,{name:N.icon,size:16,color:"currentColor"}),o.jsx("span",{children:N.label})]},N.id))})}),o.jsx("div",{className:"glass rounded-xl p-6 border border-border/20 min-h-[600px]",children:o.jsx(T,{...j[t].props,onDataChange:y})}),o.jsx("div",{className:"md:hidden mt-6",children:_()?o.jsxs(G,{onClick:A,className:"w-full bg-gradient-to-r from-primary to-secondary",size:"lg",children:[o.jsx(k,{name:"ArrowRight",size:20,color:"white"}),o.jsx("span",{className:"ml-2",children:"Générer l'équation financière"})]}):o.jsxs("div",{className:"text-center p-4 bg-warning/5 rounded-lg border border-warning/20",children:[o.jsx(k,{name:"AlertTriangle",size:20,color:"var(--color-warning)",className:"mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-warning font-medium mb-1",children:"Données incomplètes"}),o.jsxs("p",{className:"text-xs text-text-secondary",children:["Complétez ",b(),"% pour continuer"]})]})})]})]})]})}),o.jsx(WX,{onQuickAdd:x,activeTab:t}),o.jsx(na,{notifications:n,onDismiss:S,position:"top",maxVisible:3,autoHideDelay:4e3})]})};var HX={value:()=>{}};function dS(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Zo(r)}function Zo(e){this._=e}function GX(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Zo.prototype=dS.prototype={constructor:Zo,on:function(e,t){var r=this._,n=GX(e+"",r),i,a=-1,s=n.length;if(arguments.length<2){for(;++a<s;)if((i=(e=n[a]).type)&&(i=KX(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=n[a]).type)r[i]=fb(r[i],e.name,t);else if(t==null)for(i in r)r[i]=fb(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Zo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,i=a.length;n<i;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}};function KX(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function fb(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=HX,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var fh="http://www.w3.org/1999/xhtml";const hb={svg:"http://www.w3.org/2000/svg",xhtml:fh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ju(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),hb.hasOwnProperty(t)?{space:hb[t],local:e}:e}function XX(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===fh&&t.documentElement.namespaceURI===fh?t.createElement(e):t.createElementNS(r,e)}}function YX(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function fS(e){var t=ju(e);return(t.local?YX:XX)(t)}function JX(){}function Zm(e){return e==null?JX:function(){return this.querySelector(e)}}function QX(e){typeof e!="function"&&(e=Zm(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,l=n[i]=new Array(s),c,u,d=0;d<s;++d)(c=a[d])&&(u=e.call(c,c.__data__,d,a))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new Gt(n,this._parents)}function ZX(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function eY(){return[]}function hS(e){return e==null?eY:function(){return this.querySelectorAll(e)}}function tY(e){return function(){return ZX(e.apply(this,arguments))}}function rY(e){typeof e=="function"?e=tY(e):e=hS(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var s=t[a],l=s.length,c,u=0;u<l;++u)(c=s[u])&&(n.push(e.call(c,c.__data__,u,s)),i.push(c));return new Gt(n,i)}function mS(e){return function(){return this.matches(e)}}function pS(e){return function(t){return t.matches(e)}}var nY=Array.prototype.find;function iY(e){return function(){return nY.call(this.children,e)}}function aY(){return this.firstElementChild}function sY(e){return this.select(e==null?aY:iY(typeof e=="function"?e:pS(e)))}var oY=Array.prototype.filter;function lY(){return Array.from(this.children)}function cY(e){return function(){return oY.call(this.children,e)}}function uY(e){return this.selectAll(e==null?lY:cY(typeof e=="function"?e:pS(e)))}function dY(e){typeof e!="function"&&(e=mS(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,l=n[i]=[],c,u=0;u<s;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new Gt(n,this._parents)}function gS(e){return new Array(e.length)}function fY(){return new Gt(this._enter||this._groups.map(gS),this._parents)}function yc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}yc.prototype={constructor:yc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function hY(e){return function(){return e}}function mY(e,t,r,n,i,a){for(var s=0,l,c=t.length,u=a.length;s<u;++s)(l=t[s])?(l.__data__=a[s],n[s]=l):r[s]=new yc(e,a[s]);for(;s<c;++s)(l=t[s])&&(i[s]=l)}function pY(e,t,r,n,i,a,s){var l,c,u=new Map,d=t.length,f=a.length,h=new Array(d),m;for(l=0;l<d;++l)(c=t[l])&&(h[l]=m=s.call(c,c.__data__,l,t)+"",u.has(m)?i[l]=c:u.set(m,c));for(l=0;l<f;++l)m=s.call(e,a[l],l,a)+"",(c=u.get(m))?(n[l]=c,c.__data__=a[l],u.delete(m)):r[l]=new yc(e,a[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(h[l])===c&&(i[l]=c)}function gY(e){return e.__data__}function vY(e,t){if(!arguments.length)return Array.from(this,gY);var r=t?pY:mY,n=this._parents,i=this._groups;typeof e!="function"&&(e=hY(e));for(var a=i.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var d=n[u],f=i[u],h=f.length,m=yY(e.call(d,d&&d.__data__,u,n)),p=m.length,g=l[u]=new Array(p),v=s[u]=new Array(p),j=c[u]=new Array(h);r(d,f,g,v,j,m,t);for(var w=0,S=0,x,y;w<p;++w)if(x=g[w]){for(w>=S&&(S=w+1);!(y=v[S])&&++S<p;);x._next=y||null}}return s=new Gt(s,n),s._enter=l,s._exit=c,s}function yY(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xY(){return new Gt(this._exit||this._groups.map(gS),this._parents)}function bY(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function wY(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,s=Math.min(i,a),l=new Array(i),c=0;c<s;++c)for(var u=r[c],d=n[c],f=u.length,h=l[c]=new Array(f),m,p=0;p<f;++p)(m=u[p]||d[p])&&(h[p]=m);for(;c<i;++c)l[c]=r[c];return new Gt(l,this._parents)}function jY(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,a=n[i],s;--i>=0;)(s=n[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function _Y(e){e||(e=SY);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var s=r[a],l=s.length,c=i[a]=new Array(l),u,d=0;d<l;++d)(u=s[d])&&(c[d]=u);c.sort(t)}return new Gt(i,this._parents).order()}function SY(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function AY(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function NY(){return Array.from(this)}function OY(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var s=n[i];if(s)return s}return null}function PY(){let e=0;for(const t of this)++e;return e}function CY(){return!this.node()}function EY(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],a=0,s=i.length,l;a<s;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function $Y(e){return function(){this.removeAttribute(e)}}function TY(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kY(e,t){return function(){this.setAttribute(e,t)}}function IY(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function MY(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function RY(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function DY(e,t){var r=ju(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?TY:$Y:typeof t=="function"?r.local?RY:MY:r.local?IY:kY)(r,t))}function vS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function LY(e){return function(){this.style.removeProperty(e)}}function FY(e,t,r){return function(){this.style.setProperty(e,t,r)}}function zY(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function BY(e,t,r){return arguments.length>1?this.each((t==null?LY:typeof t=="function"?zY:FY)(e,t,r??"")):Ji(this.node(),e)}function Ji(e,t){return e.style.getPropertyValue(t)||vS(e).getComputedStyle(e,null).getPropertyValue(t)}function qY(e){return function(){delete this[e]}}function UY(e,t){return function(){this[e]=t}}function WY(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function VY(e,t){return arguments.length>1?this.each((t==null?qY:typeof t=="function"?WY:UY)(e,t)):this.node()[e]}function yS(e){return e.trim().split(/^|\s+/)}function ep(e){return e.classList||new xS(e)}function xS(e){this._node=e,this._names=yS(e.getAttribute("class")||"")}xS.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function bS(e,t){for(var r=ep(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function wS(e,t){for(var r=ep(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function HY(e){return function(){bS(this,e)}}function GY(e){return function(){wS(this,e)}}function KY(e,t){return function(){(t.apply(this,arguments)?bS:wS)(this,e)}}function XY(e,t){var r=yS(e+"");if(arguments.length<2){for(var n=ep(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?KY:t?HY:GY)(r,t))}function YY(){this.textContent=""}function JY(e){return function(){this.textContent=e}}function QY(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function ZY(e){return arguments.length?this.each(e==null?YY:(typeof e=="function"?QY:JY)(e)):this.node().textContent}function eJ(){this.innerHTML=""}function tJ(e){return function(){this.innerHTML=e}}function rJ(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function nJ(e){return arguments.length?this.each(e==null?eJ:(typeof e=="function"?rJ:tJ)(e)):this.node().innerHTML}function iJ(){this.nextSibling&&this.parentNode.appendChild(this)}function aJ(){return this.each(iJ)}function sJ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oJ(){return this.each(sJ)}function lJ(e){var t=typeof e=="function"?e:fS(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function cJ(){return null}function uJ(e,t){var r=typeof e=="function"?e:fS(e),n=t==null?cJ:typeof t=="function"?t:Zm(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function dJ(){var e=this.parentNode;e&&e.removeChild(this)}function fJ(){return this.each(dJ)}function hJ(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mJ(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pJ(e){return this.select(e?mJ:hJ)}function gJ(e){return arguments.length?this.property("__data__",e):this.node().__data__}function vJ(e){return function(t){e.call(this,t,this.__data__)}}function yJ(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function xJ(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,a;r<i;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function bJ(e,t,r){return function(){var n=this.__on,i,a=vJ(t);if(n){for(var s=0,l=n.length;s<l;++s)if((i=n[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function wJ(e,t,r){var n=yJ(e+""),i,a=n.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(i=0,d=l[c];i<a;++i)if((s=n[i]).type===d.type&&s.name===d.name)return d.value}return}for(l=t?bJ:xJ,i=0;i<a;++i)this.each(l(n[i],t,r));return this}function jS(e,t,r){var n=vS(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function jJ(e,t){return function(){return jS(this,e,t)}}function _J(e,t){return function(){return jS(this,e,t.apply(this,arguments))}}function SJ(e,t){return this.each((typeof t=="function"?_J:jJ)(e,t))}function*AJ(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length,s;i<a;++i)(s=n[i])&&(yield s)}var _S=[null];function Gt(e,t){this._groups=e,this._parents=t}function mo(){return new Gt([[document.documentElement]],_S)}function NJ(){return this}Gt.prototype=mo.prototype={constructor:Gt,select:QX,selectAll:rY,selectChild:sY,selectChildren:uY,filter:dY,data:vY,enter:fY,exit:xY,join:bY,merge:wY,selection:NJ,order:jY,sort:_Y,call:AY,nodes:NY,node:OY,size:PY,empty:CY,each:EY,attr:DY,style:BY,property:VY,classed:XY,text:ZY,html:nJ,raise:aJ,lower:oJ,append:lJ,insert:uJ,remove:fJ,clone:pJ,datum:gJ,on:wJ,dispatch:SJ,[Symbol.iterator]:AJ};function OJ(e){return typeof e=="string"?new Gt([[document.querySelector(e)]],[document.documentElement]):new Gt([[e]],_S)}var Qi=0,Ja=0,za=0,SS=1e3,xc,Qa,bc=0,Xn=0,_u=0,Ys=typeof performance=="object"&&performance.now?performance:Date,AS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function tp(){return Xn||(AS(PJ),Xn=Ys.now()+_u)}function PJ(){Xn=0}function wc(){this._call=this._time=this._next=null}wc.prototype=NS.prototype={constructor:wc,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?tp():+r)+(t==null?0:+t),!this._next&&Qa!==this&&(Qa?Qa._next=this:xc=this,Qa=this),this._call=e,this._time=r,hh()},stop:function(){this._call&&(this._call=null,this._time=1/0,hh())}};function NS(e,t,r){var n=new wc;return n.restart(e,t,r),n}function CJ(){tp(),++Qi;for(var e=xc,t;e;)(t=Xn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Qi}function mb(){Xn=(bc=Ys.now())+_u,Qi=Ja=0;try{CJ()}finally{Qi=0,$J(),Xn=0}}function EJ(){var e=Ys.now(),t=e-bc;t>SS&&(_u-=t,bc=e)}function $J(){for(var e,t=xc,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:xc=r);Qa=e,hh(n)}function hh(e){if(!Qi){Ja&&(Ja=clearTimeout(Ja));var t=e-Xn;t>24?(e<1/0&&(Ja=setTimeout(mb,e-Ys.now()-_u)),za&&(za=clearInterval(za))):(za||(bc=Ys.now(),za=setInterval(EJ,SS)),Qi=1,AS(mb))}}function pb(e,t,r){var n=new wc;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var TJ=dS("start","end","cancel","interrupt"),kJ=[],OS=0,gb=1,mh=2,el=3,vb=4,ph=5,tl=6;function Su(e,t,r,n,i,a){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;IJ(e,r,{name:t,index:n,group:i,on:TJ,tween:kJ,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:OS})}function rp(e,t){var r=vr(e,t);if(r.state>OS)throw new Error("too late; already scheduled");return r}function Er(e,t){var r=vr(e,t);if(r.state>el)throw new Error("too late; already running");return r}function vr(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function IJ(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=NS(a,0,r.time);function a(u){r.state=gb,r.timer.restart(s,r.delay,r.time),r.delay<=u&&s(u-r.delay)}function s(u){var d,f,h,m;if(r.state!==gb)return c();for(d in n)if(m=n[d],m.name===r.name){if(m.state===el)return pb(s);m.state===vb?(m.state=tl,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete n[d]):+d<t&&(m.state=tl,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete n[d])}if(pb(function(){r.state===el&&(r.state=vb,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=mh,r.on.call("start",e,e.__data__,r.index,r.group),r.state===mh){for(r.state=el,i=new Array(h=r.tween.length),d=0,f=-1;d<h;++d)(m=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(i[++f]=m);i.length=f+1}}function l(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=ph,1),f=-1,h=i.length;++f<h;)i[f].call(e,d);r.state===ph&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=tl,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function MJ(e,t){var r=e.__transition,n,i,a=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((n=r[s]).name!==t){a=!1;continue}i=n.state>mh&&n.state<ph,n.state=tl,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[s]}a&&delete e.__transition}}function RJ(e){return this.each(function(){MJ(this,e)})}function DJ(e,t){var r,n;return function(){var i=Er(this,e),a=i.tween;if(a!==r){n=r=a;for(var s=0,l=n.length;s<l;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function LJ(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=Er(this,e),s=a.tween;if(s!==n){i=(n=s).slice();for(var l={name:t,value:r},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=l;break}c===u&&i.push(l)}a.tween=i}}function FJ(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=vr(this.node(),r).tween,i=0,a=n.length,s;i<a;++i)if((s=n[i]).name===e)return s.value;return null}return this.each((t==null?DJ:LJ)(r,e,t))}function np(e,t,r){var n=e._id;return e.each(function(){var i=Er(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return vr(i,n).value[t]}}function PS(e,t){var r;return(typeof t=="number"?lr:t instanceof Vn?El:(r=Vn(t))?(t=r,El):Dj)(e,t)}function zJ(e){return function(){this.removeAttribute(e)}}function BJ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qJ(e,t,r){var n,i=r+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===n?a:a=t(n=s,r)}}function UJ(e,t,r){var n,i=r+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===n?a:a=t(n=s,r)}}function WJ(e,t,r){var n,i,a;return function(){var s,l=r(this),c;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=l+"",s===c?null:s===n&&c===i?a:(i=c,a=t(n=s,l)))}}function VJ(e,t,r){var n,i,a;return function(){var s,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=l+"",s===c?null:s===n&&c===i?a:(i=c,a=t(n=s,l)))}}function HJ(e,t){var r=ju(e),n=r==="transform"?$z:PS;return this.attrTween(e,typeof t=="function"?(r.local?VJ:WJ)(r,n,np(this,"attr."+e,t)):t==null?(r.local?BJ:zJ)(r):(r.local?UJ:qJ)(r,n,t))}function GJ(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function KJ(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function XJ(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&KJ(e,a)),r}return i._value=t,i}function YJ(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&GJ(e,a)),r}return i._value=t,i}function JJ(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=ju(e);return this.tween(r,(n.local?XJ:YJ)(n,t))}function QJ(e,t){return function(){rp(this,e).delay=+t.apply(this,arguments)}}function ZJ(e,t){return t=+t,function(){rp(this,e).delay=t}}function eQ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?QJ:ZJ)(t,e)):vr(this.node(),t).delay}function tQ(e,t){return function(){Er(this,e).duration=+t.apply(this,arguments)}}function rQ(e,t){return t=+t,function(){Er(this,e).duration=t}}function nQ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tQ:rQ)(t,e)):vr(this.node(),t).duration}function iQ(e,t){if(typeof t!="function")throw new Error;return function(){Er(this,e).ease=t}}function aQ(e){var t=this._id;return arguments.length?this.each(iQ(t,e)):vr(this.node(),t).ease}function sQ(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Er(this,e).ease=r}}function oQ(e){if(typeof e!="function")throw new Error;return this.each(sQ(this._id,e))}function lQ(e){typeof e!="function"&&(e=mS(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,l=n[i]=[],c,u=0;u<s;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new Qr(n,this._parents,this._name,this._id)}function cQ(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),s=new Array(n),l=0;l<a;++l)for(var c=t[l],u=r[l],d=c.length,f=s[l]=new Array(d),h,m=0;m<d;++m)(h=c[m]||u[m])&&(f[m]=h);for(;l<n;++l)s[l]=t[l];return new Qr(s,this._parents,this._name,this._id)}function uQ(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function dQ(e,t,r){var n,i,a=uQ(t)?rp:Er;return function(){var s=a(this,e),l=s.on;l!==n&&(i=(n=l).copy()).on(t,r),s.on=i}}function fQ(e,t){var r=this._id;return arguments.length<2?vr(this.node(),r).on.on(e):this.each(dQ(r,e,t))}function hQ(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function mQ(){return this.on("end.remove",hQ(this._id))}function pQ(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Zm(e));for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s)for(var l=n[s],c=l.length,u=a[s]=new Array(c),d,f,h=0;h<c;++h)(d=l[h])&&(f=e.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,Su(u[h],t,r,h,u,vr(d,r)));return new Qr(a,this._parents,t,r)}function gQ(e){var t=this._name,r=this._id;typeof e!="function"&&(e=hS(e));for(var n=this._groups,i=n.length,a=[],s=[],l=0;l<i;++l)for(var c=n[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),m,p=vr(d,r),g=0,v=h.length;g<v;++g)(m=h[g])&&Su(m,t,r,g,h,p);a.push(h),s.push(d)}return new Qr(a,s,t,r)}var vQ=mo.prototype.constructor;function yQ(){return new vQ(this._groups,this._parents)}function xQ(e,t){var r,n,i;return function(){var a=Ji(this,e),s=(this.style.removeProperty(e),Ji(this,e));return a===s?null:a===r&&s===n?i:i=t(r=a,n=s)}}function CS(e){return function(){this.style.removeProperty(e)}}function bQ(e,t,r){var n,i=r+"",a;return function(){var s=Ji(this,e);return s===i?null:s===n?a:a=t(n=s,r)}}function wQ(e,t,r){var n,i,a;return function(){var s=Ji(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Ji(this,e))),s===c?null:s===n&&c===i?a:(i=c,a=t(n=s,l))}}function jQ(e,t){var r,n,i,a="style."+t,s="end."+a,l;return function(){var c=Er(this,e),u=c.on,d=c.value[a]==null?l||(l=CS(t)):void 0;(u!==r||i!==d)&&(n=(r=u).copy()).on(s,i=d),c.on=n}}function _Q(e,t,r){var n=(e+="")=="transform"?Ez:PS;return t==null?this.styleTween(e,xQ(e,n)).on("end.style."+e,CS(e)):typeof t=="function"?this.styleTween(e,wQ(e,n,np(this,"style."+e,t))).each(jQ(this._id,e)):this.styleTween(e,bQ(e,n,t),r).on("end.style."+e,null)}function SQ(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function AQ(e,t,r){var n,i;function a(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&SQ(e,s,r)),n}return a._value=t,a}function NQ(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,AQ(e,t,r??""))}function OQ(e){return function(){this.textContent=e}}function PQ(e){return function(){var t=e(this);this.textContent=t??""}}function CQ(e){return this.tween("text",typeof e=="function"?PQ(np(this,"text",e)):OQ(e==null?"":e+""))}function EQ(e){return function(t){this.textContent=e.call(this,t)}}function $Q(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&EQ(i)),t}return n._value=e,n}function TQ(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,$Q(e))}function kQ(){for(var e=this._name,t=this._id,r=ES(),n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],l=s.length,c,u=0;u<l;++u)if(c=s[u]){var d=vr(c,t);Su(c,e,r,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Qr(n,this._parents,e,r)}function IQ(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(a,s){var l={value:s},c={value:function(){--i===0&&a()}};r.each(function(){var u=Er(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),i===0&&a()})}var MQ=0;function Qr(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function ES(){return++MQ}var Fr=mo.prototype;Qr.prototype={constructor:Qr,select:pQ,selectAll:gQ,selectChild:Fr.selectChild,selectChildren:Fr.selectChildren,filter:lQ,merge:cQ,selection:yQ,transition:kQ,call:Fr.call,nodes:Fr.nodes,node:Fr.node,size:Fr.size,empty:Fr.empty,each:Fr.each,on:fQ,attr:HJ,attrTween:JJ,style:_Q,styleTween:NQ,text:CQ,textTween:TQ,remove:mQ,tween:FJ,delay:eQ,duration:nQ,ease:aQ,easeVarying:oQ,end:IQ,[Symbol.iterator]:Fr[Symbol.iterator]};function RQ(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var DQ={time:null,delay:0,duration:250,ease:RQ};function LQ(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function FQ(e){var t,r;e instanceof Qr?(t=e._id,e=e._name):(t=ES(),(r=DQ).time=tp(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],l=s.length,c,u=0;u<l;++u)(c=s[u])&&Su(c,e,t,u,s,r||LQ(c,t));return new Qr(n,this._parents,e,t)}mo.prototype.interrupt=RJ;mo.prototype.transition=FQ;function Za(e,t,r){this.k=e,this.x=t,this.y=r}Za.prototype={constructor:Za,scale:function(e){return e===1?this:new Za(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Za(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Za.prototype;const zQ=({equationData:e,isFullscreen:t=!1,onVariableChange:r,emotionalContext:n=null})=>{const i=$.useRef(),[a,s]=$.useState(null),[l,c]=$.useState("idle"),d=e||{formula:"Dépenses Weekend × État Émotionnel = Dépassement Mensuel",variables:[{id:"weekend_spending",name:"Dépenses Weekend",value:280,unit:"€",impact:.85,color:"#EF4444",description:"Moyenne des dépenses de weekend sur 3 mois"},{id:"emotional_state",name:"État Émotionnel",value:6.2,unit:"/10",impact:.72,color:"#F59E0B",description:"Score moyen de stress financier"},{id:"monthly_overage",name:"Dépassement Mensuel",value:420,unit:"€",impact:1,color:"#DC2626",description:"Montant moyen de dépassement budgétaire"}],insights:[{id:1,type:"correlation",strength:.89,message:"Forte corrélation entre stress émotionnel et dépenses impulsives le weekend"},{id:2,type:"pattern",strength:.76,message:"Les dépenses augmentent de 34% quand le stress dépasse 7/10"}]};$.useEffect(()=>{if(!i.current)return;const h=OJ(i.current);h.selectAll("*").remove();const m=t?1200:800,p=t?600:400,g={top:40,left:40};h.attr("width",m).attr("height",p);const v=h.append("g").attr("transform",`translate(${g.left},${g.top})`),j=120,w=80,S=200;d.variables.forEach((x,y)=>{const b=y*S+50,_=p/2-w/2,A=v.append("g").attr("class","variable-node").attr("transform",`translate(${b},${_})`).style("cursor","pointer").on("click",()=>s(x));A.append("rect").attr("width",j).attr("height",w).attr("rx",12).style("fill",x.color).style("fill-opacity",.1).style("stroke",x.color).style("stroke-width",2).style("stroke-opacity",.3),A.append("text").attr("x",j/2).attr("y",25).attr("text-anchor","middle").style("font-family","Inter, sans-serif").style("font-size","12px").style("font-weight","600").style("fill",x.color).text(x.name),A.append("text").attr("x",j/2).attr("y",45).attr("text-anchor","middle").style("font-family","Inter, sans-serif").style("font-size","18px").style("font-weight","700").style("fill","#1E293B").text(`${x.value}${x.unit}`);const O=(j-20)*x.impact;if(A.append("rect").attr("x",10).attr("y",w-15).attr("width",O).attr("height",4).attr("rx",2).style("fill",x.color).style("opacity",.8),y<d.variables.length-1){const T=b+j+20,N=p/2;v.append("line").attr("x1",T).attr("y1",N).attr("x2",T+40).attr("y2",N).style("stroke","#64748B").style("stroke-width",2).style("opacity",.6),v.append("polygon").attr("points",`${T+40},${N} ${T+30},${N-5} ${T+30},${N+5}`).style("fill","#64748B").style("opacity",.6),y===0?v.append("text").attr("x",T+20).attr("y",N-15).attr("text-anchor","middle").style("font-family","Inter, sans-serif").style("font-size","16px").style("font-weight","600").style("fill","#64748B").text("×"):y===1&&v.append("text").attr("x",T+20).attr("y",N-15).attr("text-anchor","middle").style("font-family","Inter, sans-serif").style("font-size","16px").style("font-weight","600").style("fill","#64748B").text("=")}}),v.selectAll(".variable-node").style("opacity",0).transition().duration(800).delay((x,y)=>y*200).style("opacity",1).attr("transform",(x,y)=>{const b=y*S+50,_=p/2-w/2;return`translate(${b},${_}) scale(1)`})},[d,t,a]);const f=(h,m)=>{r&&r(h.id,m),c("updating"),setTimeout(()=>c("idle"),1e3)};return o.jsxs("div",{className:`relative ${t?"h-screen":"h-96"} bg-gradient-to-br from-background to-muted rounded-2xl overflow-hidden`,children:[o.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((h,m)=>o.jsx(Ae.div,{className:"absolute w-1 h-1 bg-primary/20 rounded-full",initial:{x:Math.random()*(t?1200:800),y:Math.random()*(t?600:400),opacity:0},animate:{x:Math.random()*(t?1200:800),y:Math.random()*(t?600:400),opacity:[0,1,0]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}},m))}),o.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10",children:o.jsx(Ae.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"glass rounded-xl px-6 py-3",children:o.jsx("h2",{className:"font-heading font-bold text-lg text-center text-foreground",children:d.formula})})}),o.jsx("svg",{ref:i,className:"w-full h-full",style:{background:"transparent"}}),n&&o.jsx("div",{className:"absolute top-6 right-6 z-10",children:o.jsxs(Ae.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"glass rounded-xl p-3 flex items-center space-x-2",children:[o.jsx(k,{name:"Heart",size:16,color:n.color||"var(--color-primary)"}),o.jsxs("span",{className:"text-sm font-medium text-foreground",children:["Humeur: ",n.level,"/10"]})]})}),o.jsx(St,{children:a&&o.jsxs(Ae.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},className:"absolute top-0 right-0 h-full w-80 glass border-l border-border/20 p-6 overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-heading font-bold text-lg text-foreground",children:a.name}),o.jsx("button",{onClick:()=>s(null),className:"p-2 hover:bg-black/5 rounded-lg transition-colors",children:o.jsx(k,{name:"X",size:20,color:"var(--color-text-secondary)"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"glass rounded-xl p-4",children:[o.jsxs("div",{className:"text-2xl font-bold text-foreground mb-1",children:[a.value,a.unit]}),o.jsx("div",{className:"text-sm text-text-secondary",children:a.description})]}),o.jsxs("div",{className:"glass rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"Impact"}),o.jsxs("span",{className:"text-sm font-bold text-primary",children:[Math.round(a.impact*100),"%"]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${a.impact*100}%`,backgroundColor:a.color}})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Ajuster la valeur"}),o.jsx("input",{type:"range",min:"0",max:a.value*2,value:a.value,onChange:h=>f(a,parseFloat(h.target.value)),className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${a.color} 0%, ${a.color} 50%, #F1F5F9 50%, #F1F5F9 100%)`}})]})]})]})}),o.jsx("div",{className:"absolute bottom-6 left-6 right-6 z-10",children:o.jsx("div",{className:"flex flex-wrap gap-2",children:d.insights.map(h=>o.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"glass rounded-lg px-3 py-2 flex items-center space-x-2",children:[o.jsx(k,{name:h.type==="correlation"?"TrendingUp":"Zap",size:14,color:"var(--color-primary)"}),o.jsxs("span",{className:"text-xs font-medium text-foreground",children:[Math.round(h.strength*100),"% - ",h.message]})]},h.id))})}),o.jsx(St,{children:l==="updating"&&o.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex items-center justify-center bg-black/10 backdrop-blur-sm z-20",children:o.jsxs("div",{className:"glass rounded-xl p-6 flex items-center space-x-3",children:[o.jsx("div",{className:"animate-spin",children:o.jsx(k,{name:"RefreshCw",size:24,color:"var(--color-primary)"})}),o.jsx("span",{className:"font-medium text-foreground",children:"Recalcul en cours..."})]})})})]})},BQ=({insights:e=[],onInsightAction:t})=>{const[r,n]=$.useState(null),[i,a]=$.useState("all"),s=e.length>0?e:[{id:1,category:"behavioral",type:"spending_pattern",title:"Dépenses Émotionnelles Détectées",summary:"Vos achats augmentent de 45% les jours de stress élevé",impact:"high",confidence:.89,neuroscience:{principle:"Système de Récompense Dopaminergique",explanation:"Le stress active le système de récompense du cerveau, poussant à chercher des gratifications immédiates comme les achats impulsifs.",source:"Journal of Consumer Psychology, 2023",credibility:"peer_reviewed"},data:{correlation:.78,sample_size:90,time_period:"3 mois"},actionable:{suggestion:"Créer une pause de 24h avant tout achat non-essentiel",potential_savings:280,difficulty:"medium"},visualization:{type:"trend",data:[120,180,95,220,160,190,85]}},{id:2,category:"financial",type:"hidden_costs",title:"Frais Cachés Identifiés",summary:"€47/mois en frais récurrents non-optimisés",impact:"medium",confidence:.95,neuroscience:{principle:"Biais de Négligence des Petits Montants",explanation:"Le cerveau tend à ignorer les petites dépenses récurrentes, créant un angle mort cognitif coûteux.",source:"Behavioral Economics Review, 2023",credibility:"peer_reviewed"},data:{monthly_impact:47,annual_impact:564,categories:["Abonnements","Frais bancaires","Services auto-renouvelés"]},actionable:{suggestion:"Audit mensuel des abonnements et négociation des frais",potential_savings:564,difficulty:"easy"}},{id:3,category:"goal",type:"progress_insight",title:"Accélération Possible des Objectifs",summary:"Objectif épargne atteignable 3 mois plus tôt",impact:"high",confidence:.82,neuroscience:{principle:"Motivation par Proximité d'Objectif",explanation:"La perception de proximité d'un objectif active les circuits de motivation et améliore la persévérance.",source:"Psychological Science, 2023",credibility:"peer_reviewed"},data:{current_timeline:"18 mois",optimized_timeline:"15 mois",required_adjustment:"12% d'épargne supplémentaire"},actionable:{suggestion:"Rediriger les économies de frais cachés vers l'épargne",potential_gain:3,difficulty:"easy"}}],l=[{id:"all",label:"Tous",icon:"Grid3X3"},{id:"behavioral",label:"Comportemental",icon:"Brain"},{id:"financial",label:"Financier",icon:"TrendingUp"},{id:"goal",label:"Objectifs",icon:"Target"}],c=p=>{switch(p){case"high":return"text-error";case"medium":return"text-warning";case"low":return"text-success";default:return"text-text-secondary"}},u=p=>{switch(p){case"high":return"AlertTriangle";case"medium":return"AlertCircle";case"low":return"CheckCircle2";default:return"Info"}},d=p=>{switch(p){case"peer_reviewed":return{icon:"Award",color:"text-success",label:"Étude Validée"};case"research":return{icon:"BookOpen",color:"text-primary",label:"Recherche"};default:return{icon:"Info",color:"text-text-secondary",label:"Information"}}},f=i==="all"?s:s.filter(p=>p.category===i),h=p=>{n(r===p?null:p)},m=p=>{t&&t(p)};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(p=>o.jsx(G,{variant:i===p.id?"default":"outline",size:"sm",iconName:p.icon,iconPosition:"left",onClick:()=>a(p.id),className:"text-xs",children:p.label},p.id))}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.jsx(St,{children:f.map(p=>{var w;const g=r===p.id;c(p.impact);const v=u(p.impact),j=d((w=p.neuroscience)==null?void 0:w.credibility);return o.jsxs(Ae.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`glass rounded-xl overflow-hidden transition-all duration-300 ${g?"md:col-span-2 lg:col-span-3":""}`,children:[o.jsxs("div",{className:"p-4 cursor-pointer hover:bg-black/5 transition-colors",onClick:()=>h(p.id),children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(k,{name:v,size:18,color:`var(--color-${p.impact==="high"?"error":p.impact==="medium"?"warning":"success"})`}),o.jsx("h3",{className:"font-heading font-semibold text-sm text-foreground",children:p.title})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),o.jsxs("span",{className:"text-xs text-text-secondary",children:[Math.round(p.confidence*100),"%"]})]}),o.jsx(k,{name:g?"ChevronUp":"ChevronDown",size:16,color:"var(--color-text-secondary)"})]})]}),o.jsx("p",{className:"text-sm text-text-secondary mb-3",children:p.summary}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(k,{name:"TrendingUp",size:14,color:"var(--color-primary)"}),o.jsxs("span",{className:"text-xs text-primary font-medium",children:["Impact ",p.impact]})]}),j&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(k,{name:j.icon,size:14,color:`var(--color-${j.color.replace("text-","")})`}),o.jsx("span",{className:`text-xs ${j.color} font-medium`,children:j.label})]})]})})]}),o.jsx(St,{children:g&&o.jsx(Ae.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-border/20",children:o.jsxs("div",{className:"p-4 space-y-4",children:[p.neuroscience&&o.jsxs("div",{className:"glass rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(k,{name:"Brain",size:16,color:"var(--color-primary)"}),o.jsx("h4",{className:"font-heading font-semibold text-sm text-foreground",children:"Base Neuroscientifique"})]}),o.jsx("h5",{className:"font-medium text-sm text-primary mb-2",children:p.neuroscience.principle}),o.jsx("p",{className:"text-sm text-text-secondary mb-3",children:p.neuroscience.explanation}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(k,{name:"ExternalLink",size:12,color:"var(--color-text-secondary)"}),o.jsxs("span",{className:"text-xs text-text-secondary",children:["Source: ",p.neuroscience.source]})]})]}),p.data&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(p.data).map(([S,x])=>o.jsxs("div",{className:"glass rounded-lg p-3",children:[o.jsx("div",{className:"text-xs text-text-secondary mb-1 capitalize",children:S.replace("_"," ")}),o.jsx("div",{className:"font-semibold text-sm text-foreground",children:typeof x=="number"&&S.includes("correlation")?`${Math.round(x*100)}%`:x})]},S))}),p.actionable&&o.jsxs("div",{className:"glass rounded-lg p-4 bg-primary/5",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(k,{name:"Lightbulb",size:16,color:"var(--color-primary)"}),o.jsx("h4",{className:"font-heading font-semibold text-sm text-foreground",children:"Action Recommandée"})]}),o.jsx("p",{className:"text-sm text-text-secondary mb-3",children:p.actionable.suggestion}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[p.actionable.potential_savings&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(k,{name:"PiggyBank",size:14,color:"var(--color-success)"}),o.jsxs("span",{className:"text-xs text-success font-medium",children:["+€",p.actionable.potential_savings]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(k,{name:"Gauge",size:14,color:"var(--color-text-secondary)"}),o.jsx("span",{className:"text-xs text-text-secondary capitalize",children:p.actionable.difficulty})]})]}),o.jsx(G,{variant:"outline",size:"sm",onClick:()=>m(p),className:"text-xs",children:"Appliquer"})]})]})]})})})]},p.id)})})}),f.length===0&&o.jsxs(Ae.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[o.jsx(k,{name:"Search",size:48,color:"var(--color-text-secondary)",className:"mx-auto mb-4"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground mb-2",children:"Aucun insight trouvé"}),o.jsx("p",{className:"text-text-secondary",children:"Aucun insight disponible pour cette catégorie."})]})]})},qQ=({isOpen:e,onClose:t,currentEquation:r,onScenarioChange:n})=>{const[i,a]=$.useState([]),[s,l]=$.useState(null),[c,u]=$.useState(!1),d=r||{variables:[{id:"income",name:"Revenus",value:3200,unit:"€"},{id:"fixed_expenses",name:"Charges Fixes",value:1800,unit:"€"},{id:"variable_expenses",name:"Dépenses Variables",value:950,unit:"€"},{id:"savings",name:"Épargne",value:450,unit:"€"}]},f=[{id:"salary_increase",name:"Augmentation de Salaire",description:"Impact d'une augmentation de 10%",icon:"TrendingUp",changes:{income:1.1},color:"success"},{id:"expense_reduction",name:"Réduction des Dépenses",description:"Diminution de 15% des dépenses variables",icon:"Scissors",changes:{variable_expenses:.85},color:"primary"},{id:"emergency_fund",name:"Fonds d'Urgence",description:"Besoin de €2000 d'urgence",icon:"AlertTriangle",changes:{variable_expenses:1.2,savings:.5},color:"warning"},{id:"investment_goal",name:"Objectif Investissement",description:"Épargne supplémentaire de €300/mois",icon:"Target",changes:{savings:1.67},color:"secondary"}],[h,m]=$.useState({name:"",variables:d.variables.map(x=>({...x,newValue:x.value,change:0}))});$.useEffect(()=>{e&&m(x=>({...x,variables:d.variables.map(y=>({...y,newValue:y.value,change:0}))}))},[e]);const p=x=>{var A,O,T,N,P,E;const y=d.variables.map(M=>{const R=x[M.id]||1;return{...M,newValue:Math.round(M.value*R),change:Math.round(M.value*R-M.value)}}),b=((A=d.variables.find(M=>M.id==="income"))==null?void 0:A.value)-((O=d.variables.find(M=>M.id==="fixed_expenses"))==null?void 0:O.value)-((T=d.variables.find(M=>M.id==="variable_expenses"))==null?void 0:T.value),_=((N=y.find(M=>M.id==="income"))==null?void 0:N.newValue)-((P=y.find(M=>M.id==="fixed_expenses"))==null?void 0:P.newValue)-((E=y.find(M=>M.id==="variable_expenses"))==null?void 0:E.newValue);return{variables:y,impact:{balanceChange:_-b,percentageChange:b!==0?(_-b)/Math.abs(b)*100:0}}},g=x=>{u(!0),setTimeout(()=>{const y=p(x.changes),b={id:Date.now(),name:x.name,description:x.description,template:x.id,color:x.color,...y};a(_=>[b,..._.slice(0,2)]),l(b),u(!1),n&&n(b)},800)},v=(x,y)=>{m(b=>({...b,variables:b.variables.map(_=>_.id===x?{..._,newValue:parseFloat(y)||0,change:(parseFloat(y)||0)-_.value}:_)}))},j=()=>{h.name.trim()&&(u(!0),setTimeout(()=>{const x={};h.variables.forEach(_=>{_.value!==0&&(x[_.id]=_.newValue/_.value)});const y=p(x),b={id:Date.now(),name:h.name,description:"Scénario personnalisé",template:"custom",color:"accent",...y};a(_=>[b,..._.slice(0,2)]),l(b),u(!1),m({name:"",variables:d.variables.map(_=>({..._,newValue:_.value,change:0}))}),n&&n(b)},800))},w=x=>x>0?"text-success":x<0?"text-error":"text-text-secondary",S=x=>x>0?"TrendingUp":x<0?"TrendingDown":"Minus";return e?o.jsx(St,{children:o.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-1000 flex items-center justify-center p-4",onClick:t,children:o.jsxs(Ae.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"glass rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",onClick:x=>x.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border/20",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:o.jsx(k,{name:"Calculator",size:20,color:"var(--color-primary)"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-heading font-bold text-xl text-foreground",children:'Simulateur "Et Si..."'}),o.jsx("p",{className:"text-sm text-text-secondary",children:"Explorez différents scénarios financiers"})]})]}),o.jsx(G,{variant:"ghost",size:"icon",onClick:t,children:o.jsx(k,{name:"X",size:24,color:"var(--color-text-secondary)"})})]}),o.jsxs("div",{className:"flex h-[calc(90vh-100px)]",children:[o.jsxs("div",{className:"w-1/3 border-r border-border/20 p-6 overflow-y-auto",children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground mb-4",children:"Scénarios Prédéfinis"}),o.jsx("div",{className:"space-y-3",children:f.map(x=>o.jsx(Ae.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>g(x),disabled:c,className:"w-full glass rounded-xl p-4 text-left hover:bg-primary/5 transition-colors disabled:opacity-50",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:`w-8 h-8 bg-${x.color}/10 rounded-lg flex items-center justify-center flex-shrink-0`,children:o.jsx(k,{name:x.icon,size:16,color:`var(--color-${x.color})`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-sm text-foreground mb-1",children:x.name}),o.jsx("p",{className:"text-xs text-text-secondary",children:x.description})]})]})},x.id))}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground mb-4",children:"Scénario Personnalisé"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ie,{label:"Nom du scénario",placeholder:"Ex: Nouveau projet...",value:h.name,onChange:x=>m(y=>({...y,name:x.target.value}))}),h.variables.map(x=>o.jsxs("div",{className:"glass rounded-lg p-3",children:[o.jsx("label",{className:"text-xs font-medium text-foreground mb-2 block",children:x.name}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ie,{type:"number",value:x.newValue,onChange:y=>v(x.id,y.target.value),className:"flex-1"}),o.jsx("span",{className:"text-xs text-text-secondary",children:x.unit})]}),x.change!==0&&o.jsxs("div",{className:`text-xs mt-1 ${w(x.change)}`,children:[x.change>0?"+":"",x.change,x.unit]})]},x.id)),o.jsx(G,{variant:"outline",fullWidth:!0,onClick:j,disabled:!h.name.trim()||c,loading:c,children:"Calculer le Scénario"})]})]})]}),o.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Résultats de Simulation"}),i.length>0&&o.jsx(G,{variant:"outline",size:"sm",onClick:()=>a([]),children:"Effacer Tout"})]}),c&&o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"glass rounded-xl p-6 flex items-center space-x-3",children:[o.jsx("div",{className:"animate-spin",children:o.jsx(k,{name:"RefreshCw",size:24,color:"var(--color-primary)"})}),o.jsx("span",{className:"font-medium text-foreground",children:"Calcul en cours..."})]})}),i.length===0&&!c&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(k,{name:"Calculator",size:48,color:"var(--color-text-secondary)",className:"mx-auto mb-4"}),o.jsx("h4",{className:"font-heading font-semibold text-lg text-foreground mb-2",children:"Aucun scénario testé"}),o.jsx("p",{className:"text-text-secondary",children:"Sélectionnez un scénario prédéfini ou créez le vôtre."})]}),o.jsx("div",{className:"space-y-4",children:i.map(x=>o.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`glass rounded-xl p-4 ${(s==null?void 0:s.id)===x.id?"ring-2 ring-primary/30":""}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-8 h-8 bg-${x.color}/10 rounded-lg flex items-center justify-center`,children:o.jsx(k,{name:x.template==="custom"?"Settings":"TrendingUp",size:16,color:`var(--color-${x.color})`})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-sm text-foreground",children:x.name}),o.jsx("p",{className:"text-xs text-text-secondary",children:x.description})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:`text-lg font-bold ${w(x.impact.balanceChange)}`,children:[x.impact.balanceChange>0?"+":"",x.impact.balanceChange,"€"]}),o.jsxs("div",{className:"text-xs text-text-secondary",children:[x.impact.percentageChange>0?"+":"",x.impact.percentageChange.toFixed(1),"%"]})]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:x.variables.map(y=>o.jsxs("div",{className:"glass rounded-lg p-3",children:[o.jsx("div",{className:"text-xs text-text-secondary mb-1",children:y.name}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"font-medium text-sm text-foreground",children:[y.newValue,y.unit]}),y.change!==0&&o.jsxs("div",{className:`flex items-center space-x-1 ${w(y.change)}`,children:[o.jsx(k,{name:S(y.change),size:12}),o.jsxs("span",{className:"text-xs",children:[Math.abs(y.change),y.unit]})]})]})]},y.id))})]},x.id))})]})]})]})})}):null},UQ=({className:e="",showDetails:t=!1,onInsightClick:r})=>{const[n,i]=$.useState({}),[a,s]=$.useState(!1),[l,c]=$.useState(null),u={totalUsers:12847,activeToday:1234,insightsGenerated:45623,averageSavings:340,topInsights:[{id:1,category:"spending_pattern",title:"Dépenses émotionnelles détectées",percentage:78,userCount:10021,averageImpact:280,icon:"Heart"},{id:2,category:"hidden_costs",title:"Frais cachés identifiés",percentage:65,userCount:8350,averageImpact:156,icon:"Eye"},{id:3,category:"goal_optimization",title:"Objectifs optimisés",percentage:52,userCount:6680,averageImpact:420,icon:"Target"},{id:4,category:"behavioral_change",title:"Changements comportementaux",percentage:43,userCount:5524,averageImpact:195,icon:"TrendingUp"}],recentActivity:[{action:"insight_generated",count:23,timeframe:"5 min"},{action:"goal_achieved",count:7,timeframe:"15 min"},{action:"pattern_discovered",count:12,timeframe:"30 min"}],demographics:{ageGroups:[{range:"25-34",percentage:42},{range:"35-44",percentage:31},{range:"18-24",percentage:16},{range:"45+",percentage:11}],topRegions:[{name:"Île-de-France",percentage:28},{name:"Auvergne-Rhône-Alpes",percentage:15},{name:"Nouvelle-Aquitaine",percentage:12}]}};$.useEffect(()=>{s(!0);const h=setTimeout(()=>s(!1),2e3);return()=>clearTimeout(h)},[]),$.useEffect(()=>{const h=setInterval(()=>{i(m=>({...m,activeToday:u.activeToday+Math.floor(Math.random()*10),insightsGenerated:u.insightsGenerated+Math.floor(Math.random()*5)}))},3e4);return()=>clearInterval(h)},[]);const d=({value:h,suffix:m="",duration:p=2e3})=>{const[g,v]=$.useState(0);return $.useEffect(()=>{if(!a)return;let j;const w=S=>{j||(j=S);const x=Math.min((S-j)/p,1);v(Math.floor(x*h)),x<1&&requestAnimationFrame(w)};requestAnimationFrame(w)},[h,p,a]),o.jsxs("span",{className:"font-bold",children:[g.toLocaleString("fr-FR"),m]})},f=h=>{c(h),r&&r(h)};return o.jsxs("div",{className:`space-y-4 ${e}`,children:[o.jsxs("div",{className:"glass rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:o.jsx(k,{name:"Users",size:16,color:"var(--color-primary)"})}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Communauté Rivela"})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary mb-1",children:o.jsx(d,{value:u.totalUsers})}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Utilisateurs actifs"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-secondary mb-1",children:o.jsx(d,{value:n.activeToday||u.activeToday})}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Actifs aujourd'hui"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-accent mb-1",children:o.jsx(d,{value:n.insightsGenerated||u.insightsGenerated})}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Insights générés"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-success mb-1",children:o.jsx(d,{value:u.averageSavings,suffix:"€"})}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Économies moyennes"})]})]})]}),o.jsxs("div",{className:"glass rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"font-heading font-semibold text-base text-foreground",children:"Insights Populaires"}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),o.jsx("span",{className:"text-xs text-text-secondary",children:"En temps réel"})]})]}),o.jsx("div",{className:"space-y-3",children:u.topInsights.map(h=>o.jsxs(Ae.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f(h),className:"w-full glass rounded-lg p-3 text-left hover:bg-primary/5 transition-colors",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(k,{name:h.icon,size:16,color:"var(--color-primary)"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm text-foreground",children:h.title}),o.jsxs("div",{className:"text-xs text-text-secondary",children:[h.userCount.toLocaleString("fr-FR")," utilisateurs"]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-sm font-bold text-primary",children:[h.percentage,"%"]}),o.jsxs("div",{className:"text-xs text-success",children:["+",h.averageImpact,"€"]})]})]}),o.jsx("div",{className:"mt-2 w-full bg-muted rounded-full h-1",children:o.jsx(Ae.div,{className:"bg-primary h-1 rounded-full",initial:{width:0},animate:{width:`${h.percentage}%`},transition:{duration:1,delay:.5}})})]},h.id))})]}),o.jsxs("div",{className:"glass rounded-xl p-4",children:[o.jsx("h4",{className:"font-heading font-semibold text-base text-foreground mb-4",children:"Activité Récente"}),o.jsx("div",{className:"space-y-2",children:u.recentActivity.map((h,m)=>o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),o.jsxs("span",{className:"text-sm text-foreground",children:[h.action==="insight_generated"&&"Insights générés",h.action==="goal_achieved"&&"Objectifs atteints",h.action==="pattern_discovered"&&"Patterns découverts"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm font-bold text-primary",children:["+",h.count]}),o.jsx("span",{className:"text-xs text-text-secondary",children:h.timeframe})]})]},m))})]}),t&&o.jsxs("div",{className:"glass rounded-xl p-4",children:[o.jsx("h4",{className:"font-heading font-semibold text-base text-foreground mb-4",children:"Profil de la Communauté"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-sm text-foreground mb-2",children:"Tranches d'âge"}),o.jsx("div",{className:"space-y-2",children:u.demographics.ageGroups.map((h,m)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-sm text-text-secondary",children:[h.range," ans"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-16 bg-muted rounded-full h-1",children:o.jsx("div",{className:"bg-primary h-1 rounded-full",style:{width:`${h.percentage}%`}})}),o.jsxs("span",{className:"text-xs text-foreground font-medium",children:[h.percentage,"%"]})]})]},m))})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-sm text-foreground mb-2",children:"Régions principales"}),o.jsx("div",{className:"space-y-2",children:u.demographics.topRegions.map((h,m)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-text-secondary",children:h.name}),o.jsxs("span",{className:"text-xs text-foreground font-medium",children:[h.percentage,"%"]})]},m))})]})]})]}),o.jsx(St,{children:l&&o.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-1000 flex items-center justify-center p-4",onClick:()=>c(null),children:o.jsxs(Ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"glass rounded-xl p-6 max-w-md w-full",onClick:h=>h.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(k,{name:l.icon,size:20,color:"var(--color-primary)"}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:l.title})]}),o.jsx("button",{onClick:()=>c(null),className:"p-1 hover:bg-black/5 rounded-lg transition-colors",children:o.jsx(k,{name:"X",size:20,color:"var(--color-text-secondary)"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"glass rounded-lg p-3 text-center",children:[o.jsxs("div",{className:"text-lg font-bold text-primary",children:[l.percentage,"%"]}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Taux de détection"})]}),o.jsxs("div",{className:"glass rounded-lg p-3 text-center",children:[o.jsxs("div",{className:"text-lg font-bold text-success",children:["+",l.averageImpact,"€"]}),o.jsx("div",{className:"text-xs text-text-secondary",children:"Impact moyen"})]})]}),o.jsxs("div",{className:"glass rounded-lg p-3",children:[o.jsx("div",{className:"text-sm text-text-secondary mb-1",children:"Utilisateurs concernés"}),o.jsx("div",{className:"text-lg font-bold text-foreground",children:l.userCount.toLocaleString("fr-FR")})]}),o.jsxs("p",{className:"text-sm text-text-secondary",children:["Cet insight a été découvert par ",l.percentage,"% des utilisateurs de Rivela, avec un impact financier moyen de +",l.averageImpact,"€ par mois."]})]})]})})})]})},WQ=({equationData:e,insights:t=[],isVisible:r=!0,className:n=""})=>{var re;const[i,a]=$.useState(!1),[s,l]=$.useState(null),[c,u]=$.useState(1),[d,f]=$.useState(.7),[h,m]=$.useState(!1),[p,g]=$.useState([]),[v,j]=$.useState(null),[w,S]=$.useState(null),[x,y]=$.useState(!1),b=$.useRef(null),_=$.useRef(null),A=$.useRef(null);$.useEffect(()=>{if("speechSynthesis"in window&&window.speechSynthesis){m(!0);const X=()=>{var Le;const le=((Le=window.speechSynthesis)==null?void 0:Le.getVoices())||[],_e=le.filter(Q=>Q.lang.startsWith("fr")||Q.lang.startsWith("fr-FR"));g(_e.length>0?_e:le.slice(0,5));const Ne=_e.find(Q=>Q.default)||_e[0]||le[0];j(Ne)};X(),window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged=X)}},[]),$.useEffect(()=>()=>{window.speechSynthesis&&window.speechSynthesis.cancel(),_.current&&clearTimeout(_.current)},[]);const O=e||{formula:"Dépenses Weekend × État Émotionnel = Dépassement Mensuel",variables:[{name:"Dépenses Weekend",value:280,unit:"€"},{name:"État Émotionnel",value:6.2,unit:"/10"},{name:"Dépassement Mensuel",value:420,unit:"€"}]},T=t.length>0?t:[{id:1,title:"Dépenses Émotionnelles Détectées",summary:"Vos achats augmentent de 45% les jours de stress élevé",impact:"high"},{id:2,title:"Frais Cachés Identifiés",summary:"47 euros par mois en frais récurrents non-optimisés",impact:"medium"}],P=[{id:"introduction",title:"Introduction",content:"Bonjour ! Voici votre analyse financière personnalisée générée par Rivela."},{id:"equation",title:"Équation Personnalisée",content:`Votre équation financière révèle que : ${O.formula}. 
                   Analysons chaque composant. ${O.variables.map(le=>`${le.name} : ${le.value} ${le.unit}`).join(". ")}.`},{id:"insights",title:"Insights Principaux",content:`Nous avons identifié ${T.length} insights clés. 
                   ${T.map(le=>`${le.title} : ${le.summary}`).join(". ")}.`},{id:"recommendations",title:"Recommandations",content:`Basé sur cette analyse, nous recommandons de surveiller vos dépenses émotionnelles 
                   et d'optimiser vos frais récurrents pour améliorer votre santé financière.`},{id:"conclusion",title:"Conclusion",content:`Cette analyse vous donne les clés pour mieux comprendre vos habitudes financières. 
                   Utilisez ces insights pour prendre des décisions éclairées et atteindre vos objectifs.`}],E=(X,le=null)=>{const Ne={interrupted:'La lecture a été interrompue. Cliquez sur "Reprendre" pour continuer.',canceled:"La lecture a été annulée.","not-allowed":"Permission refusée pour la synthèse vocale.",network:"Erreur réseau. Vérifiez votre connexion.","synthesis-failed":"Échec de la synthèse vocale.","synthesis-unavailable":"Service de synthèse vocale indisponible.","voice-unavailable":"Voix sélectionnée indisponible.","audio-busy":"Audio occupé. Réessayez dans un moment.","audio-hardware":"Problème matériel audio."}[X.error]||`Erreur inconnue: ${X.error}`;S({type:X.error,message:Ne,segmentId:le,canRetry:["interrupted","network","audio-busy"].includes(X.error)}),a(!1),l(null)},M=()=>{S(null),y(!1)},R=()=>{!(w!=null&&w.canRetry)||!A.current||(y(!0),S(null),_.current=setTimeout(()=>{F(A.current,w.segmentId),y(!1)},1e3))},F=(X,le=null)=>{!h||!window.speechSynthesis||(M(),A.current=X,window.speechSynthesis.cancel(),setTimeout(()=>{const _e=new SpeechSynthesisUtterance(X);_e.voice=v,_e.rate=c,_e.volume=d,_e.lang="fr-FR",_e.onstart=()=>{a(!0),l(le),M()},_e.onend=()=>{a(!1),l(null),A.current=null},_e.onerror=Le=>{E(Le,le)};const Ne=()=>{document.hidden&&i?window.speechSynthesis.pause():!document.hidden&&i&&window.speechSynthesis.resume()};document.addEventListener("visibilitychange",Ne),_e.onend=()=>{document.removeEventListener("visibilitychange",Ne),a(!1),l(null),A.current=null},b.current=_e;try{window.speechSynthesis.speak(_e)}catch{E({error:"synthesis-failed"},le)}},100))},D=()=>{window.speechSynthesis&&window.speechSynthesis.cancel(),a(!1),l(null),A.current=null,M(),_.current&&clearTimeout(_.current)},z=()=>{const X=P.map(le=>le.content).join(" ");F(X,"full")},H=X=>{F(X.content,X.id)},W=X=>{var le;if(u(X),i){const _e=(le=b.current)==null?void 0:le.text;_e&&(D(),setTimeout(()=>F(_e,s),100))}},Z=X=>{f(X)},K=X=>{j(X)};return h?r?o.jsxs("div",{className:`glass rounded-xl overflow-hidden ${n}`,children:[o.jsx("div",{className:"p-4 border-b border-border/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-secondary/10 rounded-lg flex items-center justify-center",children:o.jsx(k,{name:"Volume2",size:16,color:"var(--color-secondary)"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-heading font-semibold text-base text-foreground",children:"Synthèse Vocale"}),o.jsx("p",{className:"text-xs text-text-secondary",children:"Écoutez votre analyse financière"})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx(G,{variant:"outline",size:"sm",iconName:i?"Pause":"Play",onClick:i?D:z,disabled:!v,children:i?"Pause":"Écouter"})})]})}),o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsx(St,{children:w&&o.jsx(Ae.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"glass rounded-lg p-3 bg-red-500/5 border border-red-500/20",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(k,{name:"AlertTriangle",size:16,color:"var(--color-red-500)",className:"mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-medium text-red-600",children:"Erreur de synthèse vocale"}),o.jsx("div",{className:"text-xs text-red-500 mt-1",children:w.message})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[w.canRetry&&o.jsx(G,{variant:"outline",size:"sm",iconName:x?"Loader2":"RotateCcw",onClick:R,disabled:x,className:"text-xs border-red-500/20 hover:bg-red-500/10",children:x?"Reprise...":"Reprendre"}),o.jsx(G,{variant:"ghost",size:"sm",iconName:"X",onClick:M,className:"text-red-500 hover:bg-red-500/10"})]})]})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-xs font-medium text-foreground",children:["Vitesse: ",c,"x"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(G,{variant:"outline",size:"sm",onClick:()=>W(Math.max(.5,c-.25)),disabled:c<=.5,children:o.jsx(k,{name:"Minus",size:14})}),o.jsxs("div",{className:"flex-1 text-center text-sm font-medium",children:[c,"x"]}),o.jsx(G,{variant:"outline",size:"sm",onClick:()=>W(Math.min(2,c+.25)),disabled:c>=2,children:o.jsx(k,{name:"Plus",size:14})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-xs font-medium text-foreground",children:["Volume: ",Math.round(d*100),"%"]}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:d,onChange:X=>Z(parseFloat(X.target.value)),className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-medium text-foreground",children:"Voix"}),o.jsx("select",{value:(v==null?void 0:v.name)||"",onChange:X=>{const le=p.find(_e=>_e.name===X.target.value);K(le)},className:"w-full px-3 py-1 text-sm bg-input border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20",children:p.map(X=>o.jsxs("option",{value:X.name,children:[X.name," (",X.lang,")"]},X.name))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium text-sm text-foreground",children:"Écouter par section"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:P.map(X=>o.jsx(G,{variant:s===X.id?"default":"outline",size:"sm",iconName:s===X.id?"Volume2":"Play",iconPosition:"left",onClick:()=>H(X),disabled:!v,className:"justify-start text-xs",children:X.title},X.id))})]}),o.jsx(St,{children:(i||x)&&o.jsx(Ae.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"glass rounded-lg p-3 bg-primary/5",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:x?"animate-spin":"animate-pulse",children:o.jsx(k,{name:x?"Loader2":"Volume2",size:16,color:"var(--color-primary)"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-medium text-primary",children:x?"Reprise en cours...":"Lecture en cours..."}),o.jsx("div",{className:"text-xs text-text-secondary",children:s==="full"?"Analyse complète":(re=P.find(X=>X.id===s))==null?void 0:re.title})]}),o.jsx(G,{variant:"ghost",size:"sm",iconName:"Square",onClick:D,disabled:x,children:"Arrêter"})]})})}),o.jsx("div",{className:"text-xs text-text-secondary bg-muted/50 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(k,{name:"Info",size:14,color:"var(--color-text-secondary)",className:"mt-0.5"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Accessibilité :"})," Cette fonctionnalité utilise la synthèse vocale de votre navigateur pour rendre l'analyse accessible aux personnes malvoyantes ou préférant l'écoute à la lecture."]})]})})]})]}):null:o.jsx("div",{className:`glass rounded-xl p-4 ${n}`,children:o.jsxs("div",{className:"flex items-center space-x-3 text-text-secondary",children:[o.jsx(k,{name:"VolumeX",size:20}),o.jsx("span",{className:"text-sm",children:"La synthèse vocale n'est pas supportée par votre navigateur."})]})})},VQ=()=>{const e=Zr(),[t,r]=$.useState(!1),[n,i]=$.useState(!1),[a,s]=$.useState(!1),[l,c]=$.useState(null),[u,d]=$.useState([]),[f,h]=$.useState("loading"),[m,p]=$.useState(null),g={equation:{formula:"Dépenses Weekend × État Émotionnel = Dépassement Mensuel",variables:[{id:"weekend_spending",name:"Dépenses Weekend",value:280,unit:"€",impact:.85,color:"#EF4444",description:"Moyenne des dépenses de weekend sur 3 mois"},{id:"emotional_state",name:"État Émotionnel",value:6.2,unit:"/10",impact:.72,color:"#F59E0B",description:"Score moyen de stress financier"},{id:"monthly_overage",name:"Dépassement Mensuel",value:420,unit:"€",impact:1,color:"#DC2626",description:"Montant moyen de dépassement budgétaire"}],insights:[{id:1,type:"correlation",strength:.89,message:"Forte corrélation entre stress émotionnel et dépenses impulsives le weekend"},{id:2,type:"pattern",strength:.76,message:"Les dépenses augmentent de 34% quand le stress dépasse 7/10"}]},emotionalProfile:{level:6.2,color:"#F59E0B",trend:"increasing",triggers:["weekend","stress_work","social_pressure"]}};$.useEffect(()=>{(async()=>{h("loading");try{const A={financialData:JSON.parse(localStorage.getItem("rivela_financial_data")||"{}"),spendingPatterns:JSON.parse(localStorage.getItem("rivela_spending_patterns")||"{}"),emotionalState:parseInt(localStorage.getItem("rivela_emotional_state")||"6"),triggers:JSON.parse(localStorage.getItem("rivela_triggers")||'["weekend", "stress_work"]')},O=await JO(A),T=await YO(A);c(O),p({level:A.emotionalState,color:"#F59E0B",trend:"increasing",triggers:A.triggers}),h("revealing"),await new Promise(N=>setTimeout(N,2e3)),h("complete"),d([{id:Date.now(),type:"achievement",title:"Révélation Financière IA !",message:"Votre équation personnalisée révèle des patterns cachés analysés par intelligence artificielle.",details:`Équation générée: ${(O==null?void 0:O.formula)||"Analyse en cours..."}`,action:{label:"Explorer les insights",handler:()=>{var N;(N=document.getElementById("insights-section"))==null||N.scrollIntoView({behavior:"smooth"})}},persistent:!0}])}catch{h("complete"),c(g.equation),p(g.emotionalProfile),d([{id:Date.now(),type:"warning",title:"Mode de démonstration",message:"Utilisation des données de démonstration. Connectez-vous pour une analyse personnalisée.",persistent:!1}])}})()},[]);const v=()=>{r(!t)},j=(_,A)=>{c(O=>({...O,variables:O.variables.map(T=>T.id===_?{...T,value:A}:T)}))},w=_=>{c(A=>({...A,variables:_.variables||A.variables})),d(A=>{var O,T;return[{id:Date.now(),type:"insight",title:"Scénario Appliqué",message:`Le scénario "${_.name}" a été appliqué à votre équation.`,details:`Impact estimé: ${((O=_.impact)==null?void 0:O.balanceChange)>0?"+":""}${(T=_.impact)==null?void 0:T.balanceChange}€/mois`},...A]})},S=_=>{d(A=>[{id:Date.now(),type:"success",title:"Action Planifiée",message:`L'insight "${_.title}" a été ajouté à votre plan d'action.`,action:{label:"Voir le plan",handler:()=>e("/financial-health-dashboard")}},...A])},x=_=>{d(A=>[{id:Date.now(),type:"insight",title:"Insight Communautaire",message:`${_.percentage}% des utilisateurs ont découvert: ${_.title}`,details:`Impact moyen: +${_.averageImpact}€/mois`},...A])},y=_=>{e(_)},b=_=>{d(A=>A.filter(O=>O.id!==_))};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ta,{}),o.jsx(na,{notifications:u,onDismiss:b,position:"top",maxVisible:2,autoHideDelay:8e3}),o.jsxs("main",{className:"pt-16",children:[o.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsx(ra,{currentStep:3,totalSteps:6,variant:"detailed",showLabels:!0})}),o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[o.jsx("h1",{className:"font-heading font-bold text-3xl md:text-4xl text-foreground mb-4",children:"Votre Équation Financière Personnalisée"}),o.jsx("p",{className:"text-lg text-text-secondary max-w-2xl mx-auto",children:"Découvrez les relations mathématiques cachées dans vos habitudes financières et révélez les patterns qui influencent votre situation économique."})]})}),o.jsx(St,{children:f==="loading"&&o.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"glass rounded-2xl p-8 text-center max-w-md",children:[o.jsx("div",{className:"animate-spin mb-4 mx-auto",children:o.jsx(k,{name:"RefreshCw",size:32,color:"var(--color-primary)"})}),o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground mb-2",children:"Analyse en cours..."}),o.jsx("p",{className:"text-text-secondary",children:"Nous analysons vos données pour révéler votre équation personnalisée"})]})})}),o.jsx(St,{children:f!=="loading"&&o.jsx(Ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx(zQ,{equationData:l,isFullscreen:t,onVariableChange:j,emotionalContext:m}),o.jsxs("div",{className:"absolute top-4 right-4 flex flex-col space-y-2",children:[o.jsx(G,{variant:"outline",size:"icon",onClick:v,className:"glass",children:o.jsx(k,{name:t?"Minimize2":"Maximize2",size:20})}),o.jsx(G,{variant:"outline",size:"icon",onClick:()=>i(!0),className:"glass",children:o.jsx(k,{name:"Calculator",size:20})}),o.jsx(G,{variant:"outline",size:"icon",onClick:()=>s(!a),className:"glass",children:o.jsx(k,{name:"Volume2",size:20})})]})]})})})]})}),o.jsx(St,{children:a&&f==="complete"&&o.jsx(Ae.section,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"px-4 sm:px-6 lg:px-8 mb-8",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsx(WQ,{equationData:l,insights:l==null?void 0:l.insights,isVisible:a})})})}),o.jsx("section",{id:"insights-section",className:"px-4 sm:px-6 lg:px-8 py-8 bg-muted/30",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"font-heading font-bold text-2xl md:text-3xl text-foreground mb-4",children:"Insights Neuroscientifiques"}),o.jsx("p",{className:"text-text-secondary max-w-2xl mx-auto",children:"Découvrez les explications scientifiques derrière vos patterns financiers et les actions concrètes pour optimiser votre situation."})]}),o.jsx(BQ,{insights:[],onInsightAction:S})]})})}),o.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-8",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"font-heading font-bold text-2xl md:text-3xl text-foreground mb-4",children:"Communauté Rivela"}),o.jsx("p",{className:"text-text-secondary max-w-2xl mx-auto",children:"Découvrez comment d'autres utilisateurs avec des profils similaires ont transformé leur situation financière."})]}),o.jsx(UQ,{showDetails:!0,onInsightClick:x})]})})}),o.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-8 bg-muted/30",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"font-heading font-bold text-2xl text-foreground mb-4",children:"Prochaines Étapes"}),o.jsx("p",{className:"text-text-secondary",children:"Continuez votre exploration financière avec ces outils avancés."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(Ae.div,{whileHover:{scale:1.02},className:"glass rounded-xl p-6 cursor-pointer",onClick:()=>y("/interactive-scenario-simulator"),children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center",children:o.jsx(k,{name:"TrendingUp",size:24,color:"var(--color-primary)"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Simulateur de Scénarios"}),o.jsx("p",{className:"text-sm text-text-secondary",children:"Explorez différents scénarios financiers"})]})]}),o.jsx("p",{className:"text-text-secondary mb-4",children:"Testez l'impact de différentes décisions financières sur votre équation personnalisée et découvrez les stratégies optimales."}),o.jsxs("div",{className:"flex items-center text-primary text-sm font-medium",children:[o.jsx("span",{children:"Explorer les scénarios"}),o.jsx(k,{name:"ArrowRight",size:16,className:"ml-2"})]})]}),o.jsxs(Ae.div,{whileHover:{scale:1.02},className:"glass rounded-xl p-6 cursor-pointer",onClick:()=>y("/neuroscience-insights-library"),children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-xl flex items-center justify-center",children:o.jsx(k,{name:"Brain",size:24,color:"var(--color-secondary)"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-heading font-semibold text-lg text-foreground",children:"Bibliothèque Neurosciences"}),o.jsx("p",{className:"text-sm text-text-secondary",children:"Approfondissez vos connaissances"})]})]}),o.jsx("p",{className:"text-text-secondary mb-4",children:"Explorez les principes neuroscientifiques qui expliquent vos comportements financiers et apprenez à les optimiser."}),o.jsxs("div",{className:"flex items-center text-secondary text-sm font-medium",children:[o.jsx("span",{children:"Découvrir les insights"}),o.jsx(k,{name:"ArrowRight",size:16,className:"ml-2"})]})]})]})]})})})]}),o.jsx(qQ,{isOpen:n,onClose:()=>i(!1),currentEquation:l,onScenarioChange:w}),o.jsx(St,{children:f==="revealing"&&o.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(30)].map((_,A)=>o.jsx(Ae.div,{className:"absolute w-2 h-2 bg-primary/60 rounded-full",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,scale:0,opacity:0},animate:{scale:[0,1,0],opacity:[0,1,0],y:[null,Math.random()*window.innerHeight]},transition:{duration:2,delay:Math.random()*1,ease:"easeOut"}},A))})})]})},HQ=({data:e,errors:t,onUpdate:r})=>{const[n]=$.useState(["Développeur / Développeuse","Designer / Designeuse","Manager / Manageuse","Consultant / Consultante","Enseignant / Enseignante","Médecin / Médecine","Ingénieur / Ingénieure","Comptable","Avocat / Avocate","Entrepreneur / Entrepreneuse","Étudiant / Étudiante","Retraité / Retraitée","Autre"]),[i,a]=$.useState(!1),s=(u,d)=>{r(f=>({...f,[u]:d}))},l=u=>{s("profession",u),a(!1)},c=n.filter(u=>{var d;return u.toLowerCase().includes(((d=e.profession)==null?void 0:d.toLowerCase())||"")});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(k,{name:"User",size:32,color:"var(--color-primary)"})}),o.jsx("h2",{className:"text-2xl font-bold font-heading text-text-primary mb-2",children:"Informations personnelles"}),o.jsx("p",{className:"text-text-secondary",children:"Renseignez vos informations de base pour personnaliser votre expérience Rivela"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsx(Ie,{type:"text",label:"Nom complet",placeholder:"Prénom Nom",value:e.fullName||"",onChange:u=>s("fullName",u.target.value),error:t.fullName,required:!0,className:"text-lg"})}),o.jsx("div",{children:o.jsx(Ie,{type:"email",label:"Adresse email",placeholder:"votre.email@exemple.com",value:e.email||"",onChange:u=>s("email",u.target.value),error:t.email,required:!0,description:"Utilisé pour les notifications et la récupération de compte"})}),o.jsx("div",{children:o.jsx(Ie,{type:"number",label:"Âge",placeholder:"25",min:"16",max:"100",value:e.age||"",onChange:u=>s("age",parseInt(u.target.value)||""),error:t.age,required:!0,description:"Pour adapter les conseils à votre tranche d'âge"})}),o.jsxs("div",{className:"md:col-span-2 relative",children:[o.jsx(Ie,{type:"text",label:"Profession",placeholder:"Commencez à taper votre profession...",value:e.profession||"",onChange:u=>{s("profession",u.target.value),a(u.target.value.length>0)},onFocus:()=>{var u;return a(((u=e.profession)==null?void 0:u.length)>0)},error:t.profession,required:!0,description:"Votre secteur d'activité nous aide à personnaliser les conseils financiers"}),i&&c.length>0&&o.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 z-50 bg-white border border-border/30 
                          rounded-xl shadow-lg max-h-60 overflow-y-auto glass`,children:c.slice(0,8).map((u,d)=>o.jsx("button",{onClick:()=>l(u),className:"w-full text-left px-4 py-3 hover:bg-primary/5 hover:text-primary transition-colors duration-200 border-b border-border/10 last:border-b-0",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(k,{name:"Briefcase",size:16,color:"var(--color-text-secondary)"}),o.jsx("span",{className:"text-sm",children:u})]})},d))})]})]}),o.jsx("div",{className:"bg-primary/5 border border-primary/20 rounded-xl p-4 mt-8",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(k,{name:"Shield",size:20,color:"var(--color-primary)",className:"mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-primary mb-1",children:"Protection des données"}),o.jsx("p",{className:"text-sm text-text-secondary leading-relaxed",children:"Vos informations personnelles sont chiffrées et ne sont jamais partagées avec des tiers. Elles servent uniquement à personnaliser votre expérience Rivela."})]})]})})]})},GQ=({data:e,errors:t,onUpdate:r})=>{const n=[{id:"epargne",label:"Épargne",icon:"PiggyBank",description:"Constituer une épargne de précaution"},{id:"investissement",label:"Investissement",icon:"TrendingUp",description:"Faire fructifier mon argent"},{id:"remboursement",label:"Remboursement de dettes",icon:"CreditCard",description:"Réduire mes dettes existantes"},{id:"achat_immobilier",label:"Achat immobilier",icon:"Home",description:"Acquérir un bien immobilier"},{id:"retraite",label:"Préparation retraite",icon:"Calendar",description:"Préparer ma future retraite"},{id:"education",label:"Éducation / Formation",icon:"GraduationCap",description:"Financer des études ou formations"},{id:"voyage",label:"Voyages / Loisirs",icon:"Plane",description:"Financer mes projets personnels"},{id:"autre",label:"Autre",icon:"Target",description:"Un objectif spécifique"}],i=[{value:"moins_1500",label:"Moins de 1 500 €"},{value:"1500_2500",label:"1 500 € - 2 500 €"},{value:"2500_4000",label:"2 500 € - 4 000 €"},{value:"4000_6000",label:"4 000 € - 6 000 €"},{value:"6000_plus",label:"Plus de 6 000 €"},{value:"variable",label:"Revenus variables"},{value:"non_renseigne",label:"Préfère ne pas dire"}],a=l=>{const c=e.financialGoals||[],u=c.includes(l)?c.filter(d=>d!==l):[...c,l];r(d=>({...d,financialGoals:u}))},s=l=>{r(c=>({...c,monthlyIncome:l}))};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-secondary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(k,{name:"Target",size:32,color:"var(--color-secondary)"})}),o.jsx("h2",{className:"text-2xl font-bold font-heading text-text-primary mb-2",children:"Objectifs financiers"}),o.jsx("p",{className:"text-text-secondary",children:"Sélectionnez vos principaux objectifs pour recevoir des conseils personnalisés"})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:["Quels sont vos objectifs financiers prioritaires ?",o.jsx("span",{className:"text-sm font-normal text-text-secondary ml-2",children:"(Sélectionnez toutes les réponses applicables)"})]}),t.financialGoals&&o.jsx("div",{className:"mb-4 p-3 bg-error/10 border border-error/20 rounded-lg",children:o.jsx("p",{className:"text-sm text-error",children:t.financialGoals})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(l=>{const c=(e.financialGoals||[]).includes(l.id);return o.jsx("button",{onClick:()=>a(l.id),className:`p-4 rounded-xl border-2 transition-all duration-300 text-left
                  ${c?"border-secondary bg-secondary/10 shadow-glass-hover":"border-border/20 hover:border-secondary/40 hover:bg-secondary/5"}`,children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center
                    ${c?"bg-secondary/20":"bg-muted"}`,children:o.jsx(k,{name:l.icon,size:20,color:c?"var(--color-secondary)":"var(--color-text-secondary)"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-text-primary mb-1",children:l.label}),o.jsx("p",{className:"text-sm text-text-secondary",children:l.description})]}),c&&o.jsx(k,{name:"Check",size:20,color:"var(--color-secondary)"})]})},l.id)})})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:["Revenus mensuels approximatifs",o.jsx("span",{className:"text-sm font-normal text-text-secondary ml-2",children:"(Information confidentielle, utilisée pour personnaliser les conseils)"})]}),t.monthlyIncome&&o.jsx("div",{className:"mb-4 p-3 bg-error/10 border border-error/20 rounded-lg",children:o.jsx("p",{className:"text-sm text-error",children:t.monthlyIncome})}),o.jsx("div",{className:"space-y-3",children:i.map(l=>{const c=e.monthlyIncome===l.value;return o.jsx("button",{onClick:()=>s(l.value),className:`w-full p-4 rounded-xl border transition-all duration-300 text-left
                  ${c?"border-primary bg-primary/10 shadow-glass-hover":"border-border/20 hover:border-primary/40 hover:bg-primary/5"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-4 h-4 rounded-full border-2 transition-all duration-200
                      ${c?"border-primary bg-primary":"border-border/40"}`,children:c&&o.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),o.jsx("span",{className:"font-medium text-text-primary",children:l.label})]}),l.value!=="non_renseigne"&&o.jsx(k,{name:"Euro",size:16,color:"var(--color-text-secondary)"})]})},l.value)})})]}),o.jsx("div",{className:"bg-accent/5 border border-accent/20 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(k,{name:"Lock",size:20,color:"var(--color-accent)",className:"mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-accent mb-1",children:"Confidentialité garantie"}),o.jsx("p",{className:"text-sm text-text-secondary leading-relaxed",children:"Ces informations nous permettent de personnaliser nos recommandations financières. Elles sont strictement confidentielles et ne seront jamais partagées."})]})]})})]})},KQ=({data:e,errors:t,onUpdate:r})=>{const n=[{value:"celibataire",label:"Célibataire",icon:"User",description:"Sans conjoint(e)"},{value:"couple_sans_enfant",label:"En couple sans enfant",icon:"Heart",description:"Marié(e), pacsé(e) ou en concubinage"},{value:"couple_avec_enfants",label:"En couple avec enfant(s)",icon:"Users",description:"Famille avec enfant(s) à charge"},{value:"parent_solo",label:"Parent célibataire",icon:"Baby",description:"Seul(e) avec enfant(s) à charge"},{value:"famille_recomposee",label:"Famille recomposée",icon:"Home",description:"Couple avec enfants de précédentes unions"},{value:"autre",label:"Autre situation",icon:"MoreHorizontal",description:"Situation familiale spécifique"}],i=a=>{r(s=>({...s,familyStatus:a}))};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-accent/10 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(k,{name:"Home",size:32,color:"var(--color-accent)"})}),o.jsx("h2",{className:"text-2xl font-bold font-heading text-text-primary mb-2",children:"Situation familiale"}),o.jsx("p",{className:"text-text-secondary",children:"Votre situation familiale nous aide à adapter nos conseils financiers à votre contexte"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Quelle est votre situation familiale actuelle ?"}),t.familyStatus&&o.jsx("div",{className:"mb-4 p-3 bg-error/10 border border-error/20 rounded-lg",children:o.jsx("p",{className:"text-sm text-error",children:t.familyStatus})}),o.jsx("div",{className:"space-y-4",children:n.map(a=>{const s=e.familyStatus===a.value;return o.jsx("button",{onClick:()=>i(a.value),className:`w-full p-5 rounded-xl border-2 transition-all duration-300 text-left
                  ${s?"border-accent bg-accent/10 shadow-glass-hover":"border-border/20 hover:border-accent/40 hover:bg-accent/5"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center
                      ${s?"bg-accent/20":"bg-muted"}`,children:o.jsx(k,{name:a.icon,size:24,color:s?"var(--color-accent)":"var(--color-text-secondary)"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-text-primary mb-1",children:a.label}),o.jsx("p",{className:"text-sm text-text-secondary",children:a.description})]})]}),o.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center
                    ${s?"border-accent bg-accent":"border-border/40"}`,children:s&&o.jsx(k,{name:"Check",size:16,color:"white"})})]})},a.value)})})]}),o.jsx("div",{className:"bg-muted/50 rounded-xl p-6 border border-border/20",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(k,{name:"Info",size:20,color:"var(--color-primary)",className:"mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-text-primary mb-2",children:"Pourquoi cette information est-elle importante ?"}),o.jsxs("ul",{className:"text-sm text-text-secondary space-y-1 leading-relaxed",children:[o.jsx("li",{children:"• Adapter les stratégies d'épargne selon vos charges familiales"}),o.jsx("li",{children:"• Proposer des solutions d'assurance appropriées"}),o.jsx("li",{children:"• Suggérer des investissements cohérents avec votre situation"}),o.jsx("li",{children:"• Recommander des optimisations fiscales pertinentes"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-success/5 border border-success/20 rounded-xl",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(k,{name:"Lightbulb",size:16,color:"var(--color-success)"}),o.jsx("h5",{className:"font-medium text-success",children:"Conseil famille"})]}),o.jsx("p",{className:"text-sm text-text-secondary",children:"Pensez à inclure vos proches dans vos décisions financières importantes"})]}),o.jsxs("div",{className:"p-4 bg-primary/5 border border-primary/20 rounded-xl",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(k,{name:"Shield",size:16,color:"var(--color-primary)"}),o.jsx("h5",{className:"font-medium text-primary",children:"Sécurité financière"})]}),o.jsx("p",{className:"text-sm text-text-secondary",children:"Adaptez votre épargne de précaution selon votre situation familiale"})]})]})]})},XQ=({data:e,onUpdate:t})=>{var u,d,f,h,m;const[r,n]=$.useState(e.avatar||"default"),i=[{id:"default",name:"Profil par défaut",icon:"User",color:"var(--color-primary)"},{id:"professional",name:"Professionnel",icon:"Briefcase",color:"var(--color-secondary)"},{id:"creative",name:"Créatif",icon:"Palette",color:"var(--color-accent)"},{id:"student",name:"Étudiant",icon:"GraduationCap",color:"var(--color-warning)"},{id:"family",name:"Famille",icon:"Home",color:"var(--color-success)"},{id:"entrepreneur",name:"Entrepreneur",icon:"TrendingUp",color:"var(--color-error)"}],a=p=>{n(p),t(g=>({...g,avatar:p}))},s=p=>{t(g=>({...g,theme:p}))},l=(p,g)=>{t(v=>({...v,notifications:{...v.notifications,[p]:g}}))},c=({id:p,label:g,description:v,checked:j,onChange:w})=>o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-border/20 hover:bg-muted/30 transition-colors duration-200",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-text-primary mb-1",children:g}),o.jsx("p",{className:"text-sm text-text-secondary",children:v})]}),o.jsx("button",{onClick:()=>w(!j),className:`relative w-12 h-6 rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-primary/20
          ${j?"bg-primary":"bg-border/40"}`,children:o.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow-sm transition-transform duration-300
          ${j?"translate-x-6":"translate-x-0.5"}`})})]});return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(k,{name:"Settings",size:32,color:"var(--color-primary)"})}),o.jsx("h2",{className:"text-2xl font-bold font-heading text-text-primary mb-2",children:"Personnalisation du profil"}),o.jsx("p",{className:"text-text-secondary",children:"Personnalisez l'apparence et les préférences de votre compte Rivela"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Choisissez votre avatar"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.map(p=>{const g=r===p.id;return o.jsxs("button",{onClick:()=>a(p.id),className:`p-4 rounded-xl border-2 transition-all duration-300 text-center
                  ${g?"border-primary bg-primary/10 shadow-glass-hover":"border-border/20 hover:border-primary/40 hover:bg-primary/5"}`,children:[o.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3
                  ${g?"bg-primary/20":"bg-muted"}`,children:o.jsx(k,{name:p.icon,size:32,color:g?p.color:"var(--color-text-secondary)"})}),o.jsx("h4",{className:"font-medium text-text-primary text-sm",children:p.name}),g&&o.jsx("div",{className:"mt-2",children:o.jsx(k,{name:"Check",size:16,color:"var(--color-primary)",className:"mx-auto"})})]},p.id)})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Thème d'affichage"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("button",{onClick:()=>s("light"),className:`p-4 rounded-xl border-2 transition-all duration-300 text-left
              ${e.theme==="light"?"border-primary bg-primary/10":"border-border/20 hover:border-primary/40"}`,children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-8 bg-white border border-border/30 rounded-lg flex items-center justify-center",children:o.jsx(k,{name:"Sun",size:16,color:"var(--color-warning)"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-text-primary",children:"Thème clair"}),o.jsx("p",{className:"text-sm text-text-secondary",children:"Interface lumineuse et moderne"})]})]})}),o.jsx("button",{onClick:()=>s("dark"),className:`p-4 rounded-xl border-2 transition-all duration-300 text-left opacity-50 cursor-not-allowed
              ${e.theme==="dark"?"border-primary bg-primary/10":"border-border/20"}`,disabled:!0,children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-8 bg-gray-800 border border-border/30 rounded-lg flex items-center justify-center",children:o.jsx(k,{name:"Moon",size:16,color:"var(--color-text-secondary)"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-text-primary",children:"Thème sombre"}),o.jsx("p",{className:"text-sm text-text-secondary",children:"Bientôt disponible"})]})]})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Préférences de notification"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(c,{id:"email",label:"Notifications par email",description:"Recevez des insights et conseils personnalisés par email",checked:((u=e.notifications)==null?void 0:u.email)||!1,onChange:p=>l("email",p)}),o.jsx(c,{id:"push",label:"Notifications push",description:"Alertes et rappels directement dans votre navigateur",checked:((d=e.notifications)==null?void 0:d.push)||!1,onChange:p=>l("push",p)}),o.jsx(c,{id:"weekly",label:"Résumé hebdomadaire",description:"Rapport hebdomadaire de votre santé financière",checked:((f=e.notifications)==null?void 0:f.weekly)||!1,onChange:p=>l("weekly",p)})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-secondary/5 rounded-xl p-6 border border-border/20",children:[o.jsx("h4",{className:"font-semibold text-text-primary mb-4",children:"Aperçu de votre profil"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center",children:o.jsx(k,{name:((h=i.find(p=>p.id===r))==null?void 0:h.icon)||"User",size:32,color:"var(--color-primary)"})}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-text-primary text-lg",children:e.fullName?`Bonjour, ${e.fullName.split(" ")[0]} !`:"Bonjour !"}),o.jsxs("p",{className:"text-text-secondary",children:[e.profession||"Profession non renseignée"," • ",e.age?`${e.age} ans`:"Âge non renseigné"]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx(k,{name:"Target",size:16,color:"var(--color-secondary)"}),o.jsxs("span",{className:"text-sm text-text-secondary",children:[((m=e.financialGoals)==null?void 0:m.length)||0," objectif(s) financier(s)"]})]})]})]})]}),o.jsx("div",{className:"bg-success/5 border border-success/20 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(k,{name:"CheckCircle",size:20,color:"var(--color-success)",className:"mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-success mb-1",children:"Profil prêt !"}),o.jsx("p",{className:"text-sm text-text-secondary leading-relaxed",children:"Votre profil Rivela est maintenant configuré. Vous pouvez modifier ces paramètres à tout moment depuis les paramètres de votre compte."})]})]})})]})},YQ=()=>{const e=Zr(),[t,r]=$.useState(1),[n,i]=$.useState({fullName:"",email:"",age:"",profession:"",financialGoals:[],monthlyIncome:"",familyStatus:"",avatar:"",theme:"light",notifications:{email:!0,push:!1,weekly:!0}}),[a,s]=$.useState({}),[l,c]=$.useState(!1),[u,d]=$.useState([]),f=4;$.useEffect(()=>{const y=localStorage.getItem("rivela_user_profile");if(y)try{const _=JSON.parse(y);i({...n,..._})}catch{}localStorage.getItem("rivela_profile_setup_complete")||d([{id:"welcome_setup",type:"insight",title:"Créez votre profil Rivela",message:"Personnalisez votre expérience en renseignant vos informations personnelles et objectifs financiers.",persistent:!0}])},[]);const h=y=>{localStorage.setItem("rivela_user_profile",JSON.stringify(y))},m=(y,b)=>{const _={...n,[y]:b};i(_),h(_)},p=()=>{var b,_,A,O;let y={};switch(t){case 1:(b=n.fullName)!=null&&b.trim()||(y.fullName="Le nom complet est requis"),(_=n.email)!=null&&_.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(y.email="Format d'email invalide"):y.email="L'email est requis",(!n.age||n.age<16||n.age>100)&&(y.age="L'âge doit être entre 16 et 100 ans"),(A=n.profession)!=null&&A.trim()||(y.profession="La profession est requise");break;case 2:((O=n.financialGoals)==null?void 0:O.length)===0&&(y.financialGoals="Sélectionnez au moins un objectif financier"),n.monthlyIncome||(y.monthlyIncome="Renseignez votre tranche de revenus approximative");break;case 3:n.familyStatus||(y.familyStatus="Sélectionnez votre situation familiale");break}return s(y),Object.keys(y).length===0},g=()=>{p()&&(t<f?(r(t+1),s({})):j())},v=()=>{t>1&&(r(t-1),s({}))},j=async()=>{c(!0);try{await new Promise(y=>setTimeout(y,1500)),localStorage.setItem("rivela_profile_setup_complete","true"),h(n),d([{id:"profile_saved",type:"success",title:"Profil sauvegardé !",message:`Bienvenue ${n.fullName} ! Votre profil a été créé avec succès.`,action:{label:"Continuer",handler:()=>e("/financial-question-input")}}])}catch{d([{id:"save_error",type:"error",title:"Erreur de sauvegarde",message:"Une erreur est survenue lors de la sauvegarde. Veuillez réessayer."}])}finally{c(!1)}},w=y=>{d(b=>b.filter(_=>_.id!==y))},S=()=>{switch(t){case 1:return o.jsx(HQ,{data:n,errors:a,onChange:y=>m("personalInfo",y),onUpdate:i});case 2:return o.jsx(GQ,{data:n,errors:a,onChange:y=>m("financialGoals",y),onUpdate:i});case 3:return o.jsx(KQ,{data:n,errors:a,onChange:y=>m("familyStatus",y),onUpdate:i});case 4:return o.jsx(XQ,{data:n,onChange:y=>m("customization",y),onUpdate:i});default:return null}},x=()=>({1:"Informations personnelles",2:"Objectifs financiers",3:"Situation familiale",4:"Personnalisation du profil"})[t];return o.jsxs(o.Fragment,{children:[o.jsxs(nl,{children:[o.jsx("title",{children:"Configuration du Profil - Rivela Financial Explorer"}),o.jsx("meta",{name:"description",content:"Créez votre profil personnalisé Rivela en renseignant vos informations personnelles et objectifs financiers pour une expérience sur-mesure."}),o.jsx("meta",{name:"keywords",content:"profil utilisateur, configuration, informations personnelles, objectifs financiers, Rivela"})]}),o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ta,{}),o.jsxs("main",{className:"pt-16",children:[o.jsx("div",{className:"sticky top-16 z-40 bg-background/80 backdrop-blur-sm border-b border-border/20",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx(ra,{currentStep:t,totalSteps:f,variant:"detailed",labels:["Personnel","Objectifs","Famille","Profil"]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold font-heading text-text-primary mb-4",children:"Créez votre profil"}),o.jsxs("p",{className:"text-lg text-text-secondary leading-relaxed max-w-2xl mx-auto",children:[x()," - Étape ",t," sur ",f]})]}),o.jsx("div",{className:"glass rounded-2xl p-6 md:p-8 border border-border/20 shadow-glass mb-8",children:S()}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[o.jsx("button",{onClick:v,disabled:t===1,className:"order-2 sm:order-1 px-6 py-3 text-text-secondary hover:text-primary disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:t>1?"← Étape précédente":""}),o.jsxs("div",{className:"order-1 sm:order-2 flex gap-3",children:[o.jsx("button",{onClick:()=>e("/financial-question-input"),className:`px-6 py-3 glass rounded-xl border border-border/20 text-text-secondary 
                           hover:text-primary hover:shadow-glass-hover transition-all duration-300`,children:"Passer"}),o.jsxs("button",{onClick:g,disabled:l,className:`px-8 py-3 bg-primary text-white rounded-xl font-medium 
                           hover:bg-primary/90 disabled:opacity-50 transition-all duration-200
                           flex items-center space-x-2`,children:[l&&o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("span",{children:t===f?l?"Sauvegarde...":"Sauvegarder le profil":"Étape suivante →"})]})]})]})]})]}),o.jsx(na,{notifications:u,onDismiss:w,position:"top",maxVisible:2,autoHideDelay:8e3})]})]})},JQ=()=>{const e=Zr(),t=()=>{e("/")};return o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:o.jsxs("div",{className:"text-center max-w-md",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("div",{className:"relative",children:o.jsx("h1",{className:"text-9xl font-bold text-primary opacity-20",children:"404"})})}),o.jsx("h2",{className:"text-2xl font-medium text-onBackground mb-2",children:"Page Not Found"}),o.jsx("p",{className:"text-onBackground/70 mb-8",children:"The page you're looking for doesn't exist. Let's get you back!"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx(G,{variant:"primary",icon:o.jsx(k,{name:"ArrowLeft"}),iconPosition:"left",onClick:()=>window.history.back(),children:"Go Back"}),o.jsx(G,{variant:"outline",icon:o.jsx(k,{name:"Home"}),iconPosition:"left",onClick:t,children:"Back to Home"})]})]})})},QQ=()=>o.jsx(DS,{children:o.jsxs(QS,{children:[o.jsx(JS,{}),o.jsxs(LS,{children:[o.jsx(kr,{path:"/",element:o.jsx(Zx,{})}),o.jsx(kr,{path:"/financial-question-input",element:o.jsx(rP,{})}),o.jsx(kr,{path:"/interactive-scenario-simulator",element:o.jsx(sX,{})}),o.jsx(kr,{path:"/neuroscience-insights-library",element:o.jsx(fX,{})}),o.jsx(kr,{path:"/financial-health-dashboard",element:o.jsx(Zx,{})}),o.jsx(kr,{path:"/financial-data-entry-dashboard",element:o.jsx(VX,{})}),o.jsx(kr,{path:"/personalized-financial-equation-visualization",element:o.jsx(VQ,{})}),o.jsx(kr,{path:"/user-profile-setup",element:o.jsx(YQ,{})}),o.jsx(kr,{path:"*",element:o.jsx(JQ,{})})]})]})});function ZQ(){return o.jsx(QQ,{})}const eZ=document.getElementById("root"),tZ=bb(eZ);tZ.render(o.jsx(ZQ,{}));
//# sourceMappingURL=index-DUQFsHsC.js.map
